{"version":3,"sources":["webpack:///dist/edge_detection/sobel/edge.js","webpack:///webpack/bootstrap 0afbd4f1cd56401ead55","webpack:///./src/edge_detection/sobel/Edge.es6"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","$","jQuery","Edge","_this","this","horizontalWorker","Worker","verticalWorker","canvas1","canvas2","canvas3","canvas4","canvas5","ctx1","getContext","ctx2","ctx3","ctx4","ctx5","mousePosition","x","y","img","Image","src","onload","e","imageLoaded","width","height","drawImage","strokeText","imageData","getImageData","startWorkers","bindEvents","drawIntensityProfile","data","action","type","clearRect","putImageData","hasVerticalData","verticalData","squared","hasHorizontalData","horizontalData","added","math","add","squareRoot","matrix","sqrt","threshold","_data","t","slice","push","Uint8ClampedArray","from","flatten","id","ImageData","datat","idt","postMessage","_this2","onmessage","onMessage","beginPath","moveTo","lineTo","strokeStyle","stroke","_this3","on","mouseMoved","getMousePos","imageRow","row","reshape","Array","subset","index","range","size","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","column","sum","err","return","chart","Highcharts","Chart","renderTo","title","text","yAxis","plotLines","color","legend","enabled","series","lineWidth","marker","remove","addSeries","redrawImage","canvas","evt","rect","getBoundingClientRect","clientX","left","clientY","top"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4BAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAK,EAAA,SAAAK,GAA2C,MAAAA,IAG3CV,EAAAW,EAAA,SAAAR,EAAAS,EAAAC,GACAb,EAAAc,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAb,EAAAoB,EAAA,SAAAhB,GACA,GAAAS,GAAAT,KAAAiB,WACA,WAA2B,MAAAjB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAJ,GAAAW,EAAAE,EAAA,IAAAA,GACAA,GAIAb,EAAAc,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDvB,EAAA0B,EAAA,GAGA1B,IAAA2B,EAAA,KDMM,SAAUvB,EAAQD,EAASH,GAEjC,YAKA,SAAS4B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI9B,GAAI,EAAGA,EAAI8B,EAAMC,OAAQ/B,IAAK,CAAE,GAAIgC,GAAaF,EAAM9B,EAAIgC,GAAWnB,WAAamB,EAAWnB,aAAc,EAAOmB,EAAWpB,cAAe,EAAU,SAAWoB,KAAYA,EAAWC,UAAW,GAAMvB,OAAOC,eAAekB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUP,EAAaU,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBH,EAAYN,UAAWgB,GAAiBC,GAAaR,EAAiBH,EAAaW,GAAqBX,ME3E5hBY,EAAIC,OAEFC,EF+EK,WE7EP,QAAAA,KAAc,GAAAC,GAAAC,IAAAlB,GAAAkB,KAAAF,GACVE,KAAKC,iBAAmB,GAAIC,QAAO,aACnCF,KAAKG,eAAiB,GAAID,QAAO,aAIjCF,KAAKI,QAAUR,EAAE,YAAY,GAI7BI,KAAKK,QAAUT,EAAE,YAAY,GAI7BI,KAAKM,QAAUV,EAAE,YAAY,GAI7BI,KAAKO,QAAUX,EAAE,YAAY,GAI7BI,KAAKQ,QAAUZ,EAAE,YAAY,GAK7BI,KAAKS,KAAOT,KAAKI,QAAQM,WAAW,MAKpCV,KAAKW,KAAOX,KAAKK,QAAQK,WAAW,MAKpCV,KAAKY,KAAOZ,KAAKM,QAAQI,WAAW,MAKpCV,KAAKa,KAAOb,KAAKO,QAAQG,WAAW,MAKpCV,KAAKc,KAAOd,KAAKQ,QAAQE,WAAW,MACpCV,KAAKe,eAAiBC,EAAG,EAAGC,EAAG,KAK/BjB,KAAKkB,IAAM,GAAIC,OACfnB,KAAKkB,IAAIE,IAAM,eACfpB,KAAKkB,IAAIG,OAAS,SAACC,GAAD,MAAOvB,GAAKwB,YAAYD,IFwU9C,MAjPApC,GAAaY,IACTL,IAAK,cACL7B,MAAO,SEtFC0D,GACR,GAAIE,GAAQxB,KAAKkB,IAAIM,MACjBC,EAASzB,KAAKkB,IAAIO,MACtBzB,MAAKI,QAAQoB,MAAQA,EACrBxB,KAAKI,QAAQqB,OAASA,EACtBzB,KAAKK,QAAQmB,MAAQA,EACrBxB,KAAKK,QAAQoB,OAASA,EACtBzB,KAAKM,QAAQkB,MAAQA,EACrBxB,KAAKM,QAAQmB,OAASA,EACtBzB,KAAKO,QAAQiB,MAAQA,EACrBxB,KAAKO,QAAQkB,OAASA,EACtBzB,KAAKQ,QAAQgB,MAAQA,EACrBxB,KAAKQ,QAAQiB,OAASA,EACtBzB,KAAKS,KAAKiB,UAAU1B,KAAKkB,IAAK,EAAG,GACjClB,KAAKW,KAAKgB,WAAW,mBAAoB3B,KAAKI,QAAQoB,MAAQ,EAAGxB,KAAKI,QAAQqB,OAAS,GACvFzB,KAAKW,KAAKgB,WAAW,uBACjB3B,KAAKI,QAAQoB,MAAQ,EACpBxB,KAAKI,QAAQqB,OAAS,EAAK,IAChCzB,KAAKY,KAAKe,WAAW,qBAAsB3B,KAAKI,QAAQoB,MAAQ,EAAGxB,KAAKI,QAAQqB,OAAS,GACzFzB,KAAKY,KAAKe,WAAW,uBACjB3B,KAAKI,QAAQoB,MAAQ,EACpBxB,KAAKI,QAAQqB,OAAS,EAAK,IAChCzB,KAAKa,KAAKc,WAAW,WAAY3B,KAAKI,QAAQoB,MAAQ,EAAGxB,KAAKI,QAAQqB,OAAS,GAC/EzB,KAAKa,KAAKc,WAAW,uBACjB3B,KAAKI,QAAQoB,MAAQ,EACpBxB,KAAKI,QAAQqB,OAAS,EAAK,IAChCzB,KAAKc,KAAKa,WAAW,mBAAoB3B,KAAKI,QAAQoB,MAAQ,EAAGxB,KAAKI,QAAQqB,OAAS,GACvFzB,KAAKc,KAAKa,WAAW,uBACjB3B,KAAKI,QAAQoB,MAAQ,EACpBxB,KAAKI,QAAQqB,OAAS,EAAK,IAKhCzB,KAAK4B,UAAY5B,KAAKS,KAAKoB,aAAa,EAAG,EAAG7B,KAAKI,QAAQoB,MAAOxB,KAAKI,QAAQqB,QAC/EzB,KAAK8B,eACL9B,KAAK+B,aACL/B,KAAKgC,0BFiFLvC,IAAK,YACL7B,MAAO,SE/ED0D,GACN,OAAOA,EAAEW,KAAKC,QACV,IAAK,uBAYD,GAXmB,aAAhBZ,EAAEW,KAAKE,MACNnC,KAAKW,KAAKyB,UAAU,EAAG,EAAGpC,KAAKI,QAAQoB,MAAOxB,KAAKI,QAAQqB,QAC3DzB,KAAKW,KAAK0B,aAAaf,EAAEW,KAAKA,KAAM,EAAG,GACvCjC,KAAKsC,iBAAkB,EACvBtC,KAAKuC,aAAejB,EAAEW,KAAKO,UAE3BxC,KAAKY,KAAKwB,UAAU,EAAG,EAAGpC,KAAKI,QAAQoB,MAAOxB,KAAKI,QAAQqB,QAC3DzB,KAAKY,KAAKyB,aAAaf,EAAEW,KAAKA,KAAM,EAAG,GACvCjC,KAAKyC,mBAAoB,EACzBzC,KAAK0C,eAAiBpB,EAAEW,KAAKO,SAE9BxC,KAAKyC,mBAAqBzC,KAAKsC,gBAAiB,CAI/C,IAAI,GAHAK,GAAQC,KAAKC,IAAI7C,KAAK0C,eAAgB1C,KAAKuC,cAC3CO,EAAaF,KAAKG,OAAOH,KAAKI,KAAKL,IACnCM,KACIhC,EAAI,EAAGA,EAAI6B,EAAWI,MAAM5D,OAAQ2B,IACxC,IAAI,GAAID,GAAI,EAAGA,EAAI8B,EAAWI,MAAMjC,GAAG3B,OAAQ0B,IAAI,CAC/C8B,EAAWI,MAAMjC,GAAGD,GAAG,GAAK,GAC5B,IAAImC,GAAIL,EAAWI,MAAMjC,GAAGD,GAAGoC,OAC5BD,GAAE,IAAM,KACPA,EAAE,GAAK,IACPA,EAAE,GAAK,IACPA,EAAE,GAAK,KAEXF,EAAUI,KAAKF,GAGvB,GAAIlB,GAAOqB,kBAAkBC,KAAKX,KAAKY,QAAQV,EAAWI,QACtDO,EAAK,GAAIC,WAAUzB,EAAMa,EAAWI,MAAM,GAAG5D,OAAQwD,EAAWI,MAAM5D,OAC1EU,MAAKa,KAAKuB,UAAU,EAAG,EAAGpC,KAAKI,QAAQoB,MAAOxB,KAAKI,QAAQqB,QAC3DzB,KAAKa,KAAKwB,aAAaoB,EAAI,EAAG,EAE9B,IAAIE,GAAQL,kBAAkBC,KAAKX,KAAKY,QAAQP,IAC5CW,EAAM,GAAIF,WAAUC,EAAOb,EAAWI,MAAM,GAAG5D,OAAQwD,EAAWI,MAAM5D,OAC5EU,MAAKc,KAAKsB,UAAU,EAAG,EAAGpC,KAAKI,QAAQoB,MAAOxB,KAAKI,QAAQqB,QAC3DzB,KAAKc,KAAKuB,aAAauB,EAAK,EAAG,GAEnC,KAEJ,KAAK,iBACkB,aAAhBtC,EAAEW,KAAKE,KACNnC,KAAKG,eAAe0D,aAChB3B,OAAQ,SACRN,UAAW5B,KAAK4B,UAChBH,OAAQzB,KAAKI,QAAQqB,OACrBD,MAAOxB,KAAKI,QAAQoB,QAGxBxB,KAAKC,iBAAiB4D,aAClB3B,OAAQ,SACRN,UAAW5B,KAAK4B,UAChBH,OAAQzB,KAAKI,QAAQqB,OACrBD,MAAOxB,KAAKI,QAAQoB,YFsFpC/B,IAAK,eACL7B,MAAO,WEhFG,GAAAkG,GAAA9D,IACVA,MAAKC,iBAAiB4D,aAClB3B,OAAQ,eACRC,KAAM,eAGVnC,KAAKG,eAAe0D,aAChB3B,OAAQ,eACRC,KAAM,aAGVnC,KAAKC,iBAAiB8D,UAAY,SAACzC,GAAD,MAAOwC,GAAKE,UAAU1C,IACxDtB,KAAKG,eAAe4D,UAAY,SAACzC,GAAD,MAAOwC,GAAKE,UAAU1C,OFyFtD7B,IAAK,cACL7B,MAAO,WEtFPoC,KAAKS,KAAK2B,UAAU,EAAG,EAAGpC,KAAKI,QAAQoB,MAAOxB,KAAKI,QAAQqB,QAC3DzB,KAAKS,KAAKiB,UAAU1B,KAAKkB,IAAK,EAAG,GACjClB,KAAKS,KAAKwD,YACVjE,KAAKS,KAAKyD,OAAO,EAAGlE,KAAKe,cAAcE,GACvCjB,KAAKS,KAAK0D,OAAOnE,KAAKI,QAAQoB,MAAOxB,KAAKe,cAAcE,GACxDjB,KAAKS,KAAK2D,YAAc,QACxBpE,KAAKS,KAAK4D,YF0FV5E,IAAK,aACL7B,MAAO,WExFE,GAAA0G,GAAAtE,IACTJ,GAAE,YAAY2E,GAAG,YAAa,SAACjD,GAAD,MAAOgD,GAAKE,WAAWlD,QF+FrD7B,IAAK,aACL7B,MAAO,SE7FA0D,GACPtB,KAAKe,cAAgBf,KAAKyE,YAAYzE,KAAKI,QAASkB,GACpDtB,KAAKgC,0BFgGLvC,IAAK,uBACL7B,MAAO,WEzFP,GAAI8G,GAAW1E,KAAKS,KAAKoB,aAAa,EAAG7B,KAAKe,cAAcE,EAAGjB,KAAKI,QAAQoB,MAAO,GAK/EmD,EAAM/B,KAAKG,OAAOH,KAAKgC,QAAQC,MAAMtB,KAAKmB,EAASzC,OAAQ,EAAGyC,EAASlD,MAAO,IAClFmD,GAAM/B,KAAKkC,OAAOH,EAAK/B,KAAKmC,MAAM,EAAGnC,KAAKoC,MAAM,EAAGL,EAAIM,OAAO,IAAKrC,KAAKoC,MAAM,EAAG,IAEjF,IAAI/C,MAbeiD,GAAA,EAAAC,GAAA,EAAAC,MAAAC,EAAA,KAcnB,OAAAC,GAAAC,EAAkBZ,EAAIzB,MAAM,GAA5BsC,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAgC,IAAxBU,GAAwBN,EAAA1H,KAC5BqE,GAAKoB,KAAKT,KAAKiD,IAAID,GAAU,IAfd,MAAAE,GAAAX,GAAA,EAAAC,EAAAU,EAAA,aAAAZ,GAAAK,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAZ,EAAA,KAAAC,IAkBnB,OAA0B,KAAhBpF,KAAKgG,MACXhG,KAAKgG,MAAQ,GAAIC,YAAWC,OACxBF,OACIG,SAAU,iBAEdC,OACIC,KAAM,yBAEVC,OACIC,YACI3I,MAAO,EACP4D,MAAO,EACPgF,MAAO,aAGfC,QACIC,SAAS,GAEbC,QACIlD,GAAI,kBACJ3F,KAAM,cACNmE,KAAMA,EACN2E,UAAY,EACZC,QACIH,SAAU,UAInB,CACH,GAAIC,GAAS3G,KAAKgG,MAAM3H,IAAI,kBACzBsI,IACCA,EAAOG,SAEX9G,KAAKgG,MAAMe,WACPtD,GAAI,kBACJ3F,KAAM,cACNmE,KAAMA,EACN2E,UAAY,EACZC,QACIH,SAAU,KAItB1G,KAAKgH,iBFsHLvH,IAAK,cACL7B,MAAO,SEpHCqJ,EAAQC,GAChB,GAAIC,GAAOF,EAAOG,uBAClB,QACIpG,EAAGkG,EAAIG,QAAUF,EAAKG,KACtBrG,EAAGiG,EAAIK,QAAUJ,EAAKK,SFyHvB1H,IEpHXF,GAAE,iBAAM,IAAIE,MF8HN,SAAUxC,EAAQD,EAASH,GAEjCI,EAAOD,QAAUH,EAAoB","file":"./dist/edge_detection/sobel/edge.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar $ = jQuery;\n\nvar Edge = function () {\n    function Edge() {\n        var _this = this;\n\n        _classCallCheck(this, Edge);\n\n        this.horizontalWorker = new Worker('worker.js');\n        this.verticalWorker = new Worker('worker.js');\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas1 = $(\"#canvas1\")[0];\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas2 = $(\"#canvas2\")[0];\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas3 = $(\"#canvas3\")[0];\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas4 = $(\"#canvas4\")[0];\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas5 = $(\"#canvas5\")[0];\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx1 = this.canvas1.getContext('2d');\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx2 = this.canvas2.getContext('2d');\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx3 = this.canvas3.getContext('2d');\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx4 = this.canvas4.getContext('2d');\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx5 = this.canvas5.getContext('2d');\n        this.mousePosition = { x: 0, y: 100 };\n        /**\n         *\n         * @type {HTMLImageElement}\n         */\n        this.img = new Image();\n        this.img.src = 'Picture1.jpg';\n        this.img.onload = function (e) {\n            return _this.imageLoaded(e);\n        };\n    }\n\n    _createClass(Edge, [{\n        key: 'imageLoaded',\n        value: function imageLoaded(e) {\n            var width = this.img.width;\n            var height = this.img.height;\n            this.canvas1.width = width;\n            this.canvas1.height = height;\n            this.canvas2.width = width;\n            this.canvas2.height = height;\n            this.canvas3.width = width;\n            this.canvas3.height = height;\n            this.canvas4.width = width;\n            this.canvas4.height = height;\n            this.canvas5.width = width;\n            this.canvas5.height = height;\n            this.ctx1.drawImage(this.img, 0, 0);\n            this.ctx2.strokeText('Running Vertical', this.canvas1.width / 2, this.canvas1.height / 2);\n            this.ctx2.strokeText('Sobel Edge Detection', this.canvas1.width / 2, this.canvas1.height / 2 + 15);\n            this.ctx3.strokeText('Running Horizontal', this.canvas1.width / 2, this.canvas1.height / 2);\n            this.ctx3.strokeText('Sobel Edge Detection', this.canvas1.width / 2, this.canvas1.height / 2 + 15);\n            this.ctx4.strokeText('Combined', this.canvas1.width / 2, this.canvas1.height / 2);\n            this.ctx4.strokeText('Sobel Edge Detection', this.canvas1.width / 2, this.canvas1.height / 2 + 15);\n            this.ctx5.strokeText('Threshold >= 100', this.canvas1.width / 2, this.canvas1.height / 2);\n            this.ctx5.strokeText('Sobel Edge Detection', this.canvas1.width / 2, this.canvas1.height / 2 + 15);\n            /**\n             *\n             * @type {ImageData}\n             */\n            this.imageData = this.ctx1.getImageData(0, 0, this.canvas1.width, this.canvas1.height);\n            this.startWorkers();\n            this.bindEvents();\n            this.drawIntensityProfile();\n        }\n    }, {\n        key: 'onMessage',\n        value: function onMessage(e) {\n            switch (e.data.action) {\n                case 'SEND_EDGE_IMAGE_DATA':\n                    if (e.data.type === 'vertical') {\n                        this.ctx2.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n                        this.ctx2.putImageData(e.data.data, 0, 0);\n                        this.hasVerticalData = true;\n                        this.verticalData = e.data.squared;\n                    } else {\n                        this.ctx3.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n                        this.ctx3.putImageData(e.data.data, 0, 0);\n                        this.hasHorizontalData = true;\n                        this.horizontalData = e.data.squared;\n                    }\n                    if (this.hasHorizontalData && this.hasVerticalData) {\n                        var added = math.add(this.horizontalData, this.verticalData);\n                        var squareRoot = math.matrix(math.sqrt(added));\n                        var threshold = [];\n                        for (var y = 0; y < squareRoot._data.length; y++) {\n                            for (var x = 0; x < squareRoot._data[y].length; x++) {\n                                squareRoot._data[y][x][3] = 255;\n                                var t = squareRoot._data[y][x].slice();\n                                if (t[0] >= 50) {\n                                    t[0] = 255;\n                                    t[1] = 255;\n                                    t[2] = 255;\n                                }\n                                threshold.push(t);\n                            }\n                        }\n                        var data = Uint8ClampedArray.from(math.flatten(squareRoot._data));\n                        var id = new ImageData(data, squareRoot._data[0].length, squareRoot._data.length);\n                        this.ctx4.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n                        this.ctx4.putImageData(id, 0, 0);\n\n                        var datat = Uint8ClampedArray.from(math.flatten(threshold));\n                        var idt = new ImageData(datat, squareRoot._data[0].length, squareRoot._data.length);\n                        this.ctx5.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n                        this.ctx5.putImageData(idt, 0, 0);\n                    }\n                    break;\n\n                case 'WORKER_STARTED':\n                    if (e.data.type === 'vertical') {\n                        this.verticalWorker.postMessage({\n                            action: 'DETECT',\n                            imageData: this.imageData,\n                            height: this.canvas1.height,\n                            width: this.canvas1.width\n                        });\n                    } else {\n                        this.horizontalWorker.postMessage({\n                            action: 'DETECT',\n                            imageData: this.imageData,\n                            height: this.canvas1.height,\n                            width: this.canvas1.width\n                        });\n                    }\n                    break;\n            }\n        }\n    }, {\n        key: 'startWorkers',\n        value: function startWorkers() {\n            var _this2 = this;\n\n            this.horizontalWorker.postMessage({\n                action: 'START_WORKER',\n                type: 'horizontal'\n            });\n\n            this.verticalWorker.postMessage({\n                action: 'START_WORKER',\n                type: 'vertical'\n            });\n\n            this.horizontalWorker.onmessage = function (e) {\n                return _this2.onMessage(e);\n            };\n            this.verticalWorker.onmessage = function (e) {\n                return _this2.onMessage(e);\n            };\n        }\n    }, {\n        key: 'redrawImage',\n        value: function redrawImage() {\n            this.ctx1.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n            this.ctx1.drawImage(this.img, 0, 0);\n            this.ctx1.beginPath();\n            this.ctx1.moveTo(0, this.mousePosition.y);\n            this.ctx1.lineTo(this.canvas1.width, this.mousePosition.y);\n            this.ctx1.strokeStyle = 'green';\n            this.ctx1.stroke();\n        }\n    }, {\n        key: 'bindEvents',\n        value: function bindEvents() {\n            var _this3 = this;\n\n            $(\"#canvas1\").on(\"mousemove\", function (e) {\n                return _this3.mouseMoved(e);\n            });\n        }\n    }, {\n        key: 'mouseMoved',\n        value: function mouseMoved(e) {\n            this.mousePosition = this.getMousePos(this.canvas1, e);\n            this.drawIntensityProfile();\n        }\n    }, {\n        key: 'drawIntensityProfile',\n        value: function drawIntensityProfile() {\n            /**\n             *\n             * @type {ImageData}\n             */\n            var imageRow = this.ctx1.getImageData(0, this.mousePosition.y, this.canvas1.width, 1);\n            /**\n             *\n             * @type {DenseMatrix}\n             */\n            var row = math.matrix(math.reshape(Array.from(imageRow.data), [1, imageRow.width, 4]));\n            row = math.subset(row, math.index(0, math.range(0, row.size()[1]), math.range(0, 3)));\n\n            var data = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = row._data[0][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var column = _step.value;\n\n                    data.push(math.sum(column) / 3);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            if (typeof this.chart === \"undefined\") {\n                this.chart = new Highcharts.Chart({\n                    chart: {\n                        renderTo: 'hc_container1'\n                    },\n                    title: {\n                        text: \"Row Intensity Profile\"\n                    },\n                    yAxis: {\n                        plotLines: [{\n                            value: 0,\n                            width: 1,\n                            color: '#808080'\n                        }]\n                    },\n                    legend: {\n                        enabled: false\n                    },\n                    series: {\n                        id: 'the-measurement',\n                        name: 'Measurement',\n                        data: data,\n                        lineWidth: 1,\n                        marker: {\n                            enabled: false\n                        }\n                    }\n                });\n            } else {\n                var series = this.chart.get('the-measurement');\n                if (series) {\n                    series.remove();\n                }\n                this.chart.addSeries({\n                    id: 'the-measurement',\n                    name: 'Measurement',\n                    data: data,\n                    lineWidth: 1,\n                    marker: {\n                        enabled: false\n                    }\n                });\n            }\n            this.redrawImage();\n        }\n    }, {\n        key: 'getMousePos',\n        value: function getMousePos(canvas, evt) {\n            var rect = canvas.getBoundingClientRect();\n            return {\n                x: evt.clientX - rect.left,\n                y: evt.clientY - rect.top\n            };\n        }\n    }]);\n\n    return Edge;\n}();\n\n$(function () {\n    return new Edge();\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyY1xcZWRnZV9kZXRlY3Rpb25cXHNvYmVsXFxFZGdlLmVzNiJdLCJuYW1lcyI6WyIkIiwialF1ZXJ5IiwiRWRnZSIsImhvcml6b250YWxXb3JrZXIiLCJXb3JrZXIiLCJ2ZXJ0aWNhbFdvcmtlciIsImNhbnZhczEiLCJjYW52YXMyIiwiY2FudmFzMyIsImNhbnZhczQiLCJjYW52YXM1IiwiY3R4MSIsImdldENvbnRleHQiLCJjdHgyIiwiY3R4MyIsImN0eDQiLCJjdHg1IiwibW91c2VQb3NpdGlvbiIsIngiLCJ5IiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJlIiwiaW1hZ2VMb2FkZWQiLCJ3aWR0aCIsImhlaWdodCIsImRyYXdJbWFnZSIsInN0cm9rZVRleHQiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJzdGFydFdvcmtlcnMiLCJiaW5kRXZlbnRzIiwiZHJhd0ludGVuc2l0eVByb2ZpbGUiLCJkYXRhIiwiYWN0aW9uIiwidHlwZSIsImNsZWFyUmVjdCIsInB1dEltYWdlRGF0YSIsImhhc1ZlcnRpY2FsRGF0YSIsInZlcnRpY2FsRGF0YSIsInNxdWFyZWQiLCJoYXNIb3Jpem9udGFsRGF0YSIsImhvcml6b250YWxEYXRhIiwiYWRkZWQiLCJtYXRoIiwiYWRkIiwic3F1YXJlUm9vdCIsIm1hdHJpeCIsInNxcnQiLCJ0aHJlc2hvbGQiLCJfZGF0YSIsImxlbmd0aCIsInQiLCJzbGljZSIsInB1c2giLCJVaW50OENsYW1wZWRBcnJheSIsImZyb20iLCJmbGF0dGVuIiwiaWQiLCJJbWFnZURhdGEiLCJkYXRhdCIsImlkdCIsInBvc3RNZXNzYWdlIiwib25tZXNzYWdlIiwib25NZXNzYWdlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJvbiIsIm1vdXNlTW92ZWQiLCJnZXRNb3VzZVBvcyIsImltYWdlUm93Iiwicm93IiwicmVzaGFwZSIsIkFycmF5Iiwic3Vic2V0IiwiaW5kZXgiLCJyYW5nZSIsInNpemUiLCJjb2x1bW4iLCJzdW0iLCJjaGFydCIsIkhpZ2hjaGFydHMiLCJDaGFydCIsInJlbmRlclRvIiwidGl0bGUiLCJ0ZXh0IiwieUF4aXMiLCJwbG90TGluZXMiLCJ2YWx1ZSIsImNvbG9yIiwibGVnZW5kIiwiZW5hYmxlZCIsInNlcmllcyIsIm5hbWUiLCJsaW5lV2lkdGgiLCJtYXJrZXIiLCJnZXQiLCJyZW1vdmUiLCJhZGRTZXJpZXMiLCJyZWRyYXdJbWFnZSIsImNhbnZhcyIsImV2dCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLElBQUlDLE1BQVI7O0lBRU1DLEk7QUFFRixvQkFBYztBQUFBOztBQUFBOztBQUNWLGFBQUtDLGdCQUFMLEdBQXdCLElBQUlDLE1BQUosQ0FBVyxXQUFYLENBQXhCO0FBQ0EsYUFBS0MsY0FBTCxHQUFzQixJQUFJRCxNQUFKLENBQVcsV0FBWCxDQUF0QjtBQUNBOzs7QUFHQSxhQUFLRSxPQUFMLEdBQWVOLEVBQUUsVUFBRixFQUFjLENBQWQsQ0FBZjtBQUNBOzs7QUFHQSxhQUFLTyxPQUFMLEdBQWVQLEVBQUUsVUFBRixFQUFjLENBQWQsQ0FBZjtBQUNBOzs7QUFHQSxhQUFLUSxPQUFMLEdBQWVSLEVBQUUsVUFBRixFQUFjLENBQWQsQ0FBZjtBQUNBOzs7QUFHQSxhQUFLUyxPQUFMLEdBQWVULEVBQUUsVUFBRixFQUFjLENBQWQsQ0FBZjtBQUNBOzs7QUFHQSxhQUFLVSxPQUFMLEdBQWVWLEVBQUUsVUFBRixFQUFjLENBQWQsQ0FBZjtBQUNBOzs7O0FBSUEsYUFBS1csSUFBTCxHQUFZLEtBQUtMLE9BQUwsQ0FBYU0sVUFBYixDQUF3QixJQUF4QixDQUFaO0FBQ0E7Ozs7QUFJQSxhQUFLQyxJQUFMLEdBQVksS0FBS04sT0FBTCxDQUFhSyxVQUFiLENBQXdCLElBQXhCLENBQVo7QUFDQTs7OztBQUlBLGFBQUtFLElBQUwsR0FB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LEtBQUtaLEtBQUwsQ0FBV2dCLEdBQVgsQ0FBZSxpQkFBZixDQUFiO0FBQ0Esb0JBQUdKLE1BQUgsRUFBVTtBQUNOQSwyQkFBT0ssTUFBUDtBQUNIO0FBQ0QscUJBQUtqQixLQUFMLENBQVdrQixTQUFYLENBQXFCO0FBQ2pCM0Msd0JBQUksaUJBRGE7QUFFakJzQywwQkFBTSxhQUZXO0FBR2pCL0QsMEJBQU1BLElBSFc7QUFJakJnRSwrQkFBWSxDQUpLO0FBS2pCQyw0QkFBUztBQUNMSixpQ0FBVTtBQURMO0FBTFEsaUJBQXJCO0FBU0g7QUFDRCxpQkFBS1EsV0FBTDtBQUNIOzs7b0NBRVdDLE0sRUFBUUMsRyxFQUFLO0FBQ3JCLGdCQUFJQyxPQUFPRixPQUFPRyxxQkFBUCxFQUFYO0FBQ0EsbUJBQU87QUFDSDFGLG1CQUFHd0YsSUFBSUcsT0FBSixHQUFjRixLQUFLRyxJQURuQjtBQUVIM0YsbUJBQUd1RixJQUFJSyxPQUFKLEdBQWNKLEtBQUtLO0FBRm5CLGFBQVA7QUFJSDs7Ozs7O0FBR0xoSCxFQUFFO0FBQUEsV0FBTSxJQUFJRSxJQUFKLEVBQU47QUFBQSxDQUFGIiwiZmlsZSI6IkVkZ2UuZXM2Iiwic291cmNlUm9vdCI6IkM6L1VzZXJzL3JpY2gvUGhwc3Rvcm1Qcm9qZWN0cy9qc2FsZ29zIiwic291cmNlc0NvbnRlbnQiOlsibGV0ICQgPSBqUXVlcnk7XG5cbmNsYXNzIEVkZ2Uge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbFdvcmtlciA9IG5ldyBXb3JrZXIoJ3dvcmtlci5qcycpO1xuICAgICAgICB0aGlzLnZlcnRpY2FsV29ya2VyID0gbmV3IFdvcmtlcignd29ya2VyLmpzJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhczEgPSAkKFwiI2NhbnZhczFcIilbMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhczIgPSAkKFwiI2NhbnZhczJcIilbMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhczMgPSAkKFwiI2NhbnZhczNcIilbMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhczQgPSAkKFwiI2NhbnZhczRcIilbMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhczUgPSAkKFwiI2NhbnZhczVcIilbMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdHgxID0gdGhpcy5jYW52YXMxLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdHgyID0gdGhpcy5jYW52YXMyLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdHgzID0gdGhpcy5jYW52YXMzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdHg0ID0gdGhpcy5jYW52YXM0LmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdHg1ID0gdGhpcy5jYW52YXM1LmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMubW91c2VQb3NpdGlvbiA9IHt4OiAwLCB5OiAxMDB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB0aGlzLmltZy5zcmMgPSAnUGljdHVyZTEuanBnJztcbiAgICAgICAgdGhpcy5pbWcub25sb2FkID0gKGUpID0+IHRoaXMuaW1hZ2VMb2FkZWQoZSk7XG4gICAgfVxuXG4gICAgaW1hZ2VMb2FkZWQoZSkge1xuICAgICAgICBsZXQgd2lkdGggPSB0aGlzLmltZy53aWR0aDtcbiAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMuaW1nLmhlaWdodDtcbiAgICAgICAgdGhpcy5jYW52YXMxLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzMS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FudmFzMi53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhczIuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbnZhczMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5jYW52YXMzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5jYW52YXM0LndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzNC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FudmFzNS53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhczUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmN0eDEuZHJhd0ltYWdlKHRoaXMuaW1nLCAwLCAwKTtcbiAgICAgICAgdGhpcy5jdHgyLnN0cm9rZVRleHQoJ1J1bm5pbmcgVmVydGljYWwnLCB0aGlzLmNhbnZhczEud2lkdGggLyAyLCB0aGlzLmNhbnZhczEuaGVpZ2h0IC8gMik7XG4gICAgICAgIHRoaXMuY3R4Mi5zdHJva2VUZXh0KCdTb2JlbCBFZGdlIERldGVjdGlvbicsXG4gICAgICAgICAgICB0aGlzLmNhbnZhczEud2lkdGggLyAyLFxuICAgICAgICAgICAgKHRoaXMuY2FudmFzMS5oZWlnaHQgLyAyKSArIDE1KTtcbiAgICAgICAgdGhpcy5jdHgzLnN0cm9rZVRleHQoJ1J1bm5pbmcgSG9yaXpvbnRhbCcsIHRoaXMuY2FudmFzMS53aWR0aCAvIDIsIHRoaXMuY2FudmFzMS5oZWlnaHQgLyAyKTtcbiAgICAgICAgdGhpcy5jdHgzLnN0cm9rZVRleHQoJ1NvYmVsIEVkZ2UgRGV0ZWN0aW9uJyxcbiAgICAgICAgICAgIHRoaXMuY2FudmFzMS53aWR0aCAvIDIsXG4gICAgICAgICAgICAodGhpcy5jYW52YXMxLmhlaWdodCAvIDIpICsgMTUpO1xuICAgICAgICB0aGlzLmN0eDQuc3Ryb2tlVGV4dCgnQ29tYmluZWQnLCB0aGlzLmNhbnZhczEud2lkdGggLyAyLCB0aGlzLmNhbnZhczEuaGVpZ2h0IC8gMik7XG4gICAgICAgIHRoaXMuY3R4NC5zdHJva2VUZXh0KCdTb2JlbCBFZGdlIERldGVjdGlvbicsXG4gICAgICAgICAgICB0aGlzLmNhbnZhczEud2lkdGggLyAyLFxuICAgICAgICAgICAgKHRoaXMuY2FudmFzMS5oZWlnaHQgLyAyKSArIDE1KTtcbiAgICAgICAgdGhpcy5jdHg1LnN0cm9rZVRleHQoJ1RocmVzaG9sZCA+PSAxMDAnLCB0aGlzLmNhbnZhczEud2lkdGggLyAyLCB0aGlzLmNhbnZhczEuaGVpZ2h0IC8gMik7XG4gICAgICAgIHRoaXMuY3R4NS5zdHJva2VUZXh0KCdTb2JlbCBFZGdlIERldGVjdGlvbicsXG4gICAgICAgICAgICB0aGlzLmNhbnZhczEud2lkdGggLyAyLFxuICAgICAgICAgICAgKHRoaXMuY2FudmFzMS5oZWlnaHQgLyAyKSArIDE1KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtJbWFnZURhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmltYWdlRGF0YSA9IHRoaXMuY3R4MS5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy5jYW52YXMxLndpZHRoLCB0aGlzLmNhbnZhczEuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zdGFydFdvcmtlcnMoKTtcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuZHJhd0ludGVuc2l0eVByb2ZpbGUoKTtcbiAgICB9XG5cbiAgICBvbk1lc3NhZ2UoZSkge1xuICAgICAgICBzd2l0Y2goZS5kYXRhLmFjdGlvbikge1xuICAgICAgICAgICAgY2FzZSAnU0VORF9FREdFX0lNQUdFX0RBVEEnOlxuICAgICAgICAgICAgICAgIGlmKGUuZGF0YS50eXBlID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4Mi5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMxLndpZHRoLCB0aGlzLmNhbnZhczEuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgyLnB1dEltYWdlRGF0YShlLmRhdGEuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzVmVydGljYWxEYXRhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbERhdGEgPSBlLmRhdGEuc3F1YXJlZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eDMuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzMS53aWR0aCwgdGhpcy5jYW52YXMxLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4My5wdXRJbWFnZURhdGEoZS5kYXRhLmRhdGEsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0hvcml6b250YWxEYXRhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsRGF0YSA9IGUuZGF0YS5zcXVhcmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih0aGlzLmhhc0hvcml6b250YWxEYXRhICYmIHRoaXMuaGFzVmVydGljYWxEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhZGRlZCA9IG1hdGguYWRkKHRoaXMuaG9yaXpvbnRhbERhdGEsIHRoaXMudmVydGljYWxEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNxdWFyZVJvb3QgPSBtYXRoLm1hdHJpeChtYXRoLnNxcnQoYWRkZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRocmVzaG9sZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHkgPSAwOyB5IDwgc3F1YXJlUm9vdC5fZGF0YS5sZW5ndGg7IHkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHggPSAwOyB4IDwgc3F1YXJlUm9vdC5fZGF0YVt5XS5sZW5ndGg7IHgrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3F1YXJlUm9vdC5fZGF0YVt5XVt4XVszXSA9IDI1NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdCA9IHNxdWFyZVJvb3QuX2RhdGFbeV1beF0uc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0WzBdID49IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbMF0gPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbMV0gPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbMl0gPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZC5wdXNoKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gVWludDhDbGFtcGVkQXJyYXkuZnJvbShtYXRoLmZsYXR0ZW4oc3F1YXJlUm9vdC5fZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBuZXcgSW1hZ2VEYXRhKGRhdGEsIHNxdWFyZVJvb3QuX2RhdGFbMF0ubGVuZ3RoLCBzcXVhcmVSb290Ll9kYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4NC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMxLndpZHRoLCB0aGlzLmNhbnZhczEuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHg0LnB1dEltYWdlRGF0YShpZCwgMCwgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGF0ID0gVWludDhDbGFtcGVkQXJyYXkuZnJvbShtYXRoLmZsYXR0ZW4odGhyZXNob2xkKSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpZHQgPSBuZXcgSW1hZ2VEYXRhKGRhdGF0LCBzcXVhcmVSb290Ll9kYXRhWzBdLmxlbmd0aCwgc3F1YXJlUm9vdC5fZGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eDUuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzMS53aWR0aCwgdGhpcy5jYW52YXMxLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4NS5wdXRJbWFnZURhdGEoaWR0LCAwLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ1dPUktFUl9TVEFSVEVEJzpcbiAgICAgICAgICAgICAgICBpZihlLmRhdGEudHlwZSA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ0RFVEVDVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGE6IHRoaXMuaW1hZ2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmNhbnZhczEuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuY2FudmFzMS53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvcml6b250YWxXb3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnREVURUNUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGF0YTogdGhpcy5pbWFnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2FudmFzMS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5jYW52YXMxLndpZHRoXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0V29ya2Vycygpe1xuICAgICAgICB0aGlzLmhvcml6b250YWxXb3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgYWN0aW9uOiAnU1RBUlRfV09SS0VSJyxcbiAgICAgICAgICAgIHR5cGU6ICdob3Jpem9udGFsJ1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZlcnRpY2FsV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ1NUQVJUX1dPUktFUicsXG4gICAgICAgICAgICB0eXBlOiAndmVydGljYWwnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbFdvcmtlci5vbm1lc3NhZ2UgPSAoZSkgPT4gdGhpcy5vbk1lc3NhZ2UoZSk7XG4gICAgICAgIHRoaXMudmVydGljYWxXb3JrZXIub25tZXNzYWdlID0gKGUpID0+IHRoaXMub25NZXNzYWdlKGUpO1xuICAgIH1cblxuICAgIHJlZHJhd0ltYWdlKCkge1xuICAgICAgICB0aGlzLmN0eDEuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzMS53aWR0aCwgdGhpcy5jYW52YXMxLmhlaWdodCk7XG4gICAgICAgIHRoaXMuY3R4MS5kcmF3SW1hZ2UodGhpcy5pbWcsIDAsIDApO1xuICAgICAgICB0aGlzLmN0eDEuYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY3R4MS5tb3ZlVG8oMCwgdGhpcy5tb3VzZVBvc2l0aW9uLnkpO1xuICAgICAgICB0aGlzLmN0eDEubGluZVRvKHRoaXMuY2FudmFzMS53aWR0aCwgdGhpcy5tb3VzZVBvc2l0aW9uLnkpO1xuICAgICAgICB0aGlzLmN0eDEuc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xuICAgICAgICB0aGlzLmN0eDEuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgYmluZEV2ZW50cygpIHtcbiAgICAgICAgJChcIiNjYW52YXMxXCIpLm9uKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB0aGlzLm1vdXNlTW92ZWQoZSkpO1xuICAgIH1cblxuICAgIG1vdXNlTW92ZWQoZSkge1xuICAgICAgICB0aGlzLm1vdXNlUG9zaXRpb24gPSB0aGlzLmdldE1vdXNlUG9zKHRoaXMuY2FudmFzMSwgZSk7XG4gICAgICAgIHRoaXMuZHJhd0ludGVuc2l0eVByb2ZpbGUoKTtcbiAgICB9XG5cbiAgICBkcmF3SW50ZW5zaXR5UHJvZmlsZSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtJbWFnZURhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgaW1hZ2VSb3cgPSB0aGlzLmN0eDEuZ2V0SW1hZ2VEYXRhKDAsIHRoaXMubW91c2VQb3NpdGlvbi55LCB0aGlzLmNhbnZhczEud2lkdGgsIDEpO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0RlbnNlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IHJvdyA9IG1hdGgubWF0cml4KG1hdGgucmVzaGFwZShBcnJheS5mcm9tKGltYWdlUm93LmRhdGEpLCBbMSwgaW1hZ2VSb3cud2lkdGgsIDRdKSk7XG4gICAgICAgIHJvdyA9IG1hdGguc3Vic2V0KHJvdywgbWF0aC5pbmRleCgwLCBtYXRoLnJhbmdlKDAsIHJvdy5zaXplKClbMV0pLCBtYXRoLnJhbmdlKDAsIDMpKSk7XG5cbiAgICAgICAgbGV0IGRhdGEgPSBbXTtcbiAgICAgICAgZm9yKGxldCBjb2x1bW4gb2Ygcm93Ll9kYXRhWzBdKSB7XG4gICAgICAgICAgICBkYXRhLnB1c2gobWF0aC5zdW0oY29sdW1uKSAvIDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodHlwZW9mKHRoaXMuY2hhcnQpID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0ID0gbmV3IEhpZ2hjaGFydHMuQ2hhcnQoe1xuICAgICAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclRvOiAnaGNfY29udGFpbmVyMSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiUm93IEludGVuc2l0eSBQcm9maWxlXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHlBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIHBsb3RMaW5lczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM4MDgwODAnXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlcmllczoge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ3RoZS1tZWFzdXJlbWVudCcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdNZWFzdXJlbWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA6IDEsXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlciA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc2VyaWVzID0gdGhpcy5jaGFydC5nZXQoJ3RoZS1tZWFzdXJlbWVudCcpO1xuICAgICAgICAgICAgaWYoc2VyaWVzKXtcbiAgICAgICAgICAgICAgICBzZXJpZXMucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LmFkZFNlcmllcyh7XG4gICAgICAgICAgICAgICAgaWQ6ICd0aGUtbWVhc3VyZW1lbnQnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdNZWFzdXJlbWVudCcsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggOiAxLFxuICAgICAgICAgICAgICAgIG1hcmtlciA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZCA6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWRyYXdJbWFnZSgpO1xuICAgIH1cblxuICAgIGdldE1vdXNlUG9zKGNhbnZhcywgZXZ0KSB7XG4gICAgICAgIGxldCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogZXZ0LmNsaWVudFggLSByZWN0LmxlZnQsXG4gICAgICAgICAgICB5OiBldnQuY2xpZW50WSAtIHJlY3QudG9wXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4kKCgpID0+IG5ldyBFZGdlKCkpOyJdfQ==\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/edge_detection/sobel/edge.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0afbd4f1cd56401ead55","let $ = jQuery;\n\nclass Edge {\n\n    constructor() {\n        this.horizontalWorker = new Worker('worker.js');\n        this.verticalWorker = new Worker('worker.js');\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas1 = $(\"#canvas1\")[0];\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas2 = $(\"#canvas2\")[0];\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas3 = $(\"#canvas3\")[0];\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas4 = $(\"#canvas4\")[0];\n        /**\n         * @type {HTMLCanvasElement}\n         */\n        this.canvas5 = $(\"#canvas5\")[0];\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx1 = this.canvas1.getContext('2d');\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx2 = this.canvas2.getContext('2d');\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx3 = this.canvas3.getContext('2d');\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx4 = this.canvas4.getContext('2d');\n        /**\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.ctx5 = this.canvas5.getContext('2d');\n        this.mousePosition = {x: 0, y: 100};\n        /**\n         *\n         * @type {HTMLImageElement}\n         */\n        this.img = new Image();\n        this.img.src = 'Picture1.jpg';\n        this.img.onload = (e) => this.imageLoaded(e);\n    }\n\n    imageLoaded(e) {\n        let width = this.img.width;\n        let height = this.img.height;\n        this.canvas1.width = width;\n        this.canvas1.height = height;\n        this.canvas2.width = width;\n        this.canvas2.height = height;\n        this.canvas3.width = width;\n        this.canvas3.height = height;\n        this.canvas4.width = width;\n        this.canvas4.height = height;\n        this.canvas5.width = width;\n        this.canvas5.height = height;\n        this.ctx1.drawImage(this.img, 0, 0);\n        this.ctx2.strokeText('Running Vertical', this.canvas1.width / 2, this.canvas1.height / 2);\n        this.ctx2.strokeText('Sobel Edge Detection',\n            this.canvas1.width / 2,\n            (this.canvas1.height / 2) + 15);\n        this.ctx3.strokeText('Running Horizontal', this.canvas1.width / 2, this.canvas1.height / 2);\n        this.ctx3.strokeText('Sobel Edge Detection',\n            this.canvas1.width / 2,\n            (this.canvas1.height / 2) + 15);\n        this.ctx4.strokeText('Combined', this.canvas1.width / 2, this.canvas1.height / 2);\n        this.ctx4.strokeText('Sobel Edge Detection',\n            this.canvas1.width / 2,\n            (this.canvas1.height / 2) + 15);\n        this.ctx5.strokeText('Threshold >= 100', this.canvas1.width / 2, this.canvas1.height / 2);\n        this.ctx5.strokeText('Sobel Edge Detection',\n            this.canvas1.width / 2,\n            (this.canvas1.height / 2) + 15);\n        /**\n         *\n         * @type {ImageData}\n         */\n        this.imageData = this.ctx1.getImageData(0, 0, this.canvas1.width, this.canvas1.height);\n        this.startWorkers();\n        this.bindEvents();\n        this.drawIntensityProfile();\n    }\n\n    onMessage(e) {\n        switch(e.data.action) {\n            case 'SEND_EDGE_IMAGE_DATA':\n                if(e.data.type === 'vertical') {\n                    this.ctx2.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n                    this.ctx2.putImageData(e.data.data, 0, 0);\n                    this.hasVerticalData = true;\n                    this.verticalData = e.data.squared;\n                } else {\n                    this.ctx3.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n                    this.ctx3.putImageData(e.data.data, 0, 0);\n                    this.hasHorizontalData = true;\n                    this.horizontalData = e.data.squared;\n                }\n                if(this.hasHorizontalData && this.hasVerticalData) {\n                    let added = math.add(this.horizontalData, this.verticalData);\n                    let squareRoot = math.matrix(math.sqrt(added));\n                    let threshold = [];\n                    for(let y = 0; y < squareRoot._data.length; y++){\n                        for(let x = 0; x < squareRoot._data[y].length; x++){\n                            squareRoot._data[y][x][3] = 255;\n                            let t = squareRoot._data[y][x].slice();\n                            if(t[0] >= 50) {\n                                t[0] = 255;\n                                t[1] = 255;\n                                t[2] = 255;\n                            }\n                            threshold.push(t);\n                        }\n                    }\n                    let data = Uint8ClampedArray.from(math.flatten(squareRoot._data));\n                    let id = new ImageData(data, squareRoot._data[0].length, squareRoot._data.length);\n                    this.ctx4.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n                    this.ctx4.putImageData(id, 0, 0);\n\n                    let datat = Uint8ClampedArray.from(math.flatten(threshold));\n                    let idt = new ImageData(datat, squareRoot._data[0].length, squareRoot._data.length);\n                    this.ctx5.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n                    this.ctx5.putImageData(idt, 0, 0);\n                }\n                break;\n\n            case 'WORKER_STARTED':\n                if(e.data.type === 'vertical') {\n                    this.verticalWorker.postMessage({\n                        action: 'DETECT',\n                        imageData: this.imageData,\n                        height: this.canvas1.height,\n                        width: this.canvas1.width\n                    });\n                } else {\n                    this.horizontalWorker.postMessage({\n                        action: 'DETECT',\n                        imageData: this.imageData,\n                        height: this.canvas1.height,\n                        width: this.canvas1.width\n                    });\n                }\n                break;\n        }\n    }\n\n    startWorkers(){\n        this.horizontalWorker.postMessage({\n            action: 'START_WORKER',\n            type: 'horizontal'\n        });\n\n        this.verticalWorker.postMessage({\n            action: 'START_WORKER',\n            type: 'vertical'\n        });\n\n        this.horizontalWorker.onmessage = (e) => this.onMessage(e);\n        this.verticalWorker.onmessage = (e) => this.onMessage(e);\n    }\n\n    redrawImage() {\n        this.ctx1.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\n        this.ctx1.drawImage(this.img, 0, 0);\n        this.ctx1.beginPath();\n        this.ctx1.moveTo(0, this.mousePosition.y);\n        this.ctx1.lineTo(this.canvas1.width, this.mousePosition.y);\n        this.ctx1.strokeStyle = 'green';\n        this.ctx1.stroke();\n    }\n\n    bindEvents() {\n        $(\"#canvas1\").on(\"mousemove\", (e) => this.mouseMoved(e));\n    }\n\n    mouseMoved(e) {\n        this.mousePosition = this.getMousePos(this.canvas1, e);\n        this.drawIntensityProfile();\n    }\n\n    drawIntensityProfile() {\n        /**\n         *\n         * @type {ImageData}\n         */\n        let imageRow = this.ctx1.getImageData(0, this.mousePosition.y, this.canvas1.width, 1);\n        /**\n         *\n         * @type {DenseMatrix}\n         */\n        let row = math.matrix(math.reshape(Array.from(imageRow.data), [1, imageRow.width, 4]));\n        row = math.subset(row, math.index(0, math.range(0, row.size()[1]), math.range(0, 3)));\n\n        let data = [];\n        for(let column of row._data[0]) {\n            data.push(math.sum(column) / 3);\n        }\n\n        if(typeof(this.chart) === \"undefined\") {\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    renderTo: 'hc_container1'\n                },\n                title: {\n                    text: \"Row Intensity Profile\"\n                },\n                yAxis: {\n                    plotLines: [{\n                        value: 0,\n                        width: 1,\n                        color: '#808080'\n                    }]\n                },\n                legend: {\n                    enabled: false\n                },\n                series: {\n                    id: 'the-measurement',\n                    name: 'Measurement',\n                    data: data,\n                    lineWidth : 1,\n                    marker : {\n                        enabled : false\n                    }\n                }\n            });\n        } else {\n            let series = this.chart.get('the-measurement');\n            if(series){\n                series.remove();\n            }\n            this.chart.addSeries({\n                id: 'the-measurement',\n                name: 'Measurement',\n                data: data,\n                lineWidth : 1,\n                marker : {\n                    enabled : false\n                }\n            });\n        }\n        this.redrawImage();\n    }\n\n    getMousePos(canvas, evt) {\n        let rect = canvas.getBoundingClientRect();\n        return {\n            x: evt.clientX - rect.left,\n            y: evt.clientY - rect.top\n        };\n    }\n}\n\n$(() => new Edge());\n\n\n// WEBPACK FOOTER //\n// ./src/edge_detection/sobel/Edge.es6"],"sourceRoot":""}