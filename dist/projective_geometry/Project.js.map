{"version":3,"sources":["webpack:///dist/projective_geometry/Project.js","webpack:///webpack/bootstrap 309c20032cd1b3b3ead3","webpack:///./src/projective_geometry/Project.es6"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Project","_this","this","$","can","ctx","getContext","alpha","width","window","innerWidth","height","innerHeight","rotationX","Number","val","rotationY","rotationZ","projection","boxZ","mouseX","mouseY","camera","x","y","z","rx","ry","rz","center","bindEvents","requestAnimationFrame","draw","_this2","change","on","wheel","e","originalEvent","deltaY","mouseup","mouseDown","mousedown","mouseStartX","clientX","mouseStartY","clientY","mouseStartRotationX","mouseStartRotationY","mousemove","touchstart","changedTouches","pinching","pinchingX","pinchingY","pinchDistance","distance","poinchingX","touchmove","currentDistance","touchend","point1","point2","Math","sqrt","pow","abs","_this3","fillStyle","fillRect","drawSquare","drawBox","math","matrix","makeHomogeneous","getCentroid3d","toArray","rotate3d","v","projectOrthographic","projectPerspective","beginPath","strokeStyle","moveTo","lineTo","stroke","xRotation","yRotation","zRotation","PI","translateCenterMatrix","translateBackMatrix","xRotationMatrix","cos","sin","yRotationMatrix","zRotationMatrix","newc","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","_data","Symbol","iterator","next","done","row","multiply","push","err","return","vertexes","vs","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","size","rotate2d","closePath","fill","resize","theta","getCentroid2d","rotationMatrix","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","tcm","rm","tbm","points","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6"],"mappings":"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","file":"./dist/projective_geometry/Project.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nnew (function () {\n    function Project() {\n        var _this = this;\n\n        _classCallCheck(this, Project);\n\n        $(function () {\n            _this.can = $(\"#geometry_canvas\")[0];\n            _this.ctx = _this.can.getContext('2d', { alpha: false });\n            _this.can.width = window.innerWidth;\n            _this.can.height = window.innerHeight;\n            _this.rotationX = Number($(\"#rotationx\").val());\n            _this.rotationY = Number($(\"#rotationy\").val());\n            _this.rotationZ = Number($(\"#rotationz\").val());\n            _this.projection = $(\"#projection\").val();\n            _this.boxZ = Number($(\"#boxz\").val());\n            _this.mouseX = _this.can.width / 2;\n            _this.mouseY = _this.can.height / 2;\n            _this.camera = {\n                x: 0,\n                y: 0,\n                z: Number($(\"#focallength\").val()),\n                rx: 0,\n                ry: 0,\n                rz: 0,\n                width: _this.can.width,\n                height: _this.can.height,\n                center: {\n                    x: _this.can.width / 2,\n                    y: _this.can.height / 2\n                }\n            };\n            _this.bindEvents();\n            requestAnimationFrame(function () {\n                return _this.draw();\n            });\n        });\n    }\n\n    _createClass(Project, [{\n        key: \"bindEvents\",\n        value: function bindEvents() {\n            var _this2 = this;\n\n            $(\"#boxz\").change(function () {\n                _this2.boxZ = Number($(\"#boxz\").val());\n            });\n            $(\"#focallength\").change(function () {\n                _this2.camera.z = Number($(\"#focallength\").val());\n            });\n            $(\"#projection\").change(function () {\n                _this2.projection = $(\"#projection\").val();\n            });\n            $(\"#rotationx\").change(function () {\n                _this2.rotationX = Number($(\"#rotationx\").val());\n            });\n            $(\"#rotationy\").change(function () {\n                _this2.rotationY = Number($(\"#rotationy\").val());\n            });\n            $(\"#rotationz\").change(function () {\n                _this2.rotationZ = Number($(\"#rotationz\").val());\n            });\n            $(this.can).on({\n                \"wheel\": function wheel(e) {\n                    _this2.boxZ += e.originalEvent.deltaY;\n                },\n                \"mouseup\": function mouseup(e) {\n                    _this2.mouseDown = false;\n                },\n                \"mousedown\": function mousedown(e) {\n                    _this2.mouseDown = true;\n                    _this2.mouseStartX = e.originalEvent.clientX;\n                    _this2.mouseStartY = e.originalEvent.clientY;\n                    _this2.mouseStartRotationX = _this2.rotationX;\n                    _this2.mouseStartRotationY = _this2.rotationY;\n                },\n                \"mousemove\": function mousemove(e) {\n                    _this2.mouseX = e.originalEvent.clientX;\n                    _this2.mouseY = e.originalEvent.clientY;\n\n                    if (_this2.mouseDown) {\n                        _this2.rotationX = _this2.mouseStartRotationX + (_this2.mouseStartX - _this2.mouseX);\n                        _this2.rotationY = _this2.mouseStartRotationY + (_this2.mouseStartY - _this2.mouseY);\n                        $(\"#rotationx\").val(_this2.rotationX);\n                        $(\"#rotationy\").val(_this2.rotationY);\n                    }\n                },\n                \"touchstart\": function touchstart(e) {\n                    _this2.mouseStartX = e.originalEvent.changedTouches[0].clientX;\n                    _this2.mouseStartY = e.originalEvent.changedTouches[0].clientY;\n                    _this2.mouseStartRotationX = _this2.rotationX;\n                    _this2.mouseStartRotationY = _this2.rotationY;\n                    if (e.originalEvent.changedTouches.length > 1) {\n                        _this2.pinching = true;\n                        _this2.pinchingX = e.originalEvent.changedTouches[1].clientX;\n                        _this2.pinchingY = e.originalEvent.changedTouches[1].clientY;\n                        _this2.pinchDistance = _this2.distance([_this2.mouseStartX, _this2.mouseStartY], [_this2.poinchingX, _this2.pinchingY]);\n                    } else {\n                        _this2.pinching = false;\n                    }\n                },\n                \"touchmove\": function touchmove(e) {\n                    _this2.mouseX = e.originalEvent.changedTouches[0].clientX;\n                    _this2.mouseY = e.originalEvent.changedTouches[0].clientY;\n\n                    if (e.originalEvent.changedTouches.length > 1) {\n                        _this2.rotationX = _this2.mouseStartRotationX + (_this2.mouseStartX - _this2.mouseX);\n                        _this2.rotationY = _this2.mouseStartRotationY + (_this2.mouseStartY - _this2.mouseY);\n                        $(\"#rotationx\").val(_this2.rotationX);\n                        $(\"#rotationy\").val(_this2.rotationY);\n                        var currentDistance = _this2.distance([e.originalEvent.changedTouches[0].clientX, e.originalEvent.changedTouches[0].clientY], [e.originalEvent.changedTouches[1].clientX, e.originalEvent.changedTouches[1].clientY]);\n                        _this2.boxZ += _this2.pinchDistance - currentDistance;\n                    }\n                },\n                \"touchend\": function touchend(e) {\n                    _this2.mouseX = e.originalEvent.changedTouches[0].clientX;\n                    _this2.mouseY = e.originalEvent.changedTouches[0].clientY;\n                }\n            });\n        }\n    }, {\n        key: \"distance\",\n        value: function distance(point1, point2) {\n            return Math.sqrt(Math.pow(Math.abs(point1[0] - point2[0])) + Math.pow(Math.abs(point1[1] - point2[1])));\n        }\n    }, {\n        key: \"draw\",\n        value: function draw() {\n            var _this3 = this;\n\n            this.ctx.fillStyle = \"black\";\n            this.ctx.fillRect(0, 0, this.can.width, this.can.height);\n\n            this.drawSquare();\n            this.drawBox();\n\n            requestAnimationFrame(function () {\n                return _this3.draw();\n            });\n        }\n    }, {\n        key: \"drawBox\",\n        value: function drawBox() {\n            var size = 200;\n            var x = this.mouseX;\n            var y = this.mouseY;\n            if (this.projection === \"p\") {\n                x = this.can.width / 2 - this.mouseX;\n                y = this.can.height / 2 - this.mouseY;\n            }\n            var z = this.boxZ;\n\n            var c = math.matrix([[x - size, y - size, z - size], [x + size, y - size, z - size], [x + size, y + size, z - size], [x - size, y + size, z - size], [x - size, y - size, z + size], [x + size, y - size, z + size], [x + size, y + size, z + size], [x - size, y + size, z + size]]);\n\n            c = this.makeHomogeneous(c);\n            //find our centroid for the translation matrix\n            var center = this.getCentroid3d(c).toArray();\n\n            c = this.rotate3d(c, center, this.rotationX, this.rotationY, this.rotationZ);\n\n            var v = void 0;\n            switch (this.projection) {\n                case \"o\":\n                    v = this.projectOrthographic(c);\n                    break;\n\n                case \"p\":\n                    v = this.projectPerspective(c, center);\n                    break;\n            }\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(255, 0, 0)\";\n            this.ctx.moveTo(v[0][0], v[0][1]);\n            this.ctx.lineTo(v[1][0], v[1][1]);\n            this.ctx.lineTo(v[2][0], v[2][1]);\n            this.ctx.lineTo(v[3][0], v[3][1]);\n            this.ctx.lineTo(v[0][0], v[0][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(0, 255, 0)\";\n            this.ctx.moveTo(v[4][0], v[4][1]);\n            this.ctx.lineTo(v[5][0], v[5][1]);\n            this.ctx.lineTo(v[6][0], v[6][1]);\n            this.ctx.lineTo(v[7][0], v[7][1]);\n            this.ctx.lineTo(v[4][0], v[4][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(0, 0, 255)\";\n            this.ctx.moveTo(v[0][0], v[0][1]);\n            this.ctx.lineTo(v[4][0], v[4][1]);\n            this.ctx.lineTo(v[7][0], v[7][1]);\n            this.ctx.lineTo(v[3][0], v[3][1]);\n            this.ctx.lineTo(v[0][0], v[0][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(255, 255, 255)\";\n            this.ctx.moveTo(v[1][0], v[1][1]);\n            this.ctx.lineTo(v[5][0], v[5][1]);\n            this.ctx.lineTo(v[6][0], v[6][1]);\n            this.ctx.lineTo(v[2][0], v[2][1]);\n            this.ctx.lineTo(v[1][0], v[1][1]);\n            this.ctx.stroke();\n        }\n    }, {\n        key: \"rotate3d\",\n        value: function rotate3d(c, center, xRotation, yRotation, zRotation) {\n            //change theta into radians\n            xRotation = xRotation * (Math.PI / 180);\n            yRotation = yRotation * (Math.PI / 180);\n            zRotation = zRotation * (Math.PI / 180);\n\n            var translateCenterMatrix = math.matrix([[1, 0, 0, -center[0]], [0, 1, 0, -center[1]], [0, 0, 1, -center[2]], [0, 0, 0, 1]]);\n\n            var translateBackMatrix = math.matrix([[1, 0, 0, center[0]], [0, 1, 0, center[1]], [0, 0, 1, center[2]], [0, 0, 0, 1]]);\n\n            var xRotationMatrix = math.matrix([[1, 0, 0, 0], [0, Math.cos(xRotation), -Math.sin(xRotation), 0], [0, Math.sin(xRotation), Math.cos(xRotation), 0], [0, 0, 0, 1]]);\n\n            var yRotationMatrix = math.matrix([[Math.cos(yRotation), 0, -Math.sin(yRotation), 0], [0, 1, 0, 0], [Math.sin(yRotation), 0, Math.cos(yRotation), 0], [0, 0, 0, 1]]);\n\n            var zRotationMatrix = math.matrix([[Math.cos(zRotation), -Math.sin(zRotation), 0, 0], [Math.sin(zRotation), Math.cos(zRotation), 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]);\n\n            var newc = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = c._data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var row = _step.value;\n\n                    row = math.multiply(translateCenterMatrix, row);\n                    row = math.multiply(xRotationMatrix, row);\n                    row = math.multiply(yRotationMatrix, row);\n                    row = math.multiply(zRotationMatrix, row);\n                    row = math.multiply(translateBackMatrix, row);\n                    newc.push(row);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return math.matrix(newc);\n        }\n    }, {\n        key: \"projectPerspective\",\n        value: function projectPerspective(vertexes) {\n            var d = this.camera.z;\n\n            var translateBackMatrix = math.matrix([[1, 0, this.can.width / 2], [0, 1, this.can.height / 2], [0, 0, 1]]);\n\n            var vs = [];\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = vertexes._data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var row = _step2.value;\n\n                    var x = d * (row[0] / row[2]);\n                    var y = d * (row[1] / row[2]);\n                    row = math.matrix([x, y, 1]);\n                    row = math.multiply(translateBackMatrix, row);\n                    vs.push([row._data[0], row._data[1]]);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            return vs;\n        }\n    }, {\n        key: \"projectOrthographic\",\n        value: function projectOrthographic(vertexes) {\n            var vs = [];\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = vertexes._data[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var v = _step3.value;\n\n                    vs.push([v[0], v[1]]);\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n\n            return vs;\n        }\n    }, {\n        key: \"drawSquare\",\n        value: function drawSquare() {\n            var size = 200;\n            var x = this.mouseX - size / 2;\n            var y = this.mouseY - size / 2;\n\n            var c = math.matrix([[x, y], [x + size, y], [x + size, y + size], [x, y + size]]);\n\n            c = this.makeHomogeneous(c);\n\n            c = this.rotate2d(c, this.rotationX).toArray();\n\n            this.ctx.fillStyle = \"rgb(255, 255, 255)\";\n            this.ctx.beginPath();\n            this.ctx.moveTo(c[0][0], c[0][1]);\n            this.ctx.lineTo(c[1][0], c[1][1]);\n            this.ctx.lineTo(c[2][0], c[2][1]);\n            this.ctx.lineTo(c[3][0], c[3][1]);\n            this.ctx.closePath();\n            this.ctx.fill();\n        }\n    }, {\n        key: \"makeHomogeneous\",\n        value: function makeHomogeneous(c) {\n            //Transform coordinate into homogeneous coordinate\n            c.resize([c.size()[0], c.size()[1] + 1], 1);\n            return c;\n        }\n\n        /**\n         *\n         * @param {DenseMatrix} c\n         * @param theta\n         * @returns {DenseMatrix}\n         */\n\n    }, {\n        key: \"rotate2d\",\n        value: function rotate2d(c, theta) {\n            //change theta into radians\n            theta = theta * (Math.PI / 180);\n            //find our centroid for the translation matrix\n            var center = this.getCentroid2d(c).toArray();\n\n            var rotationMatrix = math.matrix([[Math.cos(theta), -Math.sin(theta), 0], [Math.sin(theta), Math.cos(theta), 0], [0, 0, 1]]);\n            var translateCenterMatrix = math.matrix([[1, 0, -center[0]], [0, 1, -center[1]], [0, 0, 1]]);\n            var translateBackMatrix = math.matrix([[1, 0, center[0]], [0, 1, center[1]], [0, 0, 1]]);\n\n            var newc = [];\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = c._data[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var row = _step4.value;\n\n                    var tcm = math.multiply(translateCenterMatrix, row);\n                    var rm = math.multiply(rotationMatrix, tcm);\n                    var tbm = math.multiply(translateBackMatrix, rm);\n                    newc.push(tbm);\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            return math.matrix(newc);\n        }\n    }, {\n        key: \"getCentroid2d\",\n        value: function getCentroid2d(points) {\n            var x = 0,\n                y = 0;\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = points._data[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var p = _step5.value;\n\n                    x += p[0];\n                    y += p[1];\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            return math.matrix([x / points._data.length, y / points._data.length]);\n        }\n    }, {\n        key: \"getCentroid3d\",\n        value: function getCentroid3d(points) {\n            var x = 0,\n                y = 0,\n                z = 0;\n            var _iteratorNormalCompletion6 = true;\n            var _didIteratorError6 = false;\n            var _iteratorError6 = undefined;\n\n            try {\n                for (var _iterator6 = points._data[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                    var p = _step6.value;\n\n                    x += p[0];\n                    y += p[1];\n                    z += p[2];\n                }\n            } catch (err) {\n                _didIteratorError6 = true;\n                _iteratorError6 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                        _iterator6.return();\n                    }\n                } finally {\n                    if (_didIteratorError6) {\n                        throw _iteratorError6;\n                    }\n                }\n            }\n\n            return math.matrix([x / points._data.length, y / points._data.length, z / points._data.length]);\n        }\n    }]);\n\n    return Project;\n}())();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wcm9qZWN0aXZlX2dlb21ldHJ5L1Byb2plY3QuZXM2Il0sIm5hbWVzIjpbIiQiLCJjYW4iLCJjdHgiLCJnZXRDb250ZXh0IiwiYWxwaGEiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsInJvdGF0aW9uWCIsIk51bWJlciIsInZhbCIsInJvdGF0aW9uWSIsInJvdGF0aW9uWiIsInByb2plY3Rpb24iLCJib3haIiwibW91c2VYIiwibW91c2VZIiwiY2FtZXJhIiwieCIsInkiLCJ6IiwicngiLCJyeSIsInJ6IiwiY2VudGVyIiwiYmluZEV2ZW50cyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRyYXciLCJjaGFuZ2UiLCJvbiIsImUiLCJvcmlnaW5hbEV2ZW50IiwiZGVsdGFZIiwibW91c2VEb3duIiwibW91c2VTdGFydFgiLCJjbGllbnRYIiwibW91c2VTdGFydFkiLCJjbGllbnRZIiwibW91c2VTdGFydFJvdGF0aW9uWCIsIm1vdXNlU3RhcnRSb3RhdGlvblkiLCJjaGFuZ2VkVG91Y2hlcyIsImxlbmd0aCIsInBpbmNoaW5nIiwicGluY2hpbmdYIiwicGluY2hpbmdZIiwicGluY2hEaXN0YW5jZSIsImRpc3RhbmNlIiwicG9pbmNoaW5nWCIsImN1cnJlbnREaXN0YW5jZSIsInBvaW50MSIsInBvaW50MiIsIk1hdGgiLCJzcXJ0IiwicG93IiwiYWJzIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJkcmF3U3F1YXJlIiwiZHJhd0JveCIsInNpemUiLCJjIiwibWF0aCIsIm1hdHJpeCIsIm1ha2VIb21vZ2VuZW91cyIsImdldENlbnRyb2lkM2QiLCJ0b0FycmF5Iiwicm90YXRlM2QiLCJ2IiwicHJvamVjdE9ydGhvZ3JhcGhpYyIsInByb2plY3RQZXJzcGVjdGl2ZSIsImJlZ2luUGF0aCIsInN0cm9rZVN0eWxlIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwieFJvdGF0aW9uIiwieVJvdGF0aW9uIiwielJvdGF0aW9uIiwiUEkiLCJ0cmFuc2xhdGVDZW50ZXJNYXRyaXgiLCJ0cmFuc2xhdGVCYWNrTWF0cml4IiwieFJvdGF0aW9uTWF0cml4IiwiY29zIiwic2luIiwieVJvdGF0aW9uTWF0cml4IiwielJvdGF0aW9uTWF0cml4IiwibmV3YyIsIl9kYXRhIiwicm93IiwibXVsdGlwbHkiLCJwdXNoIiwidmVydGV4ZXMiLCJkIiwidnMiLCJyb3RhdGUyZCIsImNsb3NlUGF0aCIsImZpbGwiLCJyZXNpemUiLCJ0aGV0YSIsImdldENlbnRyb2lkMmQiLCJyb3RhdGlvbk1hdHJpeCIsInRjbSIsInJtIiwidGJtIiwicG9pbnRzIiwicCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFSSx1QkFBYztBQUFBOztBQUFBOztBQUNWQSxVQUFFLFlBQU07QUFDSixrQkFBS0MsR0FBTCxHQUFXRCxFQUFFLGtCQUFGLEVBQXNCLENBQXRCLENBQVg7QUFDQSxrQkFBS0UsR0FBTCxHQUFXLE1BQUtELEdBQUwsQ0FBU0UsVUFBVCxDQUFvQixJQUFwQixFQUEwQixFQUFDQyxPQUFPLEtBQVIsRUFBMUIsQ0FBWDtBQUNBLGtCQUFLSCxHQUFMLENBQVNJLEtBQVQsR0FBaUJDLE9BQU9DLFVBQXhCO0FBQ0Esa0JBQUtOLEdBQUwsQ0FBU08sTUFBVCxHQUFrQkYsT0FBT0csV0FBekI7QUFDQSxrQkFBS0MsU0FBTCxHQUFpQkMsT0FBT1gsRUFBRSxZQUFGLEVBQWdCWSxHQUFoQixFQUFQLENBQWpCO0FBQ0Esa0JBQUtDLFNBQUwsR0FBaUJGLE9BQU9YLEVBQUUsWUFBRixFQUFnQlksR0FBaEIsRUFBUCxDQUFqQjtBQUNBLGtCQUFLRSxTQUFMLEdBQWlCSCxPQUFPWCxFQUFFLFlBQUYsRUFBZ0JZLEdBQWhCLEVBQVAsQ0FBakI7QUFDQSxrQkFBS0csVUFBTCxHQUFrQmYsRUFBRSxhQUFGLEVBQWlCWSxHQUFqQixFQUFsQjtBQUNBLGtCQUFLSSxJQUFMLEdBQVlMLE9BQU9YLEVBQUUsT0FBRixFQUFXWSxHQUFYLEVBQVAsQ0FBWjtBQUNBLGtCQUFLSyxNQUFMLEdBQWMsTUFBS2hCLEdBQUwsQ0FBU0ksS0FBVCxHQUFpQixDQUEvQjtBQUNBLGtCQUFLYSxNQUFMLEdBQWMsTUFBS2pCLEdBQUwsQ0FBU08sTUFBVCxHQUFrQixDQUFoQztBQUNBLGtCQUFLVyxNQUFMLEdBQWM7QUFDVkMsbUJBQUcsQ0FETztBQUVWQyxtQkFBRyxDQUZPO0FBR1ZDLG1CQUFHWCxPQUFPWCxFQUFFLGNBQUYsRUFBa0JZLEdBQWxCLEVBQVAsQ0FITztBQUlWVyxvQkFBSSxDQUpNO0FBS1ZDLG9CQUFJLENBTE07QUFNVkMsb0JBQUksQ0FOTTtBQU9WcEIsdUJBQU8sTUFBS0osR0FBTCxDQUFTSSxLQVBOO0FBUVZHLHdCQUFRLE1BQUtQLEdBQUwsQ0FBU08sTUFSUDtBQVNWa0Isd0JBQVE7QUFDSk4sdUJBQUcsTUFBS25CLEdBQUwsQ0FBU0ksS0FBVCxHQUFpQixDQURoQjtBQUVKZ0IsdUJBQUcsTUFBS3BCLEdBQUwsQ0FBU08sTUFBVCxHQUFrQjtBQUZqQjtBQVRFLGFBQWQ7QUFjQSxrQkFBS21CLFVBQUw7QUFDQUMsa0NBQXNCO0FBQUEsdUJBQU0sTUFBS0MsSUFBTCxFQUFOO0FBQUEsYUFBdEI7QUFDSCxTQTVCRDtBQTZCSDs7QUFoQ0w7QUFBQTtBQUFBLHFDQWtDaUI7QUFBQTs7QUFDVDdCLGNBQUUsT0FBRixFQUFXOEIsTUFBWCxDQUFrQixZQUFNO0FBQ3BCLHVCQUFLZCxJQUFMLEdBQVlMLE9BQU9YLEVBQUUsT0FBRixFQUFXWSxHQUFYLEVBQVAsQ0FBWjtBQUNILGFBRkQ7QUFHQVosY0FBRSxjQUFGLEVBQWtCOEIsTUFBbEIsQ0FBeUIsWUFBTTtBQUMzQix1QkFBS1gsTUFBTCxDQUFZRyxDQUFaLEdBQWdCWCxPQUFPWCxFQUFFLGNBQUYsRUFBa0JZLEdBQWxCLEVBQVAsQ0FBaEI7QUFDSCxhQUZEO0FBR0FaLGNBQUUsYUFBRixFQUFpQjhCLE1BQWpCLENBQXdCLFlBQU07QUFDMUIsdUJBQUtmLFVBQUwsR0FBa0JmLEVBQUUsYUFBRixFQUFpQlksR0FBakIsRUFBbEI7QUFDSCxhQUZEO0FBR0FaLGNBQUUsWUFBRixFQUFnQjhCLE1BQWhCLENBQXVCLFlBQU07QUFDekIsdUJBQUtwQixTQUFMLEdBQWlCQyxPQUFPWCxFQUFFLFlBQUYsRUFBZ0JZLEdBQWhCLEVBQVAsQ0FBakI7QUFDSCxhQUZEO0FBR0FaLGNBQUUsWUFBRixFQUFnQjhCLE1BQWhCLENBQXVCLFlBQU07QUFDekIsdUJBQUtqQixTQUFMLEdBQWlCRixPQUFPWCxFQUFFLFlBQUYsRUFBZ0JZLEdBQWhCLEVBQVAsQ0FBakI7QUFDSCxhQUZEO0FBR0FaLGNBQUUsWUFBRixFQUFnQjhCLE1BQWhCLENBQXVCLFlBQU07QUFDekIsdUJBQUtoQixTQUFMLEdBQWlCSCxPQUFPWCxFQUFFLFlBQUYsRUFBZ0JZLEdBQWhCLEVBQVAsQ0FBakI7QUFDSCxhQUZEO0FBR0FaLGNBQUUsS0FBS0MsR0FBUCxFQUFZOEIsRUFBWixDQUFlO0FBQ1gseUJBQVMsZUFBQ0MsQ0FBRCxFQUFPO0FBQ1osMkJBQUtoQixJQUFMLElBQWFnQixFQUFFQyxhQUFGLENBQWdCQyxNQUE3QjtBQUNILGlCQUhVO0FBSVgsMkJBQVcsaUJBQUNGLENBQUQsRUFBTztBQUNkLDJCQUFLRyxTQUFMLEdBQWlCLEtBQWpCO0FBQ0gsaUJBTlU7QUFPWCw2QkFBYSxtQkFBQ0gsQ0FBRCxFQUFPO0FBQ2hCLDJCQUFLRyxTQUFMLEdBQWlCLElBQWpCO0FBQ0EsMkJBQUtDLFdBQUwsR0FBbUJKLEVBQUVDLGFBQUYsQ0FBZ0JJLE9BQW5DO0FBQ0EsMkJBQUtDLFdBQUwsR0FBbUJOLEVBQUVDLGFBQUYsQ0FBZ0JNLE9BQW5DO0FBQ0EsMkJBQUtDLG1CQUFMLEdBQTJCLE9BQUs5QixTQUFoQztBQUNBLDJCQUFLK0IsbUJBQUwsR0FBMkIsT0FBSzVCLFNBQWhDO0FBQ0gsaUJBYlU7QUFjWCw2QkFBYSxtQkFBQ21CLENBQUQsRUFBTztBQUNoQiwyQkFBS2YsTUFBTCxHQUFjZSxFQUFFQyxhQUFGLENBQWdCSSxPQUE5QjtBQUNBLDJCQUFLbkIsTUFBTCxHQUFjYyxFQUFFQyxhQUFGLENBQWdCTSxPQUE5Qjs7QUFFQSx3QkFBRyxPQUFLSixTQUFSLEVBQW1CO0FBQ2YsK0JBQUt6QixTQUFMLEdBQWlCLE9BQUs4QixtQkFBTCxJQUE0QixPQUFLSixXQUFMLEdBQW1CLE9BQUtuQixNQUFwRCxDQUFqQjtBQUNBLCtCQUFLSixTQUFMLEdBQWlCLE9BQUs0QixtQkFBTCxJQUE0QixPQUFLSCxXQUFMLEdBQW1CLE9BQUtwQixNQUFwRCxDQUFqQjtBQUNBbEIsMEJBQUUsWUFBRixFQUFnQlksR0FBaEIsQ0FBb0IsT0FBS0YsU0FBekI7QUFDQVYsMEJBQUUsWUFBRixFQUFnQlksR0FBaEIsQ0FBb0IsT0FBS0MsU0FBekI7QUFDSDtBQUNKLGlCQXhCVTtBQXlCWCw4QkFBYyxvQkFBQ21CLENBQUQsRUFBTztBQUNqQiwyQkFBS0ksV0FBTCxHQUFtQkosRUFBRUMsYUFBRixDQUFnQlMsY0FBaEIsQ0FBK0IsQ0FBL0IsRUFBa0NMLE9BQXJEO0FBQ0EsMkJBQUtDLFdBQUwsR0FBbUJOLEVBQUVDLGFBQUYsQ0FBZ0JTLGNBQWhCLENBQStCLENBQS9CLEVBQWtDSCxPQUFyRDtBQUNBLDJCQUFLQyxtQkFBTCxHQUEyQixPQUFLOUIsU0FBaEM7QUFDQSwyQkFBSytCLG1CQUFMLEdBQTJCLE9BQUs1QixTQUFoQztBQUNBLHdCQUFHbUIsRUFBRUMsYUFBRixDQUFnQlMsY0FBaEIsQ0FBK0JDLE1BQS9CLEdBQXdDLENBQTNDLEVBQThDO0FBQzFDLCtCQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsK0JBQUtDLFNBQUwsR0FBaUJiLEVBQUVDLGFBQUYsQ0FBZ0JTLGNBQWhCLENBQStCLENBQS9CLEVBQWtDTCxPQUFuRDtBQUNBLCtCQUFLUyxTQUFMLEdBQWlCZCxFQUFFQyxhQUFGLENBQWdCUyxjQUFoQixDQUErQixDQUEvQixFQUFrQ0gsT0FBbkQ7QUFDQSwrQkFBS1EsYUFBTCxHQUFxQixPQUFLQyxRQUFMLENBQWMsQ0FBQyxPQUFLWixXQUFOLEVBQW1CLE9BQUtFLFdBQXhCLENBQWQsRUFBb0QsQ0FBQyxPQUFLVyxVQUFOLEVBQWtCLE9BQUtILFNBQXZCLENBQXBELENBQXJCO0FBQ0gscUJBTEQsTUFLTztBQUNILCtCQUFLRixRQUFMLEdBQWdCLEtBQWhCO0FBQ0g7QUFDSixpQkF0Q1U7QUF1Q1gsNkJBQWEsbUJBQUNaLENBQUQsRUFBTztBQUNoQiwyQkFBS2YsTUFBTCxHQUFjZSxFQUFFQyxhQUFGLENBQWdCUyxjQUFoQixDQUErQixDQUEvQixFQUFrQ0wsT0FBaEQ7QUFDQSwyQkFBS25CLE1BQUwsR0FBY2MsRUFBRUMsYUFBRixDQUFnQlMsY0FBaEIsQ0FBK0IsQ0FBL0IsRUFBa0NILE9BQWhEOztBQUVBLHdCQUFHUCxFQUFFQyxhQUFGLENBQWdCUyxjQUFoQixDQUErQkMsTUFBL0IsR0FBd0MsQ0FBM0MsRUFBOEM7QUFDMUMsK0JBQUtqQyxTQUFMLEdBQWlCLE9BQUs4QixtQkFBTCxJQUE0QixPQUFLSixXQUFMLEdBQW1CLE9BQUtuQixNQUFwRCxDQUFqQjtBQUNBLCtCQUFLSixTQUFMLEdBQWlCLE9BQUs0QixtQkFBTCxJQUE0QixPQUFLSCxXQUFMLEdBQW1CLE9BQUtwQixNQUFwRCxDQUFqQjtBQUNBbEIsMEJBQUUsWUFBRixFQUFnQlksR0FBaEIsQ0FBb0IsT0FBS0YsU0FBekI7QUFDQVYsMEJBQUUsWUFBRixFQUFnQlksR0FBaEIsQ0FBb0IsT0FBS0MsU0FBekI7QUFDQSw0QkFBSXFDLGtCQUFrQixPQUFLRixRQUFMLENBQWMsQ0FDaENoQixFQUFFQyxhQUFGLENBQWdCUyxjQUFoQixDQUErQixDQUEvQixFQUFrQ0wsT0FERixFQUVoQ0wsRUFBRUMsYUFBRixDQUFnQlMsY0FBaEIsQ0FBK0IsQ0FBL0IsRUFBa0NILE9BRkYsQ0FBZCxFQUduQixDQUNDUCxFQUFFQyxhQUFGLENBQWdCUyxjQUFoQixDQUErQixDQUEvQixFQUFrQ0wsT0FEbkMsRUFFQ0wsRUFBRUMsYUFBRixDQUFnQlMsY0FBaEIsQ0FBK0IsQ0FBL0IsRUFBa0NILE9BRm5DLENBSG1CLENBQXRCO0FBT0EsK0JBQUt2QixJQUFMLElBQWMsT0FBSytCLGFBQUwsR0FBcUJHLGVBQW5DO0FBQ0g7QUFDSixpQkF6RFU7QUEwRFgsNEJBQVksa0JBQUNsQixDQUFELEVBQU87QUFDZiwyQkFBS2YsTUFBTCxHQUFjZSxFQUFFQyxhQUFGLENBQWdCUyxjQUFoQixDQUErQixDQUEvQixFQUFrQ0wsT0FBaEQ7QUFDQSwyQkFBS25CLE1BQUwsR0FBY2MsRUFBRUMsYUFBRixDQUFnQlMsY0FBaEIsQ0FBK0IsQ0FBL0IsRUFBa0NILE9BQWhEO0FBQ0g7QUE3RFUsYUFBZjtBQStESDtBQXBITDtBQUFBO0FBQUEsaUNBc0hhWSxNQXRIYixFQXNIcUJDLE1BdEhyQixFQXNINkI7QUFDckIsbUJBQU9DLEtBQUtDLElBQUwsQ0FDSEQsS0FBS0UsR0FBTCxDQUNJRixLQUFLRyxHQUFMLENBQVNMLE9BQU8sQ0FBUCxJQUFZQyxPQUFPLENBQVAsQ0FBckIsQ0FESixJQUVJQyxLQUFLRSxHQUFMLENBQ0FGLEtBQUtHLEdBQUwsQ0FBU0wsT0FBTyxDQUFQLElBQVlDLE9BQU8sQ0FBUCxDQUFyQixDQURBLENBSEQsQ0FBUDtBQU9IO0FBOUhMO0FBQUE7QUFBQSwrQkFnSVc7QUFBQTs7QUFDSCxpQkFBS2xELEdBQUwsQ0FBU3VELFNBQVQsR0FBcUIsT0FBckI7QUFDQSxpQkFBS3ZELEdBQUwsQ0FBU3dELFFBQVQsQ0FBa0IsQ0FBbEIsRUFBcUIsQ0FBckIsRUFBd0IsS0FBS3pELEdBQUwsQ0FBU0ksS0FBakMsRUFBd0MsS0FBS0osR0FBTCxDQUFTTyxNQUFqRDs7QUFFQSxpQkFBS21ELFVBQUw7QUFDQSxpQkFBS0MsT0FBTDs7QUFFQWhDLGtDQUFzQjtBQUFBLHVCQUFNLE9BQUtDLElBQUwsRUFBTjtBQUFBLGFBQXRCO0FBQ0g7QUF4SUw7QUFBQTtBQUFBLGtDQTBJYztBQUNOLGdCQUFJZ0MsT0FBTyxHQUFYO0FBQ0EsZ0JBQUl6QyxJQUFJLEtBQUtILE1BQWI7QUFDQSxnQkFBSUksSUFBSSxLQUFLSCxNQUFiO0FBQ0EsZ0JBQUcsS0FBS0gsVUFBTCxLQUFvQixHQUF2QixFQUE0QjtBQUN4Qkssb0JBQUssS0FBS25CLEdBQUwsQ0FBU0ksS0FBVCxHQUFpQixDQUFsQixHQUF1QixLQUFLWSxNQUFoQztBQUNBSSxvQkFBSyxLQUFLcEIsR0FBTCxDQUFTTyxNQUFULEdBQWtCLENBQW5CLEdBQXdCLEtBQUtVLE1BQWpDO0FBQ0g7QUFDRCxnQkFBSUksSUFBSSxLQUFLTixJQUFiOztBQUVBLGdCQUFJOEMsSUFBSUMsS0FBS0MsTUFBTCxDQUFZLENBQ2hCLENBQUM1QyxJQUFJeUMsSUFBTCxFQUFXeEMsSUFBSXdDLElBQWYsRUFBcUJ2QyxJQUFJdUMsSUFBekIsQ0FEZ0IsRUFFaEIsQ0FBQ3pDLElBQUl5QyxJQUFMLEVBQVd4QyxJQUFJd0MsSUFBZixFQUFxQnZDLElBQUl1QyxJQUF6QixDQUZnQixFQUdoQixDQUFDekMsSUFBSXlDLElBQUwsRUFBV3hDLElBQUl3QyxJQUFmLEVBQXFCdkMsSUFBSXVDLElBQXpCLENBSGdCLEVBSWhCLENBQUN6QyxJQUFJeUMsSUFBTCxFQUFXeEMsSUFBSXdDLElBQWYsRUFBcUJ2QyxJQUFJdUMsSUFBekIsQ0FKZ0IsRUFNaEIsQ0FBQ3pDLElBQUl5QyxJQUFMLEVBQVd4QyxJQUFJd0MsSUFBZixFQUFxQnZDLElBQUl1QyxJQUF6QixDQU5nQixFQU9oQixDQUFDekMsSUFBSXlDLElBQUwsRUFBV3hDLElBQUl3QyxJQUFmLEVBQXFCdkMsSUFBSXVDLElBQXpCLENBUGdCLEVBUWhCLENBQUN6QyxJQUFJeUMsSUFBTCxFQUFXeEMsSUFBSXdDLElBQWYsRUFBcUJ2QyxJQUFJdUMsSUFBekIsQ0FSZ0IsRUFTaEIsQ0FBQ3pDLElBQUl5QyxJQUFMLEVBQVd4QyxJQUFJd0MsSUFBZixFQUFxQnZDLElBQUl1QyxJQUF6QixDQVRnQixDQUFaLENBQVI7O0FBWUFDLGdCQUFJLEtBQUtHLGVBQUwsQ0FBcUJILENBQXJCLENBQUo7QUFDQTtBQUNBLGdCQUFJcEMsU0FBUyxLQUFLd0MsYUFBTCxDQUFtQkosQ0FBbkIsRUFBc0JLLE9BQXRCLEVBQWI7O0FBRUFMLGdCQUFJLEtBQUtNLFFBQUwsQ0FBY04sQ0FBZCxFQUFpQnBDLE1BQWpCLEVBQXlCLEtBQUtoQixTQUE5QixFQUF5QyxLQUFLRyxTQUE5QyxFQUF5RCxLQUFLQyxTQUE5RCxDQUFKOztBQUVBLGdCQUFJdUQsVUFBSjtBQUNBLG9CQUFPLEtBQUt0RCxVQUFaO0FBQ0kscUJBQUssR0FBTDtBQUNJc0Qsd0JBQUksS0FBS0MsbUJBQUwsQ0FBeUJSLENBQXpCLENBQUo7QUFDQTs7QUFFSixxQkFBSyxHQUFMO0FBQ0lPLHdCQUFJLEtBQUtFLGtCQUFMLENBQXdCVCxDQUF4QixFQUEyQnBDLE1BQTNCLENBQUo7QUFDQTtBQVBSOztBQVVBLGlCQUFLeEIsR0FBTCxDQUFTc0UsU0FBVDtBQUNBLGlCQUFLdEUsR0FBTCxDQUFTdUUsV0FBVCxHQUF1QixnQkFBdkI7QUFDQSxpQkFBS3ZFLEdBQUwsQ0FBU3dFLE1BQVQsQ0FBZ0JMLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBUzBFLE1BQVQ7O0FBRUEsaUJBQUsxRSxHQUFMLENBQVNzRSxTQUFUO0FBQ0EsaUJBQUt0RSxHQUFMLENBQVN1RSxXQUFULEdBQXVCLGdCQUF2QjtBQUNBLGlCQUFLdkUsR0FBTCxDQUFTd0UsTUFBVCxDQUFnQkwsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkUsR0FBTCxDQUFTeUUsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkUsR0FBTCxDQUFTeUUsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkUsR0FBTCxDQUFTeUUsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkUsR0FBTCxDQUFTeUUsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkUsR0FBTCxDQUFTMEUsTUFBVDs7QUFFQSxpQkFBSzFFLEdBQUwsQ0FBU3NFLFNBQVQ7QUFDQSxpQkFBS3RFLEdBQUwsQ0FBU3VFLFdBQVQsR0FBdUIsZ0JBQXZCO0FBQ0EsaUJBQUt2RSxHQUFMLENBQVN3RSxNQUFULENBQWdCTCxFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRSxHQUFMLENBQVN5RSxNQUFULENBQWdCTixFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRSxHQUFMLENBQVN5RSxNQUFULENBQWdCTixFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRSxHQUFMLENBQVN5RSxNQUFULENBQWdCTixFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRSxHQUFMLENBQVN5RSxNQUFULENBQWdCTixFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRSxHQUFMLENBQVMwRSxNQUFUOztBQUVBLGlCQUFLMUUsR0FBTCxDQUFTc0UsU0FBVDtBQUNBLGlCQUFLdEUsR0FBTCxDQUFTdUUsV0FBVCxHQUF1QixvQkFBdkI7QUFDQSxpQkFBS3ZFLEdBQUwsQ0FBU3dFLE1BQVQsQ0FBZ0JMLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25FLEdBQUwsQ0FBUzBFLE1BQVQ7QUFFSDtBQXJOTDtBQUFBO0FBQUEsaUNBdU5hZCxDQXZOYixFQXVOZ0JwQyxNQXZOaEIsRUF1TndCbUQsU0F2TnhCLEVBdU5tQ0MsU0F2Tm5DLEVBdU44Q0MsU0F2TjlDLEVBdU55RDtBQUNqRDtBQUNBRix3QkFBWUEsYUFBYXhCLEtBQUsyQixFQUFMLEdBQVUsR0FBdkIsQ0FBWjtBQUNBRix3QkFBWUEsYUFBYXpCLEtBQUsyQixFQUFMLEdBQVUsR0FBdkIsQ0FBWjtBQUNBRCx3QkFBWUEsYUFBYTFCLEtBQUsyQixFQUFMLEdBQVUsR0FBdkIsQ0FBWjs7QUFFQSxnQkFBSUMsd0JBQXdCbEIsS0FBS0MsTUFBTCxDQUFZLENBQ3BDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBQ3RDLE9BQU8sQ0FBUCxDQUFYLENBRG9DLEVBRXBDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBQ0EsT0FBTyxDQUFQLENBQVgsQ0FGb0MsRUFHcEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFDQSxPQUFPLENBQVAsQ0FBWCxDQUhvQyxFQUlwQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FKb0MsQ0FBWixDQUE1Qjs7QUFPQSxnQkFBSXdELHNCQUFzQm5CLEtBQUtDLE1BQUwsQ0FBWSxDQUNsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVdEMsT0FBTyxDQUFQLENBQVYsQ0FEa0MsRUFFbEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVUEsT0FBTyxDQUFQLENBQVYsQ0FGa0MsRUFHbEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVUEsT0FBTyxDQUFQLENBQVYsQ0FIa0MsRUFJbEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBSmtDLENBQVosQ0FBMUI7O0FBT0EsZ0JBQUl5RCxrQkFBa0JwQixLQUFLQyxNQUFMLENBQVksQ0FDOUIsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBRDhCLEVBRTlCLENBQUMsQ0FBRCxFQUFJWCxLQUFLK0IsR0FBTCxDQUFTUCxTQUFULENBQUosRUFBeUIsQ0FBQ3hCLEtBQUtnQyxHQUFMLENBQVNSLFNBQVQsQ0FBMUIsRUFBK0MsQ0FBL0MsQ0FGOEIsRUFHOUIsQ0FBQyxDQUFELEVBQUl4QixLQUFLZ0MsR0FBTCxDQUFTUixTQUFULENBQUosRUFBeUJ4QixLQUFLK0IsR0FBTCxDQUFTUCxTQUFULENBQXpCLEVBQThDLENBQTlDLENBSDhCLEVBSTlCLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQUo4QixDQUFaLENBQXRCOztBQU9BLGdCQUFJUyxrQkFBa0J2QixLQUFLQyxNQUFMLENBQVksQ0FDOUIsQ0FBQ1gsS0FBSytCLEdBQUwsQ0FBU04sU0FBVCxDQUFELEVBQXNCLENBQXRCLEVBQXlCLENBQUN6QixLQUFLZ0MsR0FBTCxDQUFTUCxTQUFULENBQTFCLEVBQStDLENBQS9DLENBRDhCLEVBRTlCLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQUY4QixFQUc5QixDQUFDekIsS0FBS2dDLEdBQUwsQ0FBU1AsU0FBVCxDQUFELEVBQXNCLENBQXRCLEVBQXlCekIsS0FBSytCLEdBQUwsQ0FBU04sU0FBVCxDQUF6QixFQUE4QyxDQUE5QyxDQUg4QixFQUk5QixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FKOEIsQ0FBWixDQUF0Qjs7QUFPQSxnQkFBSVMsa0JBQWtCeEIsS0FBS0MsTUFBTCxDQUFZLENBQzlCLENBQUNYLEtBQUsrQixHQUFMLENBQVNMLFNBQVQsQ0FBRCxFQUFzQixDQUFDMUIsS0FBS2dDLEdBQUwsQ0FBU04sU0FBVCxDQUF2QixFQUE0QyxDQUE1QyxFQUErQyxDQUEvQyxDQUQ4QixFQUU5QixDQUFDMUIsS0FBS2dDLEdBQUwsQ0FBU04sU0FBVCxDQUFELEVBQXNCMUIsS0FBSytCLEdBQUwsQ0FBU0wsU0FBVCxDQUF0QixFQUEyQyxDQUEzQyxFQUE4QyxDQUE5QyxDQUY4QixFQUc5QixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FIOEIsRUFJOUIsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBSjhCLENBQVosQ0FBdEI7O0FBT0EsZ0JBQUlTLE9BQU8sRUFBWDtBQXpDaUQ7QUFBQTtBQUFBOztBQUFBO0FBMENqRCxxQ0FBZTFCLEVBQUUyQixLQUFqQiw4SEFBd0I7QUFBQSx3QkFBaEJDLEdBQWdCOztBQUNwQkEsMEJBQU0zQixLQUFLNEIsUUFBTCxDQUFjVixxQkFBZCxFQUFxQ1MsR0FBckMsQ0FBTjtBQUNBQSwwQkFBTTNCLEtBQUs0QixRQUFMLENBQWNSLGVBQWQsRUFBK0JPLEdBQS9CLENBQU47QUFDQUEsMEJBQU0zQixLQUFLNEIsUUFBTCxDQUFjTCxlQUFkLEVBQStCSSxHQUEvQixDQUFOO0FBQ0FBLDBCQUFNM0IsS0FBSzRCLFFBQUwsQ0FBY0osZUFBZCxFQUErQkcsR0FBL0IsQ0FBTjtBQUNBQSwwQkFBTTNCLEtBQUs0QixRQUFMLENBQWNULG1CQUFkLEVBQW1DUSxHQUFuQyxDQUFOO0FBQ0FGLHlCQUFLSSxJQUFMLENBQVVGLEdBQVY7QUFDSDtBQWpEZ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFrRGpELG1CQUFPM0IsS0FBS0MsTUFBTCxDQUFZd0IsSUFBWixDQUFQO0FBQ0g7QUExUUw7QUFBQTtBQUFBLDJDQTRRdUJLLFFBNVF2QixFQTRRaUM7QUFDekIsZ0JBQUlDLElBQUksS0FBSzNFLE1BQUwsQ0FBWUcsQ0FBcEI7O0FBRUEsZ0JBQUk0RCxzQkFBc0JuQixLQUFLQyxNQUFMLENBQVksQ0FDbEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEtBQUsvRCxHQUFMLENBQVNJLEtBQVQsR0FBaUIsQ0FBeEIsQ0FEa0MsRUFFbEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEtBQUtKLEdBQUwsQ0FBU08sTUFBVCxHQUFrQixDQUF6QixDQUZrQyxFQUdsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUhrQyxDQUFaLENBQTFCOztBQU1BLGdCQUFJdUYsS0FBSyxFQUFUO0FBVHlCO0FBQUE7QUFBQTs7QUFBQTtBQVV6QixzQ0FBZUYsU0FBU0osS0FBeEIsbUlBQStCO0FBQUEsd0JBQXZCQyxHQUF1Qjs7QUFDM0Isd0JBQUl0RSxJQUFJMEUsS0FBS0osSUFBSSxDQUFKLElBQVNBLElBQUksQ0FBSixDQUFkLENBQVI7QUFDQSx3QkFBSXJFLElBQUl5RSxLQUFLSixJQUFJLENBQUosSUFBU0EsSUFBSSxDQUFKLENBQWQsQ0FBUjtBQUNBQSwwQkFBTTNCLEtBQUtDLE1BQUwsQ0FBWSxDQUFDNUMsQ0FBRCxFQUFJQyxDQUFKLEVBQU8sQ0FBUCxDQUFaLENBQU47QUFDQXFFLDBCQUFNM0IsS0FBSzRCLFFBQUwsQ0FBY1QsbUJBQWQsRUFBbUNRLEdBQW5DLENBQU47QUFDQUssdUJBQUdILElBQUgsQ0FBUSxDQUFDRixJQUFJRCxLQUFKLENBQVUsQ0FBVixDQUFELEVBQWVDLElBQUlELEtBQUosQ0FBVSxDQUFWLENBQWYsQ0FBUjtBQUNIO0FBaEJ3QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWlCekIsbUJBQU9NLEVBQVA7QUFDSDtBQTlSTDtBQUFBO0FBQUEsNENBZ1N3QkYsUUFoU3hCLEVBZ1NrQztBQUMxQixnQkFBSUUsS0FBSyxFQUFUO0FBRDBCO0FBQUE7QUFBQTs7QUFBQTtBQUUxQixzQ0FBYUYsU0FBU0osS0FBdEIsbUlBQTZCO0FBQUEsd0JBQXJCcEIsQ0FBcUI7O0FBQ3pCMEIsdUJBQUdILElBQUgsQ0FBUSxDQUFDdkIsRUFBRSxDQUFGLENBQUQsRUFBT0EsRUFBRSxDQUFGLENBQVAsQ0FBUjtBQUNIO0FBSnlCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBSzFCLG1CQUFPMEIsRUFBUDtBQUNIO0FBdFNMO0FBQUE7QUFBQSxxQ0F3U2lCO0FBQ1QsZ0JBQUlsQyxPQUFPLEdBQVg7QUFDQSxnQkFBSXpDLElBQUksS0FBS0gsTUFBTCxHQUFjNEMsT0FBTyxDQUE3QjtBQUNBLGdCQUFJeEMsSUFBSSxLQUFLSCxNQUFMLEdBQWMyQyxPQUFPLENBQTdCOztBQUVBLGdCQUFJQyxJQUFJQyxLQUFLQyxNQUFMLENBQVksQ0FDaEIsQ0FBQzVDLENBQUQsRUFBSUMsQ0FBSixDQURnQixFQUVoQixDQUFDRCxJQUFJeUMsSUFBTCxFQUFXeEMsQ0FBWCxDQUZnQixFQUdoQixDQUFDRCxJQUFJeUMsSUFBTCxFQUFXeEMsSUFBSXdDLElBQWYsQ0FIZ0IsRUFJaEIsQ0FBQ3pDLENBQUQsRUFBSUMsSUFBSXdDLElBQVIsQ0FKZ0IsQ0FBWixDQUFSOztBQU9BQyxnQkFBSSxLQUFLRyxlQUFMLENBQXFCSCxDQUFyQixDQUFKOztBQUdBQSxnQkFBSSxLQUFLa0MsUUFBTCxDQUFjbEMsQ0FBZCxFQUFpQixLQUFLcEQsU0FBdEIsRUFBaUN5RCxPQUFqQyxFQUFKOztBQUVBLGlCQUFLakUsR0FBTCxDQUFTdUQsU0FBVCxHQUFxQixvQkFBckI7QUFDQSxpQkFBS3ZELEdBQUwsQ0FBU3NFLFNBQVQ7QUFDQSxpQkFBS3RFLEdBQUwsQ0FBU3dFLE1BQVQsQ0FBZ0JaLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBSzVELEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JiLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBSzVELEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JiLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBSzVELEdBQUwsQ0FBU3lFLE1BQVQsQ0FBZ0JiLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBSzVELEdBQUwsQ0FBUytGLFNBQVQ7QUFDQSxpQkFBSy9GLEdBQUwsQ0FBU2dHLElBQVQ7QUFDSDtBQWpVTDtBQUFBO0FBQUEsd0NBbVVvQnBDLENBblVwQixFQW1VdUI7QUFDZjtBQUNBQSxjQUFFcUMsTUFBRixDQUFTLENBQUNyQyxFQUFFRCxJQUFGLEdBQVMsQ0FBVCxDQUFELEVBQWNDLEVBQUVELElBQUYsR0FBUyxDQUFULElBQVksQ0FBMUIsQ0FBVCxFQUF1QyxDQUF2QztBQUNBLG1CQUFPQyxDQUFQO0FBQ0g7O0FBRUQ7Ozs7Ozs7QUF6VUo7QUFBQTtBQUFBLGlDQStVYUEsQ0EvVWIsRUErVWdCc0MsS0EvVWhCLEVBK1V1QjtBQUNmO0FBQ0FBLG9CQUFRQSxTQUFTL0MsS0FBSzJCLEVBQUwsR0FBVSxHQUFuQixDQUFSO0FBQ0E7QUFDQSxnQkFBSXRELFNBQVMsS0FBSzJFLGFBQUwsQ0FBbUJ2QyxDQUFuQixFQUFzQkssT0FBdEIsRUFBYjs7QUFFQSxnQkFBSW1DLGlCQUFpQnZDLEtBQUtDLE1BQUwsQ0FBWSxDQUM3QixDQUFDWCxLQUFLK0IsR0FBTCxDQUFTZ0IsS0FBVCxDQUFELEVBQWtCLENBQUMvQyxLQUFLZ0MsR0FBTCxDQUFTZSxLQUFULENBQW5CLEVBQW9DLENBQXBDLENBRDZCLEVBRTdCLENBQUMvQyxLQUFLZ0MsR0FBTCxDQUFTZSxLQUFULENBQUQsRUFBa0IvQyxLQUFLK0IsR0FBTCxDQUFTZ0IsS0FBVCxDQUFsQixFQUFtQyxDQUFuQyxDQUY2QixFQUc3QixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUg2QixDQUFaLENBQXJCO0FBS0EsZ0JBQUluQix3QkFBd0JsQixLQUFLQyxNQUFMLENBQVksQ0FDcEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQUN0QyxPQUFPLENBQVAsQ0FBUixDQURvQyxFQUVwQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBQ0EsT0FBTyxDQUFQLENBQVIsQ0FGb0MsRUFHcEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FIb0MsQ0FBWixDQUE1QjtBQUtBLGdCQUFJd0Qsc0JBQXNCbkIsS0FBS0MsTUFBTCxDQUFZLENBQ2xDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBT3RDLE9BQU8sQ0FBUCxDQUFQLENBRGtDLEVBRWxDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBT0EsT0FBTyxDQUFQLENBQVAsQ0FGa0MsRUFHbEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FIa0MsQ0FBWixDQUExQjs7QUFNQSxnQkFBSThELE9BQU8sRUFBWDtBQXRCZTtBQUFBO0FBQUE7O0FBQUE7QUF1QmYsc0NBQWUxQixFQUFFMkIsS0FBakIsbUlBQXdCO0FBQUEsd0JBQWhCQyxHQUFnQjs7QUFDcEIsd0JBQUlhLE1BQU14QyxLQUFLNEIsUUFBTCxDQUFjVixxQkFBZCxFQUFxQ1MsR0FBckMsQ0FBVjtBQUNBLHdCQUFJYyxLQUFLekMsS0FBSzRCLFFBQUwsQ0FBY1csY0FBZCxFQUE4QkMsR0FBOUIsQ0FBVDtBQUNBLHdCQUFJRSxNQUFNMUMsS0FBSzRCLFFBQUwsQ0FBY1QsbUJBQWQsRUFBbUNzQixFQUFuQyxDQUFWO0FBQ0FoQix5QkFBS0ksSUFBTCxDQUFVYSxHQUFWO0FBQ0g7QUE1QmM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUE2QmYsbUJBQU8xQyxLQUFLQyxNQUFMLENBQVl3QixJQUFaLENBQVA7QUFDSDtBQTdXTDtBQUFBO0FBQUEsc0NBK1drQmtCLE1BL1dsQixFQStXeUI7QUFDakIsZ0JBQUl0RixJQUFJLENBQVI7QUFBQSxnQkFBV0MsSUFBSSxDQUFmO0FBRGlCO0FBQUE7QUFBQTs7QUFBQTtBQUVqQixzQ0FBYXFGLE9BQU9qQixLQUFwQixtSUFBMkI7QUFBQSx3QkFBbkJrQixDQUFtQjs7QUFDdkJ2Rix5QkFBS3VGLEVBQUUsQ0FBRixDQUFMO0FBQ0F0Rix5QkFBS3NGLEVBQUUsQ0FBRixDQUFMO0FBQ0g7QUFMZ0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNakIsbUJBQU81QyxLQUFLQyxNQUFMLENBQVksQ0FBQzVDLElBQUlzRixPQUFPakIsS0FBUCxDQUFhOUMsTUFBbEIsRUFBMEJ0QixJQUFJcUYsT0FBT2pCLEtBQVAsQ0FBYTlDLE1BQTNDLENBQVosQ0FBUDtBQUNIO0FBdFhMO0FBQUE7QUFBQSxzQ0F3WGtCK0QsTUF4WGxCLEVBd1h5QjtBQUNqQixnQkFBSXRGLElBQUksQ0FBUjtBQUFBLGdCQUFXQyxJQUFJLENBQWY7QUFBQSxnQkFBa0JDLElBQUksQ0FBdEI7QUFEaUI7QUFBQTtBQUFBOztBQUFBO0FBRWpCLHNDQUFhb0YsT0FBT2pCLEtBQXBCLG1JQUEyQjtBQUFBLHdCQUFuQmtCLENBQW1COztBQUN2QnZGLHlCQUFLdUYsRUFBRSxDQUFGLENBQUw7QUFDQXRGLHlCQUFLc0YsRUFBRSxDQUFGLENBQUw7QUFDQXJGLHlCQUFLcUYsRUFBRSxDQUFGLENBQUw7QUFDSDtBQU5nQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQU9qQixtQkFBTzVDLEtBQUtDLE1BQUwsQ0FBWSxDQUNmNUMsSUFBSXNGLE9BQU9qQixLQUFQLENBQWE5QyxNQURGLEVBRWZ0QixJQUFJcUYsT0FBT2pCLEtBQVAsQ0FBYTlDLE1BRkYsRUFHZnJCLElBQUlvRixPQUFPakIsS0FBUCxDQUFhOUMsTUFIRixDQUFaLENBQVA7QUFLSDtBQXBZTDs7QUFBQTtBQUFBIiwiZmlsZSI6IlByb2plY3QuZXM2Iiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yaWNod2FuZGVsbC9QaHBzdG9ybVByb2plY3RzL2pzYWxnb3MiLCJzb3VyY2VzQ29udGVudCI6WyJuZXcgY2xhc3MgUHJvamVjdCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgJCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbiA9ICQoXCIjZ2VvbWV0cnlfY2FudmFzXCIpWzBdO1xuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbi5nZXRDb250ZXh0KCcyZCcsIHthbHBoYTogZmFsc2V9KTtcbiAgICAgICAgICAgIHRoaXMuY2FuLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICB0aGlzLmNhbi5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uWCA9IE51bWJlcigkKFwiI3JvdGF0aW9ueFwiKS52YWwoKSk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IE51bWJlcigkKFwiI3JvdGF0aW9ueVwiKS52YWwoKSk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uWiA9IE51bWJlcigkKFwiI3JvdGF0aW9uelwiKS52YWwoKSk7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb24gPSAkKFwiI3Byb2plY3Rpb25cIikudmFsKCk7XG4gICAgICAgICAgICB0aGlzLmJveFogPSBOdW1iZXIoJChcIiNib3h6XCIpLnZhbCgpKTtcbiAgICAgICAgICAgIHRoaXMubW91c2VYID0gdGhpcy5jYW4ud2lkdGggLyAyO1xuICAgICAgICAgICAgdGhpcy5tb3VzZVkgPSB0aGlzLmNhbi5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEgPSB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgIHo6IE51bWJlcigkKFwiI2ZvY2FsbGVuZ3RoXCIpLnZhbCgpKSxcbiAgICAgICAgICAgICAgICByeDogMCxcbiAgICAgICAgICAgICAgICByeTogMCxcbiAgICAgICAgICAgICAgICByejogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5jYW4ud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmNhbi5oZWlnaHQsXG4gICAgICAgICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuY2FuLndpZHRoIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5jYW4uaGVpZ2h0IC8gMlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmRyYXcoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGJpbmRFdmVudHMoKSB7XG4gICAgICAgICQoXCIjYm94elwiKS5jaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ib3haID0gTnVtYmVyKCQoXCIjYm94elwiKS52YWwoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiI2ZvY2FsbGVuZ3RoXCIpLmNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS56ID0gTnVtYmVyKCQoXCIjZm9jYWxsZW5ndGhcIikudmFsKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIiNwcm9qZWN0aW9uXCIpLmNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb24gPSAkKFwiI3Byb2plY3Rpb25cIikudmFsKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiI3JvdGF0aW9ueFwiKS5jaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblggPSBOdW1iZXIoJChcIiNyb3RhdGlvbnhcIikudmFsKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIiNyb3RhdGlvbnlcIikuY2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25ZID0gTnVtYmVyKCQoXCIjcm90YXRpb255XCIpLnZhbCgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIjcm90YXRpb256XCIpLmNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uWiA9IE51bWJlcigkKFwiI3JvdGF0aW9uelwiKS52YWwoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoaXMuY2FuKS5vbih7XG4gICAgICAgICAgICBcIndoZWVsXCI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3haICs9IGUub3JpZ2luYWxFdmVudC5kZWx0YVk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJtb3VzZXVwXCI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIm1vdXNlZG93blwiOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlU3RhcnRYID0gZS5vcmlnaW5hbEV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0WSA9IGUub3JpZ2luYWxFdmVudC5jbGllbnRZO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFJvdGF0aW9uWCA9IHRoaXMucm90YXRpb25YO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFJvdGF0aW9uWSA9IHRoaXMucm90YXRpb25ZO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibW91c2Vtb3ZlXCI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVggPSBlLm9yaWdpbmFsRXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWSA9IGUub3JpZ2luYWxFdmVudC5jbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGlvblggPSB0aGlzLm1vdXNlU3RhcnRSb3RhdGlvblggKyAodGhpcy5tb3VzZVN0YXJ0WCAtIHRoaXMubW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGlvblkgPSB0aGlzLm1vdXNlU3RhcnRSb3RhdGlvblkgKyAodGhpcy5tb3VzZVN0YXJ0WSAtIHRoaXMubW91c2VZKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNyb3RhdGlvbnhcIikudmFsKHRoaXMucm90YXRpb25YKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNyb3RhdGlvbnlcIikudmFsKHRoaXMucm90YXRpb25ZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0b3VjaHN0YXJ0XCI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0WCA9IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFkgPSBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlU3RhcnRSb3RhdGlvblggPSB0aGlzLnJvdGF0aW9uWDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlU3RhcnRSb3RhdGlvblkgPSB0aGlzLnJvdGF0aW9uWTtcbiAgICAgICAgICAgICAgICBpZihlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpbmNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waW5jaGluZ1ggPSBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMV0uY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waW5jaGluZ1kgPSBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMV0uY2xpZW50WTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waW5jaERpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShbdGhpcy5tb3VzZVN0YXJ0WCwgdGhpcy5tb3VzZVN0YXJ0WV0sIFt0aGlzLnBvaW5jaGluZ1gsIHRoaXMucGluY2hpbmdZXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waW5jaGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInRvdWNobW92ZVwiOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VYID0gZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVkgPSBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcblxuICAgICAgICAgICAgICAgIGlmKGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRpb25YID0gdGhpcy5tb3VzZVN0YXJ0Um90YXRpb25YICsgKHRoaXMubW91c2VTdGFydFggLSB0aGlzLm1vdXNlWCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRpb25ZID0gdGhpcy5tb3VzZVN0YXJ0Um90YXRpb25ZICsgKHRoaXMubW91c2VTdGFydFkgLSB0aGlzLm1vdXNlWSk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjcm90YXRpb254XCIpLnZhbCh0aGlzLnJvdGF0aW9uWCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjcm90YXRpb255XCIpLnZhbCh0aGlzLnJvdGF0aW9uWSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50RGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFlcbiAgICAgICAgICAgICAgICAgICAgXSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzFdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgICAgICBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMV0uY2xpZW50WVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3haICs9ICh0aGlzLnBpbmNoRGlzdGFuY2UgLSBjdXJyZW50RGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInRvdWNoZW5kXCI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVggPSBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWSA9IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkaXN0YW5jZShwb2ludDEsIHBvaW50Mikge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgTWF0aC5wb3coXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMocG9pbnQxWzBdIC0gcG9pbnQyWzBdKVxuICAgICAgICAgICAgKSArIE1hdGgucG93KFxuICAgICAgICAgICAgICAgIE1hdGguYWJzKHBvaW50MVsxXSAtIHBvaW50MlsxXSlcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBkcmF3KCkge1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FuLndpZHRoLCB0aGlzLmNhbi5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuZHJhd1NxdWFyZSgpO1xuICAgICAgICB0aGlzLmRyYXdCb3goKTtcblxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5kcmF3KCkpO1xuICAgIH1cblxuICAgIGRyYXdCb3goKSB7XG4gICAgICAgIGxldCBzaXplID0gMjAwO1xuICAgICAgICBsZXQgeCA9IHRoaXMubW91c2VYO1xuICAgICAgICBsZXQgeSA9IHRoaXMubW91c2VZO1xuICAgICAgICBpZih0aGlzLnByb2plY3Rpb24gPT09IFwicFwiKSB7XG4gICAgICAgICAgICB4ID0gKHRoaXMuY2FuLndpZHRoIC8gMikgLSB0aGlzLm1vdXNlWDtcbiAgICAgICAgICAgIHkgPSAodGhpcy5jYW4uaGVpZ2h0IC8gMikgLSB0aGlzLm1vdXNlWTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeiA9IHRoaXMuYm94WjtcblxuICAgICAgICBsZXQgYyA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFt4IC0gc2l6ZSwgeSAtIHNpemUsIHogLSBzaXplXSxcbiAgICAgICAgICAgIFt4ICsgc2l6ZSwgeSAtIHNpemUsIHogLSBzaXplXSxcbiAgICAgICAgICAgIFt4ICsgc2l6ZSwgeSArIHNpemUsIHogLSBzaXplXSxcbiAgICAgICAgICAgIFt4IC0gc2l6ZSwgeSArIHNpemUsIHogLSBzaXplXSxcblxuICAgICAgICAgICAgW3ggLSBzaXplLCB5IC0gc2l6ZSwgeiArIHNpemVdLFxuICAgICAgICAgICAgW3ggKyBzaXplLCB5IC0gc2l6ZSwgeiArIHNpemVdLFxuICAgICAgICAgICAgW3ggKyBzaXplLCB5ICsgc2l6ZSwgeiArIHNpemVdLFxuICAgICAgICAgICAgW3ggLSBzaXplLCB5ICsgc2l6ZSwgeiArIHNpemVdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGMgPSB0aGlzLm1ha2VIb21vZ2VuZW91cyhjKTtcbiAgICAgICAgLy9maW5kIG91ciBjZW50cm9pZCBmb3IgdGhlIHRyYW5zbGF0aW9uIG1hdHJpeFxuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5nZXRDZW50cm9pZDNkKGMpLnRvQXJyYXkoKTtcblxuICAgICAgICBjID0gdGhpcy5yb3RhdGUzZChjLCBjZW50ZXIsIHRoaXMucm90YXRpb25YLCB0aGlzLnJvdGF0aW9uWSwgdGhpcy5yb3RhdGlvblopO1xuXG4gICAgICAgIGxldCB2O1xuICAgICAgICBzd2l0Y2godGhpcy5wcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwib1wiOlxuICAgICAgICAgICAgICAgIHYgPSB0aGlzLnByb2plY3RPcnRob2dyYXBoaWMoYyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgICAgICAgICAgdiA9IHRoaXMucHJvamVjdFBlcnNwZWN0aXZlKGMsIGNlbnRlcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBcInJnYigyNTUsIDAsIDApXCI7XG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh2WzBdWzBdLCB2WzBdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbMV1bMF0sIHZbMV1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odlsyXVswXSwgdlsyXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzNdWzBdLCB2WzNdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbMF1bMF0sIHZbMF1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcblxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBcInJnYigwLCAyNTUsIDApXCI7XG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh2WzRdWzBdLCB2WzRdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbNV1bMF0sIHZbNV1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odls2XVswXSwgdls2XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzddWzBdLCB2WzddWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbNF1bMF0sIHZbNF1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcblxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBcInJnYigwLCAwLCAyNTUpXCI7XG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh2WzBdWzBdLCB2WzBdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbNF1bMF0sIHZbNF1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odls3XVswXSwgdls3XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzNdWzBdLCB2WzNdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbMF1bMF0sIHZbMF1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcblxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBcInJnYigyNTUsIDI1NSwgMjU1KVwiO1xuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odlsxXVswXSwgdlsxXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzVdWzBdLCB2WzVdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbNl1bMF0sIHZbNl1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odlsyXVswXSwgdlsyXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzFdWzBdLCB2WzFdWzFdKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG5cbiAgICB9XG5cbiAgICByb3RhdGUzZChjLCBjZW50ZXIsIHhSb3RhdGlvbiwgeVJvdGF0aW9uLCB6Um90YXRpb24pIHtcbiAgICAgICAgLy9jaGFuZ2UgdGhldGEgaW50byByYWRpYW5zXG4gICAgICAgIHhSb3RhdGlvbiA9IHhSb3RhdGlvbiAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgeVJvdGF0aW9uID0geVJvdGF0aW9uICogKE1hdGguUEkgLyAxODApO1xuICAgICAgICB6Um90YXRpb24gPSB6Um90YXRpb24gKiAoTWF0aC5QSSAvIDE4MCk7XG5cbiAgICAgICAgbGV0IHRyYW5zbGF0ZUNlbnRlck1hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFsxLCAwLCAwLCAtY2VudGVyWzBdXSxcbiAgICAgICAgICAgIFswLCAxLCAwLCAtY2VudGVyWzFdXSxcbiAgICAgICAgICAgIFswLCAwLCAxLCAtY2VudGVyWzJdXSxcbiAgICAgICAgICAgIFswLCAwLCAwLCAxXVxuICAgICAgICBdKTtcblxuICAgICAgICBsZXQgdHJhbnNsYXRlQmFja01hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFsxLCAwLCAwLCBjZW50ZXJbMF1dLFxuICAgICAgICAgICAgWzAsIDEsIDAsIGNlbnRlclsxXV0sXG4gICAgICAgICAgICBbMCwgMCwgMSwgY2VudGVyWzJdXSxcbiAgICAgICAgICAgIFswLCAwLCAwLCAxXVxuICAgICAgICBdKTtcblxuICAgICAgICBsZXQgeFJvdGF0aW9uTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgWzEsIDAsIDAsIDBdLFxuICAgICAgICAgICAgWzAsIE1hdGguY29zKHhSb3RhdGlvbiksIC1NYXRoLnNpbih4Um90YXRpb24pLCAwXSxcbiAgICAgICAgICAgIFswLCBNYXRoLnNpbih4Um90YXRpb24pLCBNYXRoLmNvcyh4Um90YXRpb24pLCAwXSxcbiAgICAgICAgICAgIFswLCAwLCAwLCAxXVxuICAgICAgICBdKTtcblxuICAgICAgICBsZXQgeVJvdGF0aW9uTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgW01hdGguY29zKHlSb3RhdGlvbiksIDAsIC1NYXRoLnNpbih5Um90YXRpb24pLCAwXSxcbiAgICAgICAgICAgIFswLCAxLCAwLCAwXSxcbiAgICAgICAgICAgIFtNYXRoLnNpbih5Um90YXRpb24pLCAwLCBNYXRoLmNvcyh5Um90YXRpb24pLCAwXSxcbiAgICAgICAgICAgIFswLCAwLCAwLCAxXVxuICAgICAgICBdKTtcblxuICAgICAgICBsZXQgelJvdGF0aW9uTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgW01hdGguY29zKHpSb3RhdGlvbiksIC1NYXRoLnNpbih6Um90YXRpb24pLCAwLCAwXSxcbiAgICAgICAgICAgIFtNYXRoLnNpbih6Um90YXRpb24pLCBNYXRoLmNvcyh6Um90YXRpb24pLCAwLCAwXSxcbiAgICAgICAgICAgIFswLCAwLCAxLCAwXSxcbiAgICAgICAgICAgIFswLCAwLCAwLCAxXVxuICAgICAgICBdKTtcblxuICAgICAgICBsZXQgbmV3YyA9IFtdO1xuICAgICAgICBmb3IobGV0IHJvdyBvZiBjLl9kYXRhKSB7XG4gICAgICAgICAgICByb3cgPSBtYXRoLm11bHRpcGx5KHRyYW5zbGF0ZUNlbnRlck1hdHJpeCwgcm93KTtcbiAgICAgICAgICAgIHJvdyA9IG1hdGgubXVsdGlwbHkoeFJvdGF0aW9uTWF0cml4LCByb3cpO1xuICAgICAgICAgICAgcm93ID0gbWF0aC5tdWx0aXBseSh5Um90YXRpb25NYXRyaXgsIHJvdyk7XG4gICAgICAgICAgICByb3cgPSBtYXRoLm11bHRpcGx5KHpSb3RhdGlvbk1hdHJpeCwgcm93KTtcbiAgICAgICAgICAgIHJvdyA9IG1hdGgubXVsdGlwbHkodHJhbnNsYXRlQmFja01hdHJpeCwgcm93KTtcbiAgICAgICAgICAgIG5ld2MucHVzaChyb3cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRoLm1hdHJpeChuZXdjKTtcbiAgICB9XG5cbiAgICBwcm9qZWN0UGVyc3BlY3RpdmUodmVydGV4ZXMpIHtcbiAgICAgICAgbGV0IGQgPSB0aGlzLmNhbWVyYS56O1xuXG4gICAgICAgIGxldCB0cmFuc2xhdGVCYWNrTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgWzEsIDAsIHRoaXMuY2FuLndpZHRoIC8gMl0sXG4gICAgICAgICAgICBbMCwgMSwgdGhpcy5jYW4uaGVpZ2h0IC8gMl0sXG4gICAgICAgICAgICBbMCwgMCwgMV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IHZzID0gW107XG4gICAgICAgIGZvcihsZXQgcm93IG9mIHZlcnRleGVzLl9kYXRhKSB7XG4gICAgICAgICAgICBsZXQgeCA9IGQgKiAocm93WzBdIC8gcm93WzJdKTtcbiAgICAgICAgICAgIGxldCB5ID0gZCAqIChyb3dbMV0gLyByb3dbMl0pO1xuICAgICAgICAgICAgcm93ID0gbWF0aC5tYXRyaXgoW3gsIHksIDFdKTtcbiAgICAgICAgICAgIHJvdyA9IG1hdGgubXVsdGlwbHkodHJhbnNsYXRlQmFja01hdHJpeCwgcm93KTtcbiAgICAgICAgICAgIHZzLnB1c2goW3Jvdy5fZGF0YVswXSwgcm93Ll9kYXRhWzFdXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZzO1xuICAgIH1cblxuICAgIHByb2plY3RPcnRob2dyYXBoaWModmVydGV4ZXMpIHtcbiAgICAgICAgbGV0IHZzID0gW107XG4gICAgICAgIGZvcihsZXQgdiBvZiB2ZXJ0ZXhlcy5fZGF0YSkge1xuICAgICAgICAgICAgdnMucHVzaChbdlswXSwgdlsxXV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2cztcbiAgICB9XG5cbiAgICBkcmF3U3F1YXJlKCkge1xuICAgICAgICBsZXQgc2l6ZSA9IDIwMDtcbiAgICAgICAgbGV0IHggPSB0aGlzLm1vdXNlWCAtIHNpemUgLyAyO1xuICAgICAgICBsZXQgeSA9IHRoaXMubW91c2VZIC0gc2l6ZSAvIDI7XG5cbiAgICAgICAgbGV0IGMgPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbeCwgeV0sXG4gICAgICAgICAgICBbeCArIHNpemUsIHldLFxuICAgICAgICAgICAgW3ggKyBzaXplLCB5ICsgc2l6ZV0sXG4gICAgICAgICAgICBbeCwgeSArIHNpemVdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGMgPSB0aGlzLm1ha2VIb21vZ2VuZW91cyhjKTtcblxuXG4gICAgICAgIGMgPSB0aGlzLnJvdGF0ZTJkKGMsIHRoaXMucm90YXRpb25YKS50b0FycmF5KCk7XG5cbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJyZ2IoMjU1LCAyNTUsIDI1NSlcIjtcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhjWzBdWzBdLCBjWzBdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKGNbMV1bMF0sIGNbMV1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8oY1syXVswXSwgY1syXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhjWzNdWzBdLCBjWzNdWzFdKTtcbiAgICAgICAgdGhpcy5jdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICB9XG5cbiAgICBtYWtlSG9tb2dlbmVvdXMoYykge1xuICAgICAgICAvL1RyYW5zZm9ybSBjb29yZGluYXRlIGludG8gaG9tb2dlbmVvdXMgY29vcmRpbmF0ZVxuICAgICAgICBjLnJlc2l6ZShbYy5zaXplKClbMF0sIGMuc2l6ZSgpWzFdKzFdLCAxKTtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4fSBjXG4gICAgICogQHBhcmFtIHRoZXRhXG4gICAgICogQHJldHVybnMge0RlbnNlTWF0cml4fVxuICAgICAqL1xuICAgIHJvdGF0ZTJkKGMsIHRoZXRhKSB7XG4gICAgICAgIC8vY2hhbmdlIHRoZXRhIGludG8gcmFkaWFuc1xuICAgICAgICB0aGV0YSA9IHRoZXRhICogKE1hdGguUEkgLyAxODApO1xuICAgICAgICAvL2ZpbmQgb3VyIGNlbnRyb2lkIGZvciB0aGUgdHJhbnNsYXRpb24gbWF0cml4XG4gICAgICAgIGxldCBjZW50ZXIgPSB0aGlzLmdldENlbnRyb2lkMmQoYykudG9BcnJheSgpO1xuXG4gICAgICAgIGxldCByb3RhdGlvbk1hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFtNYXRoLmNvcyh0aGV0YSksIC1NYXRoLnNpbih0aGV0YSksIDBdLFxuICAgICAgICAgICAgW01hdGguc2luKHRoZXRhKSwgTWF0aC5jb3ModGhldGEpLCAwXSxcbiAgICAgICAgICAgIFswLCAwLCAxXVxuICAgICAgICBdKTtcbiAgICAgICAgbGV0IHRyYW5zbGF0ZUNlbnRlck1hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFsxLCAwLCAtY2VudGVyWzBdXSxcbiAgICAgICAgICAgIFswLCAxLCAtY2VudGVyWzFdXSxcbiAgICAgICAgICAgIFswLCAwLCAxXVxuICAgICAgICBdKTtcbiAgICAgICAgbGV0IHRyYW5zbGF0ZUJhY2tNYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbMSwgMCwgY2VudGVyWzBdXSxcbiAgICAgICAgICAgIFswLCAxLCBjZW50ZXJbMV1dLFxuICAgICAgICAgICAgWzAsIDAsIDFdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCBuZXdjID0gW107XG4gICAgICAgIGZvcihsZXQgcm93IG9mIGMuX2RhdGEpIHtcbiAgICAgICAgICAgIGxldCB0Y20gPSBtYXRoLm11bHRpcGx5KHRyYW5zbGF0ZUNlbnRlck1hdHJpeCwgcm93KTtcbiAgICAgICAgICAgIGxldCBybSA9IG1hdGgubXVsdGlwbHkocm90YXRpb25NYXRyaXgsIHRjbSk7XG4gICAgICAgICAgICBsZXQgdGJtID0gbWF0aC5tdWx0aXBseSh0cmFuc2xhdGVCYWNrTWF0cml4LCBybSk7XG4gICAgICAgICAgICBuZXdjLnB1c2godGJtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0aC5tYXRyaXgobmV3Yyk7XG4gICAgfVxuXG4gICAgZ2V0Q2VudHJvaWQyZChwb2ludHMpe1xuICAgICAgICBsZXQgeCA9IDAsIHkgPSAwO1xuICAgICAgICBmb3IobGV0IHAgb2YgcG9pbnRzLl9kYXRhKSB7XG4gICAgICAgICAgICB4ICs9IHBbMF07XG4gICAgICAgICAgICB5ICs9IHBbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGgubWF0cml4KFt4IC8gcG9pbnRzLl9kYXRhLmxlbmd0aCwgeSAvIHBvaW50cy5fZGF0YS5sZW5ndGhdKTtcbiAgICB9XG5cbiAgICBnZXRDZW50cm9pZDNkKHBvaW50cyl7XG4gICAgICAgIGxldCB4ID0gMCwgeSA9IDAsIHogPSAwO1xuICAgICAgICBmb3IobGV0IHAgb2YgcG9pbnRzLl9kYXRhKSB7XG4gICAgICAgICAgICB4ICs9IHBbMF07XG4gICAgICAgICAgICB5ICs9IHBbMV07XG4gICAgICAgICAgICB6ICs9IHBbMl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIHggLyBwb2ludHMuX2RhdGEubGVuZ3RoLFxuICAgICAgICAgICAgeSAvIHBvaW50cy5fZGF0YS5sZW5ndGgsXG4gICAgICAgICAgICB6IC8gcG9pbnRzLl9kYXRhLmxlbmd0aFxuICAgICAgICBdKTtcbiAgICB9XG59OyJdfQ==\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/projective_geometry/Project.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 309c20032cd1b3b3ead3","new class Project {\n\n    constructor() {\n        $(() => {\n            this.can = $(\"#geometry_canvas\")[0];\n            this.ctx = this.can.getContext('2d', {alpha: false});\n            this.can.width = window.innerWidth;\n            this.can.height = window.innerHeight;\n            this.rotationX = Number($(\"#rotationx\").val());\n            this.rotationY = Number($(\"#rotationy\").val());\n            this.rotationZ = Number($(\"#rotationz\").val());\n            this.projection = $(\"#projection\").val();\n            this.boxZ = Number($(\"#boxz\").val());\n            this.mouseX = this.can.width / 2;\n            this.mouseY = this.can.height / 2;\n            this.camera = {\n                x: 0,\n                y: 0,\n                z: Number($(\"#focallength\").val()),\n                rx: 0,\n                ry: 0,\n                rz: 0,\n                width: this.can.width,\n                height: this.can.height,\n                center: {\n                    x: this.can.width / 2,\n                    y: this.can.height / 2\n                }\n            };\n            this.bindEvents();\n            requestAnimationFrame(() => this.draw());\n        });\n    }\n\n    bindEvents() {\n        $(\"#boxz\").change(() => {\n            this.boxZ = Number($(\"#boxz\").val());\n        });\n        $(\"#focallength\").change(() => {\n            this.camera.z = Number($(\"#focallength\").val());\n        });\n        $(\"#projection\").change(() => {\n            this.projection = $(\"#projection\").val();\n        });\n        $(\"#rotationx\").change(() => {\n            this.rotationX = Number($(\"#rotationx\").val());\n        });\n        $(\"#rotationy\").change(() => {\n            this.rotationY = Number($(\"#rotationy\").val());\n        });\n        $(\"#rotationz\").change(() => {\n            this.rotationZ = Number($(\"#rotationz\").val());\n        });\n        $(this.can).on({\n            \"wheel\": (e) => {\n                this.boxZ += e.originalEvent.deltaY;\n            },\n            \"mouseup\": (e) => {\n                this.mouseDown = false;\n            },\n            \"mousedown\": (e) => {\n                this.mouseDown = true;\n                this.mouseStartX = e.originalEvent.clientX;\n                this.mouseStartY = e.originalEvent.clientY;\n                this.mouseStartRotationX = this.rotationX;\n                this.mouseStartRotationY = this.rotationY;\n            },\n            \"mousemove\": (e) => {\n                this.mouseX = e.originalEvent.clientX;\n                this.mouseY = e.originalEvent.clientY;\n\n                if(this.mouseDown) {\n                    this.rotationX = this.mouseStartRotationX + (this.mouseStartX - this.mouseX);\n                    this.rotationY = this.mouseStartRotationY + (this.mouseStartY - this.mouseY);\n                    $(\"#rotationx\").val(this.rotationX);\n                    $(\"#rotationy\").val(this.rotationY);\n                }\n            },\n            \"touchstart\": (e) => {\n                this.mouseStartX = e.originalEvent.changedTouches[0].clientX;\n                this.mouseStartY = e.originalEvent.changedTouches[0].clientY;\n                this.mouseStartRotationX = this.rotationX;\n                this.mouseStartRotationY = this.rotationY;\n                if(e.originalEvent.changedTouches.length > 1) {\n                    this.pinching = true;\n                    this.pinchingX = e.originalEvent.changedTouches[1].clientX;\n                    this.pinchingY = e.originalEvent.changedTouches[1].clientY;\n                    this.pinchDistance = this.distance([this.mouseStartX, this.mouseStartY], [this.poinchingX, this.pinchingY]);\n                } else {\n                    this.pinching = false;\n                }\n            },\n            \"touchmove\": (e) => {\n                this.mouseX = e.originalEvent.changedTouches[0].clientX;\n                this.mouseY = e.originalEvent.changedTouches[0].clientY;\n\n                if(e.originalEvent.changedTouches.length > 1) {\n                    this.rotationX = this.mouseStartRotationX + (this.mouseStartX - this.mouseX);\n                    this.rotationY = this.mouseStartRotationY + (this.mouseStartY - this.mouseY);\n                    $(\"#rotationx\").val(this.rotationX);\n                    $(\"#rotationy\").val(this.rotationY);\n                    let currentDistance = this.distance([\n                        e.originalEvent.changedTouches[0].clientX,\n                        e.originalEvent.changedTouches[0].clientY\n                    ], [\n                        e.originalEvent.changedTouches[1].clientX,\n                        e.originalEvent.changedTouches[1].clientY\n                    ]);\n                    this.boxZ += (this.pinchDistance - currentDistance);\n                }\n            },\n            \"touchend\": (e) => {\n                this.mouseX = e.originalEvent.changedTouches[0].clientX;\n                this.mouseY = e.originalEvent.changedTouches[0].clientY;\n            }\n        });\n    }\n\n    distance(point1, point2) {\n        return Math.sqrt(\n            Math.pow(\n                Math.abs(point1[0] - point2[0])\n            ) + Math.pow(\n                Math.abs(point1[1] - point2[1])\n            )\n        );\n    }\n\n    draw() {\n        this.ctx.fillStyle = \"black\";\n        this.ctx.fillRect(0, 0, this.can.width, this.can.height);\n\n        this.drawSquare();\n        this.drawBox();\n\n        requestAnimationFrame(() => this.draw());\n    }\n\n    drawBox() {\n        let size = 200;\n        let x = this.mouseX;\n        let y = this.mouseY;\n        if(this.projection === \"p\") {\n            x = (this.can.width / 2) - this.mouseX;\n            y = (this.can.height / 2) - this.mouseY;\n        }\n        let z = this.boxZ;\n\n        let c = math.matrix([\n            [x - size, y - size, z - size],\n            [x + size, y - size, z - size],\n            [x + size, y + size, z - size],\n            [x - size, y + size, z - size],\n\n            [x - size, y - size, z + size],\n            [x + size, y - size, z + size],\n            [x + size, y + size, z + size],\n            [x - size, y + size, z + size]\n        ]);\n\n        c = this.makeHomogeneous(c);\n        //find our centroid for the translation matrix\n        let center = this.getCentroid3d(c).toArray();\n\n        c = this.rotate3d(c, center, this.rotationX, this.rotationY, this.rotationZ);\n\n        let v;\n        switch(this.projection) {\n            case \"o\":\n                v = this.projectOrthographic(c);\n                break;\n\n            case \"p\":\n                v = this.projectPerspective(c, center);\n                break;\n        }\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(255, 0, 0)\";\n        this.ctx.moveTo(v[0][0], v[0][1]);\n        this.ctx.lineTo(v[1][0], v[1][1]);\n        this.ctx.lineTo(v[2][0], v[2][1]);\n        this.ctx.lineTo(v[3][0], v[3][1]);\n        this.ctx.lineTo(v[0][0], v[0][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(0, 255, 0)\";\n        this.ctx.moveTo(v[4][0], v[4][1]);\n        this.ctx.lineTo(v[5][0], v[5][1]);\n        this.ctx.lineTo(v[6][0], v[6][1]);\n        this.ctx.lineTo(v[7][0], v[7][1]);\n        this.ctx.lineTo(v[4][0], v[4][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(0, 0, 255)\";\n        this.ctx.moveTo(v[0][0], v[0][1]);\n        this.ctx.lineTo(v[4][0], v[4][1]);\n        this.ctx.lineTo(v[7][0], v[7][1]);\n        this.ctx.lineTo(v[3][0], v[3][1]);\n        this.ctx.lineTo(v[0][0], v[0][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(255, 255, 255)\";\n        this.ctx.moveTo(v[1][0], v[1][1]);\n        this.ctx.lineTo(v[5][0], v[5][1]);\n        this.ctx.lineTo(v[6][0], v[6][1]);\n        this.ctx.lineTo(v[2][0], v[2][1]);\n        this.ctx.lineTo(v[1][0], v[1][1]);\n        this.ctx.stroke();\n\n    }\n\n    rotate3d(c, center, xRotation, yRotation, zRotation) {\n        //change theta into radians\n        xRotation = xRotation * (Math.PI / 180);\n        yRotation = yRotation * (Math.PI / 180);\n        zRotation = zRotation * (Math.PI / 180);\n\n        let translateCenterMatrix = math.matrix([\n            [1, 0, 0, -center[0]],\n            [0, 1, 0, -center[1]],\n            [0, 0, 1, -center[2]],\n            [0, 0, 0, 1]\n        ]);\n\n        let translateBackMatrix = math.matrix([\n            [1, 0, 0, center[0]],\n            [0, 1, 0, center[1]],\n            [0, 0, 1, center[2]],\n            [0, 0, 0, 1]\n        ]);\n\n        let xRotationMatrix = math.matrix([\n            [1, 0, 0, 0],\n            [0, Math.cos(xRotation), -Math.sin(xRotation), 0],\n            [0, Math.sin(xRotation), Math.cos(xRotation), 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let yRotationMatrix = math.matrix([\n            [Math.cos(yRotation), 0, -Math.sin(yRotation), 0],\n            [0, 1, 0, 0],\n            [Math.sin(yRotation), 0, Math.cos(yRotation), 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let zRotationMatrix = math.matrix([\n            [Math.cos(zRotation), -Math.sin(zRotation), 0, 0],\n            [Math.sin(zRotation), Math.cos(zRotation), 0, 0],\n            [0, 0, 1, 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let newc = [];\n        for(let row of c._data) {\n            row = math.multiply(translateCenterMatrix, row);\n            row = math.multiply(xRotationMatrix, row);\n            row = math.multiply(yRotationMatrix, row);\n            row = math.multiply(zRotationMatrix, row);\n            row = math.multiply(translateBackMatrix, row);\n            newc.push(row);\n        }\n        return math.matrix(newc);\n    }\n\n    projectPerspective(vertexes) {\n        let d = this.camera.z;\n\n        let translateBackMatrix = math.matrix([\n            [1, 0, this.can.width / 2],\n            [0, 1, this.can.height / 2],\n            [0, 0, 1]\n        ]);\n\n        let vs = [];\n        for(let row of vertexes._data) {\n            let x = d * (row[0] / row[2]);\n            let y = d * (row[1] / row[2]);\n            row = math.matrix([x, y, 1]);\n            row = math.multiply(translateBackMatrix, row);\n            vs.push([row._data[0], row._data[1]]);\n        }\n        return vs;\n    }\n\n    projectOrthographic(vertexes) {\n        let vs = [];\n        for(let v of vertexes._data) {\n            vs.push([v[0], v[1]]);\n        }\n        return vs;\n    }\n\n    drawSquare() {\n        let size = 200;\n        let x = this.mouseX - size / 2;\n        let y = this.mouseY - size / 2;\n\n        let c = math.matrix([\n            [x, y],\n            [x + size, y],\n            [x + size, y + size],\n            [x, y + size]\n        ]);\n\n        c = this.makeHomogeneous(c);\n\n\n        c = this.rotate2d(c, this.rotationX).toArray();\n\n        this.ctx.fillStyle = \"rgb(255, 255, 255)\";\n        this.ctx.beginPath();\n        this.ctx.moveTo(c[0][0], c[0][1]);\n        this.ctx.lineTo(c[1][0], c[1][1]);\n        this.ctx.lineTo(c[2][0], c[2][1]);\n        this.ctx.lineTo(c[3][0], c[3][1]);\n        this.ctx.closePath();\n        this.ctx.fill();\n    }\n\n    makeHomogeneous(c) {\n        //Transform coordinate into homogeneous coordinate\n        c.resize([c.size()[0], c.size()[1]+1], 1);\n        return c;\n    }\n\n    /**\n     *\n     * @param {DenseMatrix} c\n     * @param theta\n     * @returns {DenseMatrix}\n     */\n    rotate2d(c, theta) {\n        //change theta into radians\n        theta = theta * (Math.PI / 180);\n        //find our centroid for the translation matrix\n        let center = this.getCentroid2d(c).toArray();\n\n        let rotationMatrix = math.matrix([\n            [Math.cos(theta), -Math.sin(theta), 0],\n            [Math.sin(theta), Math.cos(theta), 0],\n            [0, 0, 1]\n        ]);\n        let translateCenterMatrix = math.matrix([\n            [1, 0, -center[0]],\n            [0, 1, -center[1]],\n            [0, 0, 1]\n        ]);\n        let translateBackMatrix = math.matrix([\n            [1, 0, center[0]],\n            [0, 1, center[1]],\n            [0, 0, 1]\n        ]);\n\n        let newc = [];\n        for(let row of c._data) {\n            let tcm = math.multiply(translateCenterMatrix, row);\n            let rm = math.multiply(rotationMatrix, tcm);\n            let tbm = math.multiply(translateBackMatrix, rm);\n            newc.push(tbm);\n        }\n        return math.matrix(newc);\n    }\n\n    getCentroid2d(points){\n        let x = 0, y = 0;\n        for(let p of points._data) {\n            x += p[0];\n            y += p[1];\n        }\n        return math.matrix([x / points._data.length, y / points._data.length]);\n    }\n\n    getCentroid3d(points){\n        let x = 0, y = 0, z = 0;\n        for(let p of points._data) {\n            x += p[0];\n            y += p[1];\n            z += p[2];\n        }\n        return math.matrix([\n            x / points._data.length,\n            y / points._data.length,\n            z / points._data.length\n        ]);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/projective_geometry/Project.es6"],"sourceRoot":""}