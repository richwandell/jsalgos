{"version":3,"sources":["webpack:///dist/projective_geometry/Project.js","webpack:///webpack/bootstrap 587d3c2d5ab2903b3c5b","webpack:///./src/projective_geometry/Project.es6"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Project","_this","this","$","can","ctx","getContext","alpha","width","window","innerWidth","height","innerHeight","rotationX","Number","val","rotationY","rotationZ","projection","boxZ","mouseX","mouseY","camera","x","y","z","rx","ry","rz","center","bindEvents","requestAnimationFrame","draw","_this2","change","on","wheel","e","originalEvent","deltaY","mouseup","mouseDown","mousedown","mouseStartX","clientX","mouseStartY","clientY","mouseStartRotationX","mouseStartRotationY","mousemove","touchstart","changedTouches","pinching","pinchingX","pinchingY","pinchDistance","distance","touchmove","currentDistance","dis","touchend","point1","point2","Math","sqrt","pow","abs","_this3","fillStyle","fillRect","drawSquare","drawBox","math","matrix","makeHomogeneous","getCentroid3d","toArray","rotate3d","v","projectOrthographic","projectPerspective","beginPath","strokeStyle","moveTo","lineTo","stroke","xRotation","yRotation","zRotation","PI","translateCenterMatrix","translateBackMatrix","xRotationMatrix","cos","sin","yRotationMatrix","zRotationMatrix","newc","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","_data","Symbol","iterator","next","done","row","multiply","push","err","return","vertexes","vs","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","size","rotate2d","closePath","fill","resize","theta","getCentroid2d","rotationMatrix","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","tcm","rm","tbm","points","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6"],"mappings":"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","file":"./dist/projective_geometry/Project.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nnew (function () {\n    function Project() {\n        var _this = this;\n\n        _classCallCheck(this, Project);\n\n        $(function () {\n            _this.can = $(\"#geometry_canvas\")[0];\n            _this.ctx = _this.can.getContext('2d', { alpha: false });\n            _this.can.width = window.innerWidth;\n            _this.can.height = window.innerHeight;\n            _this.rotationX = Number($(\"#rotationx\").val());\n            _this.rotationY = Number($(\"#rotationy\").val());\n            _this.rotationZ = Number($(\"#rotationz\").val());\n            _this.projection = $(\"#projection\").val();\n            _this.boxZ = Number($(\"#boxz\").val());\n            _this.mouseX = _this.can.width / 2;\n            _this.mouseY = _this.can.height / 2;\n            _this.camera = {\n                x: 0,\n                y: 0,\n                z: Number($(\"#focallength\").val()),\n                rx: 0,\n                ry: 0,\n                rz: 0,\n                width: _this.can.width,\n                height: _this.can.height,\n                center: {\n                    x: _this.can.width / 2,\n                    y: _this.can.height / 2\n                }\n            };\n            _this.bindEvents();\n            requestAnimationFrame(function () {\n                return _this.draw();\n            });\n        });\n    }\n\n    _createClass(Project, [{\n        key: \"bindEvents\",\n        value: function bindEvents() {\n            var _this2 = this;\n\n            $(\"#boxz\").change(function () {\n                _this2.boxZ = Number($(\"#boxz\").val());\n            });\n            $(\"#focallength\").change(function () {\n                _this2.camera.z = Number($(\"#focallength\").val());\n            });\n            $(\"#projection\").change(function () {\n                _this2.projection = $(\"#projection\").val();\n            });\n            $(\"#rotationx\").change(function () {\n                _this2.rotationX = Number($(\"#rotationx\").val());\n            });\n            $(\"#rotationy\").change(function () {\n                _this2.rotationY = Number($(\"#rotationy\").val());\n            });\n            $(\"#rotationz\").change(function () {\n                _this2.rotationZ = Number($(\"#rotationz\").val());\n            });\n            $(this.can).on({\n                \"wheel\": function wheel(e) {\n                    _this2.boxZ += e.originalEvent.deltaY;\n                },\n                \"mouseup\": function mouseup(e) {\n                    _this2.mouseDown = false;\n                },\n                \"mousedown\": function mousedown(e) {\n                    _this2.mouseDown = true;\n                    _this2.mouseStartX = e.originalEvent.clientX;\n                    _this2.mouseStartY = e.originalEvent.clientY;\n                    _this2.mouseStartRotationX = _this2.rotationX;\n                    _this2.mouseStartRotationY = _this2.rotationY;\n                },\n                \"mousemove\": function mousemove(e) {\n                    _this2.mouseX = e.originalEvent.clientX;\n                    _this2.mouseY = e.originalEvent.clientY;\n\n                    if (_this2.mouseDown) {\n                        _this2.rotationX = _this2.mouseStartRotationX + (_this2.mouseStartX - _this2.mouseX);\n                        _this2.rotationY = _this2.mouseStartRotationY + (_this2.mouseStartY - _this2.mouseY);\n                        $(\"#rotationx\").val(_this2.rotationX);\n                        $(\"#rotationy\").val(_this2.rotationY);\n                    }\n                },\n                \"touchstart\": function touchstart(e) {\n                    _this2.mouseStartX = e.originalEvent.changedTouches[0].clientX;\n                    _this2.mouseStartY = e.originalEvent.changedTouches[0].clientY;\n                    _this2.mouseStartRotationX = _this2.rotationX;\n                    _this2.mouseStartRotationY = _this2.rotationY;\n                    if (e.originalEvent.changedTouches.length > 1) {\n                        _this2.pinching = true;\n                        _this2.pinchingX = e.originalEvent.changedTouches[1].clientX;\n                        _this2.pinchingY = e.originalEvent.changedTouches[1].clientY;\n                        _this2.pinchDistance = _this2.distance([_this2.mouseStartX, _this2.mouseStartY], [_this2.pinchingX, _this2.pinchingY]);\n                    } else {\n                        _this2.pinching = false;\n                    }\n                },\n                \"touchmove\": function touchmove(e) {\n                    _this2.mouseX = e.originalEvent.changedTouches[0].clientX;\n                    _this2.mouseY = e.originalEvent.changedTouches[0].clientY;\n\n                    if (e.originalEvent.changedTouches.length > 1) {\n                        _this2.rotationX = _this2.mouseStartRotationX + (_this2.mouseStartX - _this2.mouseX);\n                        _this2.rotationY = _this2.mouseStartRotationY + (_this2.mouseStartY - _this2.mouseY);\n                        $(\"#rotationx\").val(_this2.rotationX);\n                        $(\"#rotationy\").val(_this2.rotationY);\n                        var currentDistance = _this2.distance([e.originalEvent.changedTouches[0].clientX, e.originalEvent.changedTouches[0].clientY], [e.originalEvent.changedTouches[1].clientX, e.originalEvent.changedTouches[1].clientY]);\n                        var dis = _this2.pinchDistance - currentDistance;\n                        $(\"#boxz\").val(_this2.boxZ + dis);\n                        _this2.boxZ += dis;\n                    }\n                },\n                \"touchend\": function touchend(e) {\n                    _this2.mouseX = e.originalEvent.changedTouches[0].clientX;\n                    _this2.mouseY = e.originalEvent.changedTouches[0].clientY;\n                }\n            });\n        }\n    }, {\n        key: \"distance\",\n        value: function distance(point1, point2) {\n            return Math.sqrt(Math.pow(Math.abs(point1[0] - point2[0])) + Math.pow(Math.abs(point1[1] - point2[1])));\n        }\n    }, {\n        key: \"draw\",\n        value: function draw() {\n            var _this3 = this;\n\n            this.ctx.fillStyle = \"black\";\n            this.ctx.fillRect(0, 0, this.can.width, this.can.height);\n\n            this.drawSquare();\n            this.drawBox();\n\n            requestAnimationFrame(function () {\n                return _this3.draw();\n            });\n        }\n    }, {\n        key: \"drawBox\",\n        value: function drawBox() {\n            var size = 200;\n            var x = this.mouseX;\n            var y = this.mouseY;\n            if (this.projection === \"p\") {\n                x = this.can.width / 2 - this.mouseX;\n                y = this.can.height / 2 - this.mouseY;\n            }\n            var z = this.boxZ;\n\n            var c = math.matrix([[x - size, y - size, z - size], [x + size, y - size, z - size], [x + size, y + size, z - size], [x - size, y + size, z - size], [x - size, y - size, z + size], [x + size, y - size, z + size], [x + size, y + size, z + size], [x - size, y + size, z + size]]);\n\n            c = this.makeHomogeneous(c);\n            //find our centroid for the translation matrix\n            var center = this.getCentroid3d(c).toArray();\n\n            c = this.rotate3d(c, center, this.rotationX, this.rotationY, this.rotationZ);\n\n            var v = void 0;\n            switch (this.projection) {\n                case \"o\":\n                    v = this.projectOrthographic(c);\n                    break;\n\n                case \"p\":\n                    v = this.projectPerspective(c, center);\n                    break;\n            }\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(255, 0, 0)\";\n            this.ctx.moveTo(v[0][0], v[0][1]);\n            this.ctx.lineTo(v[1][0], v[1][1]);\n            this.ctx.lineTo(v[2][0], v[2][1]);\n            this.ctx.lineTo(v[3][0], v[3][1]);\n            this.ctx.lineTo(v[0][0], v[0][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(0, 255, 0)\";\n            this.ctx.moveTo(v[4][0], v[4][1]);\n            this.ctx.lineTo(v[5][0], v[5][1]);\n            this.ctx.lineTo(v[6][0], v[6][1]);\n            this.ctx.lineTo(v[7][0], v[7][1]);\n            this.ctx.lineTo(v[4][0], v[4][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(0, 0, 255)\";\n            this.ctx.moveTo(v[0][0], v[0][1]);\n            this.ctx.lineTo(v[4][0], v[4][1]);\n            this.ctx.lineTo(v[7][0], v[7][1]);\n            this.ctx.lineTo(v[3][0], v[3][1]);\n            this.ctx.lineTo(v[0][0], v[0][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(255, 255, 255)\";\n            this.ctx.moveTo(v[1][0], v[1][1]);\n            this.ctx.lineTo(v[5][0], v[5][1]);\n            this.ctx.lineTo(v[6][0], v[6][1]);\n            this.ctx.lineTo(v[2][0], v[2][1]);\n            this.ctx.lineTo(v[1][0], v[1][1]);\n            this.ctx.stroke();\n        }\n    }, {\n        key: \"rotate3d\",\n        value: function rotate3d(c, center, xRotation, yRotation, zRotation) {\n            //change theta into radians\n            xRotation = xRotation * (Math.PI / 180);\n            yRotation = yRotation * (Math.PI / 180);\n            zRotation = zRotation * (Math.PI / 180);\n\n            var translateCenterMatrix = math.matrix([[1, 0, 0, -center[0]], [0, 1, 0, -center[1]], [0, 0, 1, -center[2]], [0, 0, 0, 1]]);\n\n            var translateBackMatrix = math.matrix([[1, 0, 0, center[0]], [0, 1, 0, center[1]], [0, 0, 1, center[2]], [0, 0, 0, 1]]);\n\n            var xRotationMatrix = math.matrix([[1, 0, 0, 0], [0, Math.cos(xRotation), -Math.sin(xRotation), 0], [0, Math.sin(xRotation), Math.cos(xRotation), 0], [0, 0, 0, 1]]);\n\n            var yRotationMatrix = math.matrix([[Math.cos(yRotation), 0, -Math.sin(yRotation), 0], [0, 1, 0, 0], [Math.sin(yRotation), 0, Math.cos(yRotation), 0], [0, 0, 0, 1]]);\n\n            var zRotationMatrix = math.matrix([[Math.cos(zRotation), -Math.sin(zRotation), 0, 0], [Math.sin(zRotation), Math.cos(zRotation), 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]);\n\n            var newc = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = c._data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var row = _step.value;\n\n                    row = math.multiply(translateCenterMatrix, row);\n                    row = math.multiply(xRotationMatrix, row);\n                    row = math.multiply(yRotationMatrix, row);\n                    row = math.multiply(zRotationMatrix, row);\n                    row = math.multiply(translateBackMatrix, row);\n                    newc.push(row);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return math.matrix(newc);\n        }\n    }, {\n        key: \"projectPerspective\",\n        value: function projectPerspective(vertexes) {\n            var d = this.camera.z;\n\n            var translateBackMatrix = math.matrix([[1, 0, this.can.width / 2], [0, 1, this.can.height / 2], [0, 0, 1]]);\n\n            var vs = [];\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = vertexes._data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var row = _step2.value;\n\n                    var x = d * (row[0] / row[2]);\n                    var y = d * (row[1] / row[2]);\n                    row = math.matrix([x, y, 1]);\n                    row = math.multiply(translateBackMatrix, row);\n                    vs.push([row._data[0], row._data[1]]);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            return vs;\n        }\n    }, {\n        key: \"projectOrthographic\",\n        value: function projectOrthographic(vertexes) {\n            var vs = [];\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = vertexes._data[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var v = _step3.value;\n\n                    vs.push([v[0], v[1]]);\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n\n            return vs;\n        }\n    }, {\n        key: \"drawSquare\",\n        value: function drawSquare() {\n            var size = 200;\n            var x = this.mouseX - size / 2;\n            var y = this.mouseY - size / 2;\n\n            var c = math.matrix([[x, y], [x + size, y], [x + size, y + size], [x, y + size]]);\n\n            c = this.makeHomogeneous(c);\n\n            c = this.rotate2d(c, this.rotationX).toArray();\n\n            this.ctx.fillStyle = \"rgb(255, 255, 255)\";\n            this.ctx.beginPath();\n            this.ctx.moveTo(c[0][0], c[0][1]);\n            this.ctx.lineTo(c[1][0], c[1][1]);\n            this.ctx.lineTo(c[2][0], c[2][1]);\n            this.ctx.lineTo(c[3][0], c[3][1]);\n            this.ctx.closePath();\n            this.ctx.fill();\n        }\n    }, {\n        key: \"makeHomogeneous\",\n        value: function makeHomogeneous(c) {\n            //Transform coordinate into homogeneous coordinate\n            c.resize([c.size()[0], c.size()[1] + 1], 1);\n            return c;\n        }\n\n        /**\n         *\n         * @param {DenseMatrix} c\n         * @param theta\n         * @returns {DenseMatrix}\n         */\n\n    }, {\n        key: \"rotate2d\",\n        value: function rotate2d(c, theta) {\n            //change theta into radians\n            theta = theta * (Math.PI / 180);\n            //find our centroid for the translation matrix\n            var center = this.getCentroid2d(c).toArray();\n\n            var rotationMatrix = math.matrix([[Math.cos(theta), -Math.sin(theta), 0], [Math.sin(theta), Math.cos(theta), 0], [0, 0, 1]]);\n            var translateCenterMatrix = math.matrix([[1, 0, -center[0]], [0, 1, -center[1]], [0, 0, 1]]);\n            var translateBackMatrix = math.matrix([[1, 0, center[0]], [0, 1, center[1]], [0, 0, 1]]);\n\n            var newc = [];\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = c._data[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var row = _step4.value;\n\n                    var tcm = math.multiply(translateCenterMatrix, row);\n                    var rm = math.multiply(rotationMatrix, tcm);\n                    var tbm = math.multiply(translateBackMatrix, rm);\n                    newc.push(tbm);\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            return math.matrix(newc);\n        }\n    }, {\n        key: \"getCentroid2d\",\n        value: function getCentroid2d(points) {\n            var x = 0,\n                y = 0;\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = points._data[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var p = _step5.value;\n\n                    x += p[0];\n                    y += p[1];\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            return math.matrix([x / points._data.length, y / points._data.length]);\n        }\n    }, {\n        key: \"getCentroid3d\",\n        value: function getCentroid3d(points) {\n            var x = 0,\n                y = 0,\n                z = 0;\n            var _iteratorNormalCompletion6 = true;\n            var _didIteratorError6 = false;\n            var _iteratorError6 = undefined;\n\n            try {\n                for (var _iterator6 = points._data[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                    var p = _step6.value;\n\n                    x += p[0];\n                    y += p[1];\n                    z += p[2];\n                }\n            } catch (err) {\n                _didIteratorError6 = true;\n                _iteratorError6 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                        _iterator6.return();\n                    }\n                } finally {\n                    if (_didIteratorError6) {\n                        throw _iteratorError6;\n                    }\n                }\n            }\n\n            return math.matrix([x / points._data.length, y / points._data.length, z / points._data.length]);\n        }\n    }]);\n\n    return Project;\n}())();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wcm9qZWN0aXZlX2dlb21ldHJ5L1Byb2plY3QuZXM2Il0sIm5hbWVzIjpbIiQiLCJjYW4iLCJjdHgiLCJnZXRDb250ZXh0IiwiYWxwaGEiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsInJvdGF0aW9uWCIsIk51bWJlciIsInZhbCIsInJvdGF0aW9uWSIsInJvdGF0aW9uWiIsInByb2plY3Rpb24iLCJib3haIiwibW91c2VYIiwibW91c2VZIiwiY2FtZXJhIiwieCIsInkiLCJ6IiwicngiLCJyeSIsInJ6IiwiY2VudGVyIiwiYmluZEV2ZW50cyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRyYXciLCJjaGFuZ2UiLCJvbiIsImUiLCJvcmlnaW5hbEV2ZW50IiwiZGVsdGFZIiwibW91c2VEb3duIiwibW91c2VTdGFydFgiLCJjbGllbnRYIiwibW91c2VTdGFydFkiLCJjbGllbnRZIiwibW91c2VTdGFydFJvdGF0aW9uWCIsIm1vdXNlU3RhcnRSb3RhdGlvblkiLCJjaGFuZ2VkVG91Y2hlcyIsImxlbmd0aCIsInBpbmNoaW5nIiwicGluY2hpbmdYIiwicGluY2hpbmdZIiwicGluY2hEaXN0YW5jZSIsImRpc3RhbmNlIiwiY3VycmVudERpc3RhbmNlIiwiZGlzIiwicG9pbnQxIiwicG9pbnQyIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJhYnMiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImRyYXdTcXVhcmUiLCJkcmF3Qm94Iiwic2l6ZSIsImMiLCJtYXRoIiwibWF0cml4IiwibWFrZUhvbW9nZW5lb3VzIiwiZ2V0Q2VudHJvaWQzZCIsInRvQXJyYXkiLCJyb3RhdGUzZCIsInYiLCJwcm9qZWN0T3J0aG9ncmFwaGljIiwicHJvamVjdFBlcnNwZWN0aXZlIiwiYmVnaW5QYXRoIiwic3Ryb2tlU3R5bGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJ4Um90YXRpb24iLCJ5Um90YXRpb24iLCJ6Um90YXRpb24iLCJQSSIsInRyYW5zbGF0ZUNlbnRlck1hdHJpeCIsInRyYW5zbGF0ZUJhY2tNYXRyaXgiLCJ4Um90YXRpb25NYXRyaXgiLCJjb3MiLCJzaW4iLCJ5Um90YXRpb25NYXRyaXgiLCJ6Um90YXRpb25NYXRyaXgiLCJuZXdjIiwiX2RhdGEiLCJyb3ciLCJtdWx0aXBseSIsInB1c2giLCJ2ZXJ0ZXhlcyIsImQiLCJ2cyIsInJvdGF0ZTJkIiwiY2xvc2VQYXRoIiwiZmlsbCIsInJlc2l6ZSIsInRoZXRhIiwiZ2V0Q2VudHJvaWQyZCIsInJvdGF0aW9uTWF0cml4IiwidGNtIiwicm0iLCJ0Ym0iLCJwb2ludHMiLCJwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUVJLHVCQUFjO0FBQUE7O0FBQUE7O0FBQ1ZBLFVBQUUsWUFBTTtBQUNKLGtCQUFLQyxHQUFMLEdBQVdELEVBQUUsa0JBQUYsRUFBc0IsQ0FBdEIsQ0FBWDtBQUNBLGtCQUFLRSxHQUFMLEdBQVcsTUFBS0QsR0FBTCxDQUFTRSxVQUFULENBQW9CLElBQXBCLEVBQTBCLEVBQUNDLE9BQU8sS0FBUixFQUExQixDQUFYO0FBQ0Esa0JBQUtILEdBQUwsQ0FBU0ksS0FBVCxHQUFpQkMsT0FBT0MsVUFBeEI7QUFDQSxrQkFBS04sR0FBTCxDQUFTTyxNQUFULEdBQWtCRixPQUFPRyxXQUF6QjtBQUNBLGtCQUFLQyxTQUFMLEdBQWlCQyxPQUFPWCxFQUFFLFlBQUYsRUFBZ0JZLEdBQWhCLEVBQVAsQ0FBakI7QUFDQSxrQkFBS0MsU0FBTCxHQUFpQkYsT0FBT1gsRUFBRSxZQUFGLEVBQWdCWSxHQUFoQixFQUFQLENBQWpCO0FBQ0Esa0JBQUtFLFNBQUwsR0FBaUJILE9BQU9YLEVBQUUsWUFBRixFQUFnQlksR0FBaEIsRUFBUCxDQUFqQjtBQUNBLGtCQUFLRyxVQUFMLEdBQWtCZixFQUFFLGFBQUYsRUFBaUJZLEdBQWpCLEVBQWxCO0FBQ0Esa0JBQUtJLElBQUwsR0FBWUwsT0FBT1gsRUFBRSxPQUFGLEVBQVdZLEdBQVgsRUFBUCxDQUFaO0FBQ0Es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cHN0b3JtUHJvamVjdHMvanNhbGdvcyIsInNvdXJjZXNDb250ZW50IjpbIm5ldyBjbGFzcyBQcm9qZWN0IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAkKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FuID0gJChcIiNnZW9tZXRyeV9jYW52YXNcIilbMF07XG4gICAgICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FuLmdldENvbnRleHQoJzJkJywge2FscGhhOiBmYWxzZX0pO1xuICAgICAgICAgICAgdGhpcy5jYW4ud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuY2FuLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25YID0gTnVtYmVyKCQoXCIjcm90YXRpb254XCIpLnZhbCgpKTtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25ZID0gTnVtYmVyKCQoXCIjcm90YXRpb255XCIpLnZhbCgpKTtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25aID0gTnVtYmVyKCQoXCIjcm90YXRpb256XCIpLnZhbCgpKTtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbiA9ICQoXCIjcHJvamVjdGlvblwiKS52YWwoKTtcbiAgICAgICAgICAgIHRoaXMuYm94WiA9IE51bWJlcigkKFwiI2JveHpcIikudmFsKCkpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZVggPSB0aGlzLmNhbi53aWR0aCAvIDI7XG4gICAgICAgICAgICB0aGlzLm1vdXNlWSA9IHRoaXMuY2FuLmhlaWdodCAvIDI7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYSA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgejogTnVtYmVyKCQoXCIjZm9jYWxsZW5ndGhcIikudmFsKCkpLFxuICAgICAgICAgICAgICAgIHJ4OiAwLFxuICAgICAgICAgICAgICAgIHJ5OiAwLFxuICAgICAgICAgICAgICAgIHJ6OiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmNhbi53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2FuLmhlaWdodCxcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5jYW4ud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmNhbi5oZWlnaHQgLyAyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuZHJhdygpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmluZEV2ZW50cygpIHtcbiAgICAgICAgJChcIiNib3h6XCIpLmNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJveFogPSBOdW1iZXIoJChcIiNib3h6XCIpLnZhbCgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIjZm9jYWxsZW5ndGhcIikuY2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnogPSBOdW1iZXIoJChcIiNmb2NhbGxlbmd0aFwiKS52YWwoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiI3Byb2plY3Rpb25cIikuY2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbiA9ICQoXCIjcHJvamVjdGlvblwiKS52YWwoKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIjcm90YXRpb254XCIpLmNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uWCA9IE51bWJlcigkKFwiI3JvdGF0aW9ueFwiKS52YWwoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiI3JvdGF0aW9ueVwiKS5jaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblkgPSBOdW1iZXIoJChcIiNyb3RhdGlvbnlcIikudmFsKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIiNyb3RhdGlvbnpcIikuY2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25aID0gTnVtYmVyKCQoXCIjcm90YXRpb256XCIpLnZhbCgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhpcy5jYW4pLm9uKHtcbiAgICAgICAgICAgIFwid2hlZWxcIjogKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJveFogKz0gZS5vcmlnaW5hbEV2ZW50LmRlbHRhWTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIm1vdXNldXBcIjogKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibW91c2Vkb3duXCI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFggPSBlLm9yaWdpbmFsRXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlU3RhcnRZID0gZS5vcmlnaW5hbEV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0Um90YXRpb25YID0gdGhpcy5yb3RhdGlvblg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0Um90YXRpb25ZID0gdGhpcy5yb3RhdGlvblk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJtb3VzZW1vdmVcIjogKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWCA9IGUub3JpZ2luYWxFdmVudC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VZID0gZS5vcmlnaW5hbEV2ZW50LmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLm1vdXNlRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uWCA9IHRoaXMubW91c2VTdGFydFJvdGF0aW9uWCArICh0aGlzLm1vdXNlU3RhcnRYIC0gdGhpcy5tb3VzZVgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IHRoaXMubW91c2VTdGFydFJvdGF0aW9uWSArICh0aGlzLm1vdXNlU3RhcnRZIC0gdGhpcy5tb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3JvdGF0aW9ueFwiKS52YWwodGhpcy5yb3RhdGlvblgpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3JvdGF0aW9ueVwiKS52YWwodGhpcy5yb3RhdGlvblkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInRvdWNoc3RhcnRcIjogKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlU3RhcnRYID0gZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0WSA9IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFJvdGF0aW9uWCA9IHRoaXMucm90YXRpb25YO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFJvdGF0aW9uWSA9IHRoaXMucm90YXRpb25ZO1xuICAgICAgICAgICAgICAgIGlmKGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGluY2hpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpbmNoaW5nWCA9IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1sxXS5jbGllbnRYO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpbmNoaW5nWSA9IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1sxXS5jbGllbnRZO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpbmNoRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKFt0aGlzLm1vdXNlU3RhcnRYLCB0aGlzLm1vdXNlU3RhcnRZXSwgW3RoaXMucGluY2hpbmdYLCB0aGlzLnBpbmNoaW5nWV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGluY2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0b3VjaG1vdmVcIjogKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWCA9IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VZID0gZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICBpZihlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uWCA9IHRoaXMubW91c2VTdGFydFJvdGF0aW9uWCArICh0aGlzLm1vdXNlU3RhcnRYIC0gdGhpcy5tb3VzZVgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IHRoaXMubW91c2VTdGFydFJvdGF0aW9uWSArICh0aGlzLm1vdXNlU3RhcnRZIC0gdGhpcy5tb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3JvdGF0aW9ueFwiKS52YWwodGhpcy5yb3RhdGlvblgpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3JvdGF0aW9ueVwiKS52YWwodGhpcy5yb3RhdGlvblkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudERpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZXG4gICAgICAgICAgICAgICAgICAgIF0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1sxXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzFdLmNsaWVudFlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXMgPSB0aGlzLnBpbmNoRGlzdGFuY2UgLSBjdXJyZW50RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjYm94elwiKS52YWwodGhpcy5ib3haICsgZGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3haICs9IGRpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0b3VjaGVuZFwiOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VYID0gZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVkgPSBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2UocG9pbnQxLCBwb2ludDIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChcbiAgICAgICAgICAgIE1hdGgucG93KFxuICAgICAgICAgICAgICAgIE1hdGguYWJzKHBvaW50MVswXSAtIHBvaW50MlswXSlcbiAgICAgICAgICAgICkgKyBNYXRoLnBvdyhcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhwb2ludDFbMV0gLSBwb2ludDJbMV0pXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZHJhdygpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLmNhbi53aWR0aCwgdGhpcy5jYW4uaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLmRyYXdTcXVhcmUoKTtcbiAgICAgICAgdGhpcy5kcmF3Qm94KCk7XG5cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuZHJhdygpKTtcbiAgICB9XG5cbiAgICBkcmF3Qm94KCkge1xuICAgICAgICBsZXQgc2l6ZSA9IDIwMDtcbiAgICAgICAgbGV0IHggPSB0aGlzLm1vdXNlWDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLm1vdXNlWTtcbiAgICAgICAgaWYodGhpcy5wcm9qZWN0aW9uID09PSBcInBcIikge1xuICAgICAgICAgICAgeCA9ICh0aGlzLmNhbi53aWR0aCAvIDIpIC0gdGhpcy5tb3VzZVg7XG4gICAgICAgICAgICB5ID0gKHRoaXMuY2FuLmhlaWdodCAvIDIpIC0gdGhpcy5tb3VzZVk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHogPSB0aGlzLmJveFo7XG5cbiAgICAgICAgbGV0IGMgPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbeCAtIHNpemUsIHkgLSBzaXplLCB6IC0gc2l6ZV0sXG4gICAgICAgICAgICBbeCArIHNpemUsIHkgLSBzaXplLCB6IC0gc2l6ZV0sXG4gICAgICAgICAgICBbeCArIHNpemUsIHkgKyBzaXplLCB6IC0gc2l6ZV0sXG4gICAgICAgICAgICBbeCAtIHNpemUsIHkgKyBzaXplLCB6IC0gc2l6ZV0sXG5cbiAgICAgICAgICAgIFt4IC0gc2l6ZSwgeSAtIHNpemUsIHogKyBzaXplXSxcbiAgICAgICAgICAgIFt4ICsgc2l6ZSwgeSAtIHNpemUsIHogKyBzaXplXSxcbiAgICAgICAgICAgIFt4ICsgc2l6ZSwgeSArIHNpemUsIHogKyBzaXplXSxcbiAgICAgICAgICAgIFt4IC0gc2l6ZSwgeSArIHNpemUsIHogKyBzaXplXVxuICAgICAgICBdKTtcblxuICAgICAgICBjID0gdGhpcy5tYWtlSG9tb2dlbmVvdXMoYyk7XG4gICAgICAgIC8vZmluZCBvdXIgY2VudHJvaWQgZm9yIHRoZSB0cmFuc2xhdGlvbiBtYXRyaXhcbiAgICAgICAgbGV0IGNlbnRlciA9IHRoaXMuZ2V0Q2VudHJvaWQzZChjKS50b0FycmF5KCk7XG5cbiAgICAgICAgYyA9IHRoaXMucm90YXRlM2QoYywgY2VudGVyLCB0aGlzLnJvdGF0aW9uWCwgdGhpcy5yb3RhdGlvblksIHRoaXMucm90YXRpb25aKTtcblxuICAgICAgICBsZXQgdjtcbiAgICAgICAgc3dpdGNoKHRoaXMucHJvamVjdGlvbikge1xuICAgICAgICAgICAgY2FzZSBcIm9cIjpcbiAgICAgICAgICAgICAgICB2ID0gdGhpcy5wcm9qZWN0T3J0aG9ncmFwaGljKGMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwicFwiOlxuICAgICAgICAgICAgICAgIHYgPSB0aGlzLnByb2plY3RQZXJzcGVjdGl2ZShjLCBjZW50ZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCJyZ2IoMjU1LCAwLCAwKVwiO1xuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odlswXVswXSwgdlswXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzFdWzBdLCB2WzFdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbMl1bMF0sIHZbMl1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odlszXVswXSwgdlszXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzBdWzBdLCB2WzBdWzFdKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCJyZ2IoMCwgMjU1LCAwKVwiO1xuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odls0XVswXSwgdls0XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzVdWzBdLCB2WzVdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbNl1bMF0sIHZbNl1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odls3XVswXSwgdls3XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzRdWzBdLCB2WzRdWzFdKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCJyZ2IoMCwgMCwgMjU1KVwiO1xuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odlswXVswXSwgdlswXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzRdWzBdLCB2WzRdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbN11bMF0sIHZbN11bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odlszXVswXSwgdlszXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzBdWzBdLCB2WzBdWzFdKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCJyZ2IoMjU1LCAyNTUsIDI1NSlcIjtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHZbMV1bMF0sIHZbMV1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odls1XVswXSwgdls1XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzZdWzBdLCB2WzZdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbMl1bMF0sIHZbMl1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odlsxXVswXSwgdlsxXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuXG4gICAgfVxuXG4gICAgcm90YXRlM2QoYywgY2VudGVyLCB4Um90YXRpb24sIHlSb3RhdGlvbiwgelJvdGF0aW9uKSB7XG4gICAgICAgIC8vY2hhbmdlIHRoZXRhIGludG8gcmFkaWFuc1xuICAgICAgICB4Um90YXRpb24gPSB4Um90YXRpb24gKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgIHlSb3RhdGlvbiA9IHlSb3RhdGlvbiAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgelJvdGF0aW9uID0gelJvdGF0aW9uICogKE1hdGguUEkgLyAxODApO1xuXG4gICAgICAgIGxldCB0cmFuc2xhdGVDZW50ZXJNYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbMSwgMCwgMCwgLWNlbnRlclswXV0sXG4gICAgICAgICAgICBbMCwgMSwgMCwgLWNlbnRlclsxXV0sXG4gICAgICAgICAgICBbMCwgMCwgMSwgLWNlbnRlclsyXV0sXG4gICAgICAgICAgICBbMCwgMCwgMCwgMV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IHRyYW5zbGF0ZUJhY2tNYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbMSwgMCwgMCwgY2VudGVyWzBdXSxcbiAgICAgICAgICAgIFswLCAxLCAwLCBjZW50ZXJbMV1dLFxuICAgICAgICAgICAgWzAsIDAsIDEsIGNlbnRlclsyXV0sXG4gICAgICAgICAgICBbMCwgMCwgMCwgMV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IHhSb3RhdGlvbk1hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFsxLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIFswLCBNYXRoLmNvcyh4Um90YXRpb24pLCAtTWF0aC5zaW4oeFJvdGF0aW9uKSwgMF0sXG4gICAgICAgICAgICBbMCwgTWF0aC5zaW4oeFJvdGF0aW9uKSwgTWF0aC5jb3MoeFJvdGF0aW9uKSwgMF0sXG4gICAgICAgICAgICBbMCwgMCwgMCwgMV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IHlSb3RhdGlvbk1hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFtNYXRoLmNvcyh5Um90YXRpb24pLCAwLCAtTWF0aC5zaW4oeVJvdGF0aW9uKSwgMF0sXG4gICAgICAgICAgICBbMCwgMSwgMCwgMF0sXG4gICAgICAgICAgICBbTWF0aC5zaW4oeVJvdGF0aW9uKSwgMCwgTWF0aC5jb3MoeVJvdGF0aW9uKSwgMF0sXG4gICAgICAgICAgICBbMCwgMCwgMCwgMV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IHpSb3RhdGlvbk1hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFtNYXRoLmNvcyh6Um90YXRpb24pLCAtTWF0aC5zaW4oelJvdGF0aW9uKSwgMCwgMF0sXG4gICAgICAgICAgICBbTWF0aC5zaW4oelJvdGF0aW9uKSwgTWF0aC5jb3MoelJvdGF0aW9uKSwgMCwgMF0sXG4gICAgICAgICAgICBbMCwgMCwgMSwgMF0sXG4gICAgICAgICAgICBbMCwgMCwgMCwgMV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IG5ld2MgPSBbXTtcbiAgICAgICAgZm9yKGxldCByb3cgb2YgYy5fZGF0YSkge1xuICAgICAgICAgICAgcm93ID0gbWF0aC5tdWx0aXBseSh0cmFuc2xhdGVDZW50ZXJNYXRyaXgsIHJvdyk7XG4gICAgICAgICAgICByb3cgPSBtYXRoLm11bHRpcGx5KHhSb3RhdGlvbk1hdHJpeCwgcm93KTtcbiAgICAgICAgICAgIHJvdyA9IG1hdGgubXVsdGlwbHkoeVJvdGF0aW9uTWF0cml4LCByb3cpO1xuICAgICAgICAgICAgcm93ID0gbWF0aC5tdWx0aXBseSh6Um90YXRpb25NYXRyaXgsIHJvdyk7XG4gICAgICAgICAgICByb3cgPSBtYXRoLm11bHRpcGx5KHRyYW5zbGF0ZUJhY2tNYXRyaXgsIHJvdyk7XG4gICAgICAgICAgICBuZXdjLnB1c2gocm93KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0aC5tYXRyaXgobmV3Yyk7XG4gICAgfVxuXG4gICAgcHJvamVjdFBlcnNwZWN0aXZlKHZlcnRleGVzKSB7XG4gICAgICAgIGxldCBkID0gdGhpcy5jYW1lcmEuejtcblxuICAgICAgICBsZXQgdHJhbnNsYXRlQmFja01hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFsxLCAwLCB0aGlzLmNhbi53aWR0aCAvIDJdLFxuICAgICAgICAgICAgWzAsIDEsIHRoaXMuY2FuLmhlaWdodCAvIDJdLFxuICAgICAgICAgICAgWzAsIDAsIDFdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCB2cyA9IFtdO1xuICAgICAgICBmb3IobGV0IHJvdyBvZiB2ZXJ0ZXhlcy5fZGF0YSkge1xuICAgICAgICAgICAgbGV0IHggPSBkICogKHJvd1swXSAvIHJvd1syXSk7XG4gICAgICAgICAgICBsZXQgeSA9IGQgKiAocm93WzFdIC8gcm93WzJdKTtcbiAgICAgICAgICAgIHJvdyA9IG1hdGgubWF0cml4KFt4LCB5LCAxXSk7XG4gICAgICAgICAgICByb3cgPSBtYXRoLm11bHRpcGx5KHRyYW5zbGF0ZUJhY2tNYXRyaXgsIHJvdyk7XG4gICAgICAgICAgICB2cy5wdXNoKFtyb3cuX2RhdGFbMF0sIHJvdy5fZGF0YVsxXV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2cztcbiAgICB9XG5cbiAgICBwcm9qZWN0T3J0aG9ncmFwaGljKHZlcnRleGVzKSB7XG4gICAgICAgIGxldCB2cyA9IFtdO1xuICAgICAgICBmb3IobGV0IHYgb2YgdmVydGV4ZXMuX2RhdGEpIHtcbiAgICAgICAgICAgIHZzLnB1c2goW3ZbMF0sIHZbMV1dKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdnM7XG4gICAgfVxuXG4gICAgZHJhd1NxdWFyZSgpIHtcbiAgICAgICAgbGV0IHNpemUgPSAyMDA7XG4gICAgICAgIGxldCB4ID0gdGhpcy5tb3VzZVggLSBzaXplIC8gMjtcbiAgICAgICAgbGV0IHkgPSB0aGlzLm1vdXNlWSAtIHNpemUgLyAyO1xuXG4gICAgICAgIGxldCBjID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgW3gsIHldLFxuICAgICAgICAgICAgW3ggKyBzaXplLCB5XSxcbiAgICAgICAgICAgIFt4ICsgc2l6ZSwgeSArIHNpemVdLFxuICAgICAgICAgICAgW3gsIHkgKyBzaXplXVxuICAgICAgICBdKTtcblxuICAgICAgICBjID0gdGhpcy5tYWtlSG9tb2dlbmVvdXMoYyk7XG5cblxuICAgICAgICBjID0gdGhpcy5yb3RhdGUyZChjLCB0aGlzLnJvdGF0aW9uWCkudG9BcnJheSgpO1xuXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwicmdiKDI1NSwgMjU1LCAyNTUpXCI7XG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8oY1swXVswXSwgY1swXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhjWzFdWzBdLCBjWzFdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKGNbMl1bMF0sIGNbMl1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8oY1szXVswXSwgY1szXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgfVxuXG4gICAgbWFrZUhvbW9nZW5lb3VzKGMpIHtcbiAgICAgICAgLy9UcmFuc2Zvcm0gY29vcmRpbmF0ZSBpbnRvIGhvbW9nZW5lb3VzIGNvb3JkaW5hdGVcbiAgICAgICAgYy5yZXNpemUoW2Muc2l6ZSgpWzBdLCBjLnNpemUoKVsxXSsxXSwgMSk7XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtEZW5zZU1hdHJpeH0gY1xuICAgICAqIEBwYXJhbSB0aGV0YVxuICAgICAqIEByZXR1cm5zIHtEZW5zZU1hdHJpeH1cbiAgICAgKi9cbiAgICByb3RhdGUyZChjLCB0aGV0YSkge1xuICAgICAgICAvL2NoYW5nZSB0aGV0YSBpbnRvIHJhZGlhbnNcbiAgICAgICAgdGhldGEgPSB0aGV0YSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgLy9maW5kIG91ciBjZW50cm9pZCBmb3IgdGhlIHRyYW5zbGF0aW9uIG1hdHJpeFxuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5nZXRDZW50cm9pZDJkKGMpLnRvQXJyYXkoKTtcblxuICAgICAgICBsZXQgcm90YXRpb25NYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbTWF0aC5jb3ModGhldGEpLCAtTWF0aC5zaW4odGhldGEpLCAwXSxcbiAgICAgICAgICAgIFtNYXRoLnNpbih0aGV0YSksIE1hdGguY29zKHRoZXRhKSwgMF0sXG4gICAgICAgICAgICBbMCwgMCwgMV1cbiAgICAgICAgXSk7XG4gICAgICAgIGxldCB0cmFuc2xhdGVDZW50ZXJNYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbMSwgMCwgLWNlbnRlclswXV0sXG4gICAgICAgICAgICBbMCwgMSwgLWNlbnRlclsxXV0sXG4gICAgICAgICAgICBbMCwgMCwgMV1cbiAgICAgICAgXSk7XG4gICAgICAgIGxldCB0cmFuc2xhdGVCYWNrTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgWzEsIDAsIGNlbnRlclswXV0sXG4gICAgICAgICAgICBbMCwgMSwgY2VudGVyWzFdXSxcbiAgICAgICAgICAgIFswLCAwLCAxXVxuICAgICAgICBdKTtcblxuICAgICAgICBsZXQgbmV3YyA9IFtdO1xuICAgICAgICBmb3IobGV0IHJvdyBvZiBjLl9kYXRhKSB7XG4gICAgICAgICAgICBsZXQgdGNtID0gbWF0aC5tdWx0aXBseSh0cmFuc2xhdGVDZW50ZXJNYXRyaXgsIHJvdyk7XG4gICAgICAgICAgICBsZXQgcm0gPSBtYXRoLm11bHRpcGx5KHJvdGF0aW9uTWF0cml4LCB0Y20pO1xuICAgICAgICAgICAgbGV0IHRibSA9IG1hdGgubXVsdGlwbHkodHJhbnNsYXRlQmFja01hdHJpeCwgcm0pO1xuICAgICAgICAgICAgbmV3Yy5wdXNoKHRibSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGgubWF0cml4KG5ld2MpO1xuICAgIH1cblxuICAgIGdldENlbnRyb2lkMmQocG9pbnRzKXtcbiAgICAgICAgbGV0IHggPSAwLCB5ID0gMDtcbiAgICAgICAgZm9yKGxldCBwIG9mIHBvaW50cy5fZGF0YSkge1xuICAgICAgICAgICAgeCArPSBwWzBdO1xuICAgICAgICAgICAgeSArPSBwWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRoLm1hdHJpeChbeCAvIHBvaW50cy5fZGF0YS5sZW5ndGgsIHkgLyBwb2ludHMuX2RhdGEubGVuZ3RoXSk7XG4gICAgfVxuXG4gICAgZ2V0Q2VudHJvaWQzZChwb2ludHMpe1xuICAgICAgICBsZXQgeCA9IDAsIHkgPSAwLCB6ID0gMDtcbiAgICAgICAgZm9yKGxldCBwIG9mIHBvaW50cy5fZGF0YSkge1xuICAgICAgICAgICAgeCArPSBwWzBdO1xuICAgICAgICAgICAgeSArPSBwWzFdO1xuICAgICAgICAgICAgeiArPSBwWzJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICB4IC8gcG9pbnRzLl9kYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIHkgLyBwb2ludHMuX2RhdGEubGVuZ3RoLFxuICAgICAgICAgICAgeiAvIHBvaW50cy5fZGF0YS5sZW5ndGhcbiAgICAgICAgXSk7XG4gICAgfVxufTsiXX0=\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/projective_geometry/Project.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 587d3c2d5ab2903b3c5b","new class Project {\n\n    constructor() {\n        $(() => {\n            this.can = $(\"#geometry_canvas\")[0];\n            this.ctx = this.can.getContext('2d', {alpha: false});\n            this.can.width = window.innerWidth;\n            this.can.height = window.innerHeight;\n            this.rotationX = Number($(\"#rotationx\").val());\n            this.rotationY = Number($(\"#rotationy\").val());\n            this.rotationZ = Number($(\"#rotationz\").val());\n            this.projection = $(\"#projection\").val();\n            this.boxZ = Number($(\"#boxz\").val());\n            this.mouseX = this.can.width / 2;\n            this.mouseY = this.can.height / 2;\n            this.camera = {\n                x: 0,\n                y: 0,\n                z: Number($(\"#focallength\").val()),\n                rx: 0,\n                ry: 0,\n                rz: 0,\n                width: this.can.width,\n                height: this.can.height,\n                center: {\n                    x: this.can.width / 2,\n                    y: this.can.height / 2\n                }\n            };\n            this.bindEvents();\n            requestAnimationFrame(() => this.draw());\n        });\n    }\n\n    bindEvents() {\n        $(\"#boxz\").change(() => {\n            this.boxZ = Number($(\"#boxz\").val());\n        });\n        $(\"#focallength\").change(() => {\n            this.camera.z = Number($(\"#focallength\").val());\n        });\n        $(\"#projection\").change(() => {\n            this.projection = $(\"#projection\").val();\n        });\n        $(\"#rotationx\").change(() => {\n            this.rotationX = Number($(\"#rotationx\").val());\n        });\n        $(\"#rotationy\").change(() => {\n            this.rotationY = Number($(\"#rotationy\").val());\n        });\n        $(\"#rotationz\").change(() => {\n            this.rotationZ = Number($(\"#rotationz\").val());\n        });\n        $(this.can).on({\n            \"wheel\": (e) => {\n                this.boxZ += e.originalEvent.deltaY;\n            },\n            \"mouseup\": (e) => {\n                this.mouseDown = false;\n            },\n            \"mousedown\": (e) => {\n                this.mouseDown = true;\n                this.mouseStartX = e.originalEvent.clientX;\n                this.mouseStartY = e.originalEvent.clientY;\n                this.mouseStartRotationX = this.rotationX;\n                this.mouseStartRotationY = this.rotationY;\n            },\n            \"mousemove\": (e) => {\n                this.mouseX = e.originalEvent.clientX;\n                this.mouseY = e.originalEvent.clientY;\n\n                if(this.mouseDown) {\n                    this.rotationX = this.mouseStartRotationX + (this.mouseStartX - this.mouseX);\n                    this.rotationY = this.mouseStartRotationY + (this.mouseStartY - this.mouseY);\n                    $(\"#rotationx\").val(this.rotationX);\n                    $(\"#rotationy\").val(this.rotationY);\n                }\n            },\n            \"touchstart\": (e) => {\n                this.mouseStartX = e.originalEvent.changedTouches[0].clientX;\n                this.mouseStartY = e.originalEvent.changedTouches[0].clientY;\n                this.mouseStartRotationX = this.rotationX;\n                this.mouseStartRotationY = this.rotationY;\n                if(e.originalEvent.changedTouches.length > 1) {\n                    this.pinching = true;\n                    this.pinchingX = e.originalEvent.changedTouches[1].clientX;\n                    this.pinchingY = e.originalEvent.changedTouches[1].clientY;\n                    this.pinchDistance = this.distance([this.mouseStartX, this.mouseStartY], [this.pinchingX, this.pinchingY]);\n                } else {\n                    this.pinching = false;\n                }\n            },\n            \"touchmove\": (e) => {\n                this.mouseX = e.originalEvent.changedTouches[0].clientX;\n                this.mouseY = e.originalEvent.changedTouches[0].clientY;\n\n                if(e.originalEvent.changedTouches.length > 1) {\n                    this.rotationX = this.mouseStartRotationX + (this.mouseStartX - this.mouseX);\n                    this.rotationY = this.mouseStartRotationY + (this.mouseStartY - this.mouseY);\n                    $(\"#rotationx\").val(this.rotationX);\n                    $(\"#rotationy\").val(this.rotationY);\n                    let currentDistance = this.distance([\n                        e.originalEvent.changedTouches[0].clientX,\n                        e.originalEvent.changedTouches[0].clientY\n                    ], [\n                        e.originalEvent.changedTouches[1].clientX,\n                        e.originalEvent.changedTouches[1].clientY\n                    ]);\n                    let dis = this.pinchDistance - currentDistance;\n                    $(\"#boxz\").val(this.boxZ + dis);\n                    this.boxZ += dis;\n                }\n            },\n            \"touchend\": (e) => {\n                this.mouseX = e.originalEvent.changedTouches[0].clientX;\n                this.mouseY = e.originalEvent.changedTouches[0].clientY;\n            }\n        });\n    }\n\n    distance(point1, point2) {\n        return Math.sqrt(\n            Math.pow(\n                Math.abs(point1[0] - point2[0])\n            ) + Math.pow(\n                Math.abs(point1[1] - point2[1])\n            )\n        );\n    }\n\n    draw() {\n        this.ctx.fillStyle = \"black\";\n        this.ctx.fillRect(0, 0, this.can.width, this.can.height);\n\n        this.drawSquare();\n        this.drawBox();\n\n        requestAnimationFrame(() => this.draw());\n    }\n\n    drawBox() {\n        let size = 200;\n        let x = this.mouseX;\n        let y = this.mouseY;\n        if(this.projection === \"p\") {\n            x = (this.can.width / 2) - this.mouseX;\n            y = (this.can.height / 2) - this.mouseY;\n        }\n        let z = this.boxZ;\n\n        let c = math.matrix([\n            [x - size, y - size, z - size],\n            [x + size, y - size, z - size],\n            [x + size, y + size, z - size],\n            [x - size, y + size, z - size],\n\n            [x - size, y - size, z + size],\n            [x + size, y - size, z + size],\n            [x + size, y + size, z + size],\n            [x - size, y + size, z + size]\n        ]);\n\n        c = this.makeHomogeneous(c);\n        //find our centroid for the translation matrix\n        let center = this.getCentroid3d(c).toArray();\n\n        c = this.rotate3d(c, center, this.rotationX, this.rotationY, this.rotationZ);\n\n        let v;\n        switch(this.projection) {\n            case \"o\":\n                v = this.projectOrthographic(c);\n                break;\n\n            case \"p\":\n                v = this.projectPerspective(c, center);\n                break;\n        }\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(255, 0, 0)\";\n        this.ctx.moveTo(v[0][0], v[0][1]);\n        this.ctx.lineTo(v[1][0], v[1][1]);\n        this.ctx.lineTo(v[2][0], v[2][1]);\n        this.ctx.lineTo(v[3][0], v[3][1]);\n        this.ctx.lineTo(v[0][0], v[0][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(0, 255, 0)\";\n        this.ctx.moveTo(v[4][0], v[4][1]);\n        this.ctx.lineTo(v[5][0], v[5][1]);\n        this.ctx.lineTo(v[6][0], v[6][1]);\n        this.ctx.lineTo(v[7][0], v[7][1]);\n        this.ctx.lineTo(v[4][0], v[4][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(0, 0, 255)\";\n        this.ctx.moveTo(v[0][0], v[0][1]);\n        this.ctx.lineTo(v[4][0], v[4][1]);\n        this.ctx.lineTo(v[7][0], v[7][1]);\n        this.ctx.lineTo(v[3][0], v[3][1]);\n        this.ctx.lineTo(v[0][0], v[0][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(255, 255, 255)\";\n        this.ctx.moveTo(v[1][0], v[1][1]);\n        this.ctx.lineTo(v[5][0], v[5][1]);\n        this.ctx.lineTo(v[6][0], v[6][1]);\n        this.ctx.lineTo(v[2][0], v[2][1]);\n        this.ctx.lineTo(v[1][0], v[1][1]);\n        this.ctx.stroke();\n\n    }\n\n    rotate3d(c, center, xRotation, yRotation, zRotation) {\n        //change theta into radians\n        xRotation = xRotation * (Math.PI / 180);\n        yRotation = yRotation * (Math.PI / 180);\n        zRotation = zRotation * (Math.PI / 180);\n\n        let translateCenterMatrix = math.matrix([\n            [1, 0, 0, -center[0]],\n            [0, 1, 0, -center[1]],\n            [0, 0, 1, -center[2]],\n            [0, 0, 0, 1]\n        ]);\n\n        let translateBackMatrix = math.matrix([\n            [1, 0, 0, center[0]],\n            [0, 1, 0, center[1]],\n            [0, 0, 1, center[2]],\n            [0, 0, 0, 1]\n        ]);\n\n        let xRotationMatrix = math.matrix([\n            [1, 0, 0, 0],\n            [0, Math.cos(xRotation), -Math.sin(xRotation), 0],\n            [0, Math.sin(xRotation), Math.cos(xRotation), 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let yRotationMatrix = math.matrix([\n            [Math.cos(yRotation), 0, -Math.sin(yRotation), 0],\n            [0, 1, 0, 0],\n            [Math.sin(yRotation), 0, Math.cos(yRotation), 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let zRotationMatrix = math.matrix([\n            [Math.cos(zRotation), -Math.sin(zRotation), 0, 0],\n            [Math.sin(zRotation), Math.cos(zRotation), 0, 0],\n            [0, 0, 1, 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let newc = [];\n        for(let row of c._data) {\n            row = math.multiply(translateCenterMatrix, row);\n            row = math.multiply(xRotationMatrix, row);\n            row = math.multiply(yRotationMatrix, row);\n            row = math.multiply(zRotationMatrix, row);\n            row = math.multiply(translateBackMatrix, row);\n            newc.push(row);\n        }\n        return math.matrix(newc);\n    }\n\n    projectPerspective(vertexes) {\n        let d = this.camera.z;\n\n        let translateBackMatrix = math.matrix([\n            [1, 0, this.can.width / 2],\n            [0, 1, this.can.height / 2],\n            [0, 0, 1]\n        ]);\n\n        let vs = [];\n        for(let row of vertexes._data) {\n            let x = d * (row[0] / row[2]);\n            let y = d * (row[1] / row[2]);\n            row = math.matrix([x, y, 1]);\n            row = math.multiply(translateBackMatrix, row);\n            vs.push([row._data[0], row._data[1]]);\n        }\n        return vs;\n    }\n\n    projectOrthographic(vertexes) {\n        let vs = [];\n        for(let v of vertexes._data) {\n            vs.push([v[0], v[1]]);\n        }\n        return vs;\n    }\n\n    drawSquare() {\n        let size = 200;\n        let x = this.mouseX - size / 2;\n        let y = this.mouseY - size / 2;\n\n        let c = math.matrix([\n            [x, y],\n            [x + size, y],\n            [x + size, y + size],\n            [x, y + size]\n        ]);\n\n        c = this.makeHomogeneous(c);\n\n\n        c = this.rotate2d(c, this.rotationX).toArray();\n\n        this.ctx.fillStyle = \"rgb(255, 255, 255)\";\n        this.ctx.beginPath();\n        this.ctx.moveTo(c[0][0], c[0][1]);\n        this.ctx.lineTo(c[1][0], c[1][1]);\n        this.ctx.lineTo(c[2][0], c[2][1]);\n        this.ctx.lineTo(c[3][0], c[3][1]);\n        this.ctx.closePath();\n        this.ctx.fill();\n    }\n\n    makeHomogeneous(c) {\n        //Transform coordinate into homogeneous coordinate\n        c.resize([c.size()[0], c.size()[1]+1], 1);\n        return c;\n    }\n\n    /**\n     *\n     * @param {DenseMatrix} c\n     * @param theta\n     * @returns {DenseMatrix}\n     */\n    rotate2d(c, theta) {\n        //change theta into radians\n        theta = theta * (Math.PI / 180);\n        //find our centroid for the translation matrix\n        let center = this.getCentroid2d(c).toArray();\n\n        let rotationMatrix = math.matrix([\n            [Math.cos(theta), -Math.sin(theta), 0],\n            [Math.sin(theta), Math.cos(theta), 0],\n            [0, 0, 1]\n        ]);\n        let translateCenterMatrix = math.matrix([\n            [1, 0, -center[0]],\n            [0, 1, -center[1]],\n            [0, 0, 1]\n        ]);\n        let translateBackMatrix = math.matrix([\n            [1, 0, center[0]],\n            [0, 1, center[1]],\n            [0, 0, 1]\n        ]);\n\n        let newc = [];\n        for(let row of c._data) {\n            let tcm = math.multiply(translateCenterMatrix, row);\n            let rm = math.multiply(rotationMatrix, tcm);\n            let tbm = math.multiply(translateBackMatrix, rm);\n            newc.push(tbm);\n        }\n        return math.matrix(newc);\n    }\n\n    getCentroid2d(points){\n        let x = 0, y = 0;\n        for(let p of points._data) {\n            x += p[0];\n            y += p[1];\n        }\n        return math.matrix([x / points._data.length, y / points._data.length]);\n    }\n\n    getCentroid3d(points){\n        let x = 0, y = 0, z = 0;\n        for(let p of points._data) {\n            x += p[0];\n            y += p[1];\n            z += p[2];\n        }\n        return math.matrix([\n            x / points._data.length,\n            y / points._data.length,\n            z / points._data.length\n        ]);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/projective_geometry/Project.es6"],"sourceRoot":""}