{"version":3,"sources":["webpack:///dist/projective_geometry/Project.js","webpack:///webpack/bootstrap 24f66e82c7fdb53cf861","webpack:///./src/projective_geometry/Project.es6"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Project","_this","this","$","can","ctx","getContext","alpha","width","window","innerWidth","height","innerHeight","rotationX","Number","val","rotationY","rotationZ","projection","boxZ","mouseX","mouseY","camera","x","y","z","rx","ry","rz","center","bindEvents","requestAnimationFrame","draw","_this2","change","on","wheel","e","originalEvent","deltaY","mouseup","mouseDown","mousedown","mouseStartX","clientX","mouseStartY","clientY","mouseStartRotationX","mouseStartRotationY","mousemove","_this3","clearRect","drawSquare","drawBox","math","matrix","makeHomogeneous","getCentroid3d","toArray","rotate3d","v","projectOrthographic","projectPerspective","beginPath","strokeStyle","moveTo","lineTo","stroke","xRotation","yRotation","zRotation","Math","PI","translateCenterMatrix","translateBackMatrix","xRotationMatrix","cos","sin","yRotationMatrix","zRotationMatrix","newc","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","_data","Symbol","iterator","next","done","row","multiply","push","err","return","vertexes","r","vs","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","size","rotate2d","fillStyle","closePath","fill","resize","theta","getCentroid2d","rotationMatrix","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","tcm","rm","tbm","points","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6"],"mappings":"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","file":"./dist/projective_geometry/Project.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nnew (function () {\n    function Project() {\n        var _this = this;\n\n        _classCallCheck(this, Project);\n\n        $(function () {\n            _this.can = $(\"#geometry_canvas\")[0];\n            _this.ctx = _this.can.getContext('2d', { alpha: false });\n            _this.can.width = window.innerWidth;\n            _this.can.height = window.innerHeight;\n            _this.rotationX = Number($(\"#rotationx\").val());\n            _this.rotationY = Number($(\"#rotationy\").val());\n            _this.rotationZ = Number($(\"#rotationz\").val());\n            _this.projection = $(\"#projection\").val();\n            _this.boxZ = Number($(\"#boxz\").val());\n            _this.mouseX = _this.can.width / 2;\n            _this.mouseY = _this.can.height / 2;\n            _this.camera = {\n                x: 0,\n                y: 0,\n                z: Number($(\"#focallength\").val()),\n                rx: 0,\n                ry: 0,\n                rz: 0,\n                width: _this.can.width,\n                height: _this.can.height,\n                center: {\n                    x: _this.can.width / 2,\n                    y: _this.can.height / 2\n                }\n            };\n            _this.bindEvents();\n            requestAnimationFrame(function () {\n                return _this.draw();\n            });\n        });\n    }\n\n    _createClass(Project, [{\n        key: \"bindEvents\",\n        value: function bindEvents() {\n            var _this2 = this;\n\n            $(\"#boxz\").change(function () {\n                _this2.boxZ = Number($(\"#boxz\").val());\n            });\n            $(\"#focallength\").change(function () {\n                _this2.camera.z = Number($(\"#focallength\").val());\n            });\n            $(\"#projection\").change(function () {\n                _this2.projection = $(\"#projection\").val();\n            });\n            $(\"#rotationx\").change(function () {\n                _this2.rotationX = Number($(\"#rotationx\").val());\n            });\n            $(\"#rotationy\").change(function () {\n                _this2.rotationY = Number($(\"#rotationy\").val());\n            });\n            $(\"#rotationz\").change(function () {\n                _this2.rotationZ = Number($(\"#rotationz\").val());\n            });\n            $(this.can).on({\n                \"wheel\": function wheel(e) {\n                    _this2.boxZ += e.originalEvent.deltaY;\n                },\n                \"mouseup\": function mouseup(e) {\n                    _this2.mouseDown = false;\n                },\n                \"mousedown\": function mousedown(e) {\n                    _this2.mouseDown = true;\n                    _this2.mouseStartX = e.originalEvent.clientX;\n                    _this2.mouseStartY = e.originalEvent.clientY;\n                    _this2.mouseStartRotationX = _this2.rotationX;\n                    _this2.mouseStartRotationY = _this2.rotationY;\n                },\n                \"mousemove\": function mousemove(e) {\n                    _this2.mouseX = e.originalEvent.clientX;\n                    _this2.mouseY = e.originalEvent.clientY;\n\n                    if (_this2.mouseDown) {\n                        _this2.rotationX = _this2.mouseStartRotationX + (_this2.mouseStartX - _this2.mouseX);\n                        _this2.rotationY = _this2.mouseStartRotationY + (_this2.mouseStartY - _this2.mouseY);\n                        $(\"#rotationx\").val(_this2.rotationX);\n                        $(\"#rotationy\").val(_this2.rotationY);\n                    }\n                }\n            });\n        }\n    }, {\n        key: \"draw\",\n        value: function draw() {\n            var _this3 = this;\n\n            this.ctx.clearRect(0, 0, this.can.width, this.can.height);\n\n            this.drawSquare();\n            this.drawBox();\n\n            requestAnimationFrame(function () {\n                return _this3.draw();\n            });\n        }\n    }, {\n        key: \"drawBox\",\n        value: function drawBox() {\n            var size = 200;\n            var x = this.mouseX;\n            var y = this.mouseY;\n            if (this.projection === \"p\") {\n                x = this.can.width / 2 - this.mouseX;\n                y = this.can.height / 2 - this.mouseY;\n            }\n            var z = this.boxZ;\n\n            var c = math.matrix([[x - size, y - size, z - size], [x + size, y - size, z - size], [x + size, y + size, z - size], [x - size, y + size, z - size], [x - size, y - size, z + size], [x + size, y - size, z + size], [x + size, y + size, z + size], [x - size, y + size, z + size]]);\n\n            c = this.makeHomogeneous(c);\n            //find our centroid for the translation matrix\n            var center = this.getCentroid3d(c).toArray();\n\n            c = this.rotate3d(c, center, this.rotationX, this.rotationY, this.rotationZ);\n\n            var v = void 0;\n            switch (this.projection) {\n                case \"o\":\n                    v = this.projectOrthographic(c);\n                    break;\n\n                case \"p\":\n                    v = this.projectPerspective(c, center);\n                    break;\n            }\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(255, 0, 0)\";\n            this.ctx.moveTo(v[0][0], v[0][1]);\n            this.ctx.lineTo(v[1][0], v[1][1]);\n            this.ctx.lineTo(v[2][0], v[2][1]);\n            this.ctx.lineTo(v[3][0], v[3][1]);\n            this.ctx.lineTo(v[0][0], v[0][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(0, 255, 0)\";\n            this.ctx.moveTo(v[4][0], v[4][1]);\n            this.ctx.lineTo(v[5][0], v[5][1]);\n            this.ctx.lineTo(v[6][0], v[6][1]);\n            this.ctx.lineTo(v[7][0], v[7][1]);\n            this.ctx.lineTo(v[4][0], v[4][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(0, 0, 255)\";\n            this.ctx.moveTo(v[0][0], v[0][1]);\n            this.ctx.lineTo(v[4][0], v[4][1]);\n            this.ctx.lineTo(v[7][0], v[7][1]);\n            this.ctx.lineTo(v[3][0], v[3][1]);\n            this.ctx.lineTo(v[0][0], v[0][1]);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.strokeStyle = \"rgb(255, 255, 255)\";\n            this.ctx.moveTo(v[1][0], v[1][1]);\n            this.ctx.lineTo(v[5][0], v[5][1]);\n            this.ctx.lineTo(v[6][0], v[6][1]);\n            this.ctx.lineTo(v[2][0], v[2][1]);\n            this.ctx.lineTo(v[1][0], v[1][1]);\n            this.ctx.stroke();\n        }\n    }, {\n        key: \"rotate3d\",\n        value: function rotate3d(c, center, xRotation, yRotation, zRotation) {\n            //change theta into radians\n            xRotation = xRotation * (Math.PI / 180);\n            yRotation = yRotation * (Math.PI / 180);\n            zRotation = zRotation * (Math.PI / 180);\n\n            var translateCenterMatrix = math.matrix([[1, 0, 0, -center[0]], [0, 1, 0, -center[1]], [0, 0, 1, -center[2]], [0, 0, 0, 1]]);\n\n            var translateBackMatrix = math.matrix([[1, 0, 0, center[0]], [0, 1, 0, center[1]], [0, 0, 1, center[2]], [0, 0, 0, 1]]);\n\n            var xRotationMatrix = math.matrix([[1, 0, 0, 0], [0, Math.cos(xRotation), -Math.sin(xRotation), 0], [0, Math.sin(xRotation), Math.cos(xRotation), 0], [0, 0, 0, 1]]);\n\n            var yRotationMatrix = math.matrix([[Math.cos(yRotation), 0, -Math.sin(yRotation), 0], [0, 1, 0, 0], [Math.sin(yRotation), 0, Math.cos(yRotation), 0], [0, 0, 0, 1]]);\n\n            var zRotationMatrix = math.matrix([[Math.cos(zRotation), -Math.sin(zRotation), 0, 0], [Math.sin(zRotation), Math.cos(zRotation), 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]);\n\n            var newc = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = c._data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var row = _step.value;\n\n                    row = math.multiply(translateCenterMatrix, row);\n                    row = math.multiply(xRotationMatrix, row);\n                    row = math.multiply(yRotationMatrix, row);\n                    row = math.multiply(zRotationMatrix, row);\n                    row = math.multiply(translateBackMatrix, row);\n                    newc.push(row);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return math.matrix(newc);\n        }\n    }, {\n        key: \"projectPerspective\",\n        value: function projectPerspective(vertexes, center) {\n            var d = this.camera.z;\n\n            var r = d / center[1];\n            var projectedCenter = [r * center[0], r * center[2], 1];\n\n            var translateBackMatrix = math.matrix([[1, 0, this.can.width / 2], [0, 1, this.can.height / 2], [0, 0, 1]]);\n\n            var vs = [];\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = vertexes._data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var row = _step2.value;\n\n                    // row = math.multiply(projectionMatrix, row);\n                    // row = math.multiply(translateCenterMatrix, row);\n                    var x = d * (row[0] / row[2]);\n                    var y = d * (row[1] / row[2]);\n                    row = math.matrix([x, y, 1]);\n                    row = math.multiply(translateBackMatrix, row);\n\n                    // let r = d / row[1];\n                    // row = math.matrix([\n                    //     r * row[0],\n                    //     r * row[2],\n                    //     1\n                    // ]);\n                    // row = math.multiply(translateBackMatrix, row);\n                    vs.push([row._data[0], row._data[1]]);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            return vs;\n        }\n    }, {\n        key: \"projectOrthographic\",\n        value: function projectOrthographic(vertexes) {\n            var vs = [];\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = vertexes._data[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var v = _step3.value;\n\n                    vs.push([v[0], v[1]]);\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n\n            return vs;\n        }\n    }, {\n        key: \"drawSquare\",\n        value: function drawSquare() {\n            var size = 200;\n            var x = this.mouseX - size / 2;\n            var y = this.mouseY - size / 2;\n\n            var c = math.matrix([[x, y], [x + size, y], [x + size, y + size], [x, y + size]]);\n\n            c = this.makeHomogeneous(c);\n\n            c = this.rotate2d(c, this.rotationX).toArray();\n\n            this.ctx.fillStyle = \"rgb(255, 255, 255)\";\n            this.ctx.beginPath();\n            this.ctx.moveTo(c[0][0], c[0][1]);\n            this.ctx.lineTo(c[1][0], c[1][1]);\n            this.ctx.lineTo(c[2][0], c[2][1]);\n            this.ctx.lineTo(c[3][0], c[3][1]);\n            this.ctx.closePath();\n            this.ctx.fill();\n        }\n    }, {\n        key: \"makeHomogeneous\",\n        value: function makeHomogeneous(c) {\n            //Transform coordinate into homogeneous coordinate\n            c.resize([c.size()[0], c.size()[1] + 1], 1);\n            return c;\n        }\n\n        /**\n         *\n         * @param {DenseMatrix} c\n         * @param theta\n         * @returns {DenseMatrix}\n         */\n\n    }, {\n        key: \"rotate2d\",\n        value: function rotate2d(c, theta) {\n            //change theta into radians\n            theta = theta * (Math.PI / 180);\n            //find our centroid for the translation matrix\n            var center = this.getCentroid2d(c).toArray();\n\n            var rotationMatrix = math.matrix([[Math.cos(theta), -Math.sin(theta), 0], [Math.sin(theta), Math.cos(theta), 0], [0, 0, 1]]);\n            var translateCenterMatrix = math.matrix([[1, 0, -center[0]], [0, 1, -center[1]], [0, 0, 1]]);\n            var translateBackMatrix = math.matrix([[1, 0, center[0]], [0, 1, center[1]], [0, 0, 1]]);\n\n            var newc = [];\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = c._data[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var row = _step4.value;\n\n                    var tcm = math.multiply(translateCenterMatrix, row);\n                    var rm = math.multiply(rotationMatrix, tcm);\n                    var tbm = math.multiply(translateBackMatrix, rm);\n                    newc.push(tbm);\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            return math.matrix(newc);\n        }\n    }, {\n        key: \"getCentroid2d\",\n        value: function getCentroid2d(points) {\n            var x = 0,\n                y = 0;\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = points._data[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var p = _step5.value;\n\n                    x += p[0];\n                    y += p[1];\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            return math.matrix([x / points._data.length, y / points._data.length]);\n        }\n    }, {\n        key: \"getCentroid3d\",\n        value: function getCentroid3d(points) {\n            var x = 0,\n                y = 0,\n                z = 0;\n            var _iteratorNormalCompletion6 = true;\n            var _didIteratorError6 = false;\n            var _iteratorError6 = undefined;\n\n            try {\n                for (var _iterator6 = points._data[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                    var p = _step6.value;\n\n                    x += p[0];\n                    y += p[1];\n                    z += p[2];\n                }\n            } catch (err) {\n                _didIteratorError6 = true;\n                _iteratorError6 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                        _iterator6.return();\n                    }\n                } finally {\n                    if (_didIteratorError6) {\n                        throw _iteratorError6;\n                    }\n                }\n            }\n\n            return math.matrix([x / points._data.length, y / points._data.length, z / points._data.length]);\n        }\n    }]);\n\n    return Project;\n}())();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyY1xccHJvamVjdGl2ZV9nZW9tZXRyeVxcUHJvamVjdC5lczYiXSwibmFtZXMiOlsiJCIsImNhbiIsImN0eCIsImdldENvbnRleHQiLCJhbHBoYSIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0Iiwicm90YXRpb25YIiwiTnVtYmVyIiwidmFsIiwicm90YXRpb25ZIiwicm90YXRpb25aIiwicHJvamVjdGlvbiIsImJveFoiLCJtb3VzZVgiLCJtb3VzZVkiLCJjYW1lcmEiLCJ4IiwieSIsInoiLCJyeCIsInJ5IiwicnoiLCJjZW50ZXIiLCJiaW5kRXZlbnRzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZHJhdyIsImNoYW5nZSIsIm9uIiwiZSIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YVkiLCJtb3VzZURvd24iLCJtb3VzZVN0YXJ0WCIsImNsaWVudFgiLCJtb3VzZVN0YXJ0WSIsImNsaWVudFkiLCJtb3VzZVN0YXJ0Um90YXRpb25YIiwibW91c2VTdGFydFJvdGF0aW9uWSIsImNsZWFyUmVjdCIsImRyYXdTcXVhcmUiLCJkcmF3Qm94Iiwic2l6ZSIsImMiLCJtYXRoIiwibWF0cml4IiwibWFrZUhvbW9nZW5lb3VzIiwiZ2V0Q2VudHJvaWQzZCIsInRvQXJyYXkiLCJyb3RhdGUzZCIsInYiLCJwcm9qZWN0T3J0aG9ncmFwaGljIiwicHJvamVjdFBlcnNwZWN0aXZlIiwiYmVnaW5QYXRoIiwic3Ryb2tlU3R5bGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJ4Um90YXRpb24iLCJ5Um90YXRpb24iLCJ6Um90YXRpb24iLCJNYXRoIiwiUEkiLCJ0cmFuc2xhdGVDZW50ZXJNYXRyaXgiLCJ0cmFuc2xhdGVCYWNrTWF0cml4IiwieFJvdGF0aW9uTWF0cml4IiwiY29zIiwic2luIiwieVJvdGF0aW9uTWF0cml4IiwielJvdGF0aW9uTWF0cml4IiwibmV3YyIsIl9kYXRhIiwicm93IiwibXVsdGlwbHkiLCJwdXNoIiwidmVydGV4ZXMiLCJkIiwiciIsInByb2plY3RlZENlbnRlciIsInZzIiwicm90YXRlMmQiLCJmaWxsU3R5bGUiLCJjbG9zZVBhdGgiLCJmaWxsIiwicmVzaXplIiwidGhldGEiLCJnZXRDZW50cm9pZDJkIiwicm90YXRpb25NYXRyaXgiLCJ0Y20iLCJybSIsInRibSIsInBvaW50cyIsInAiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUksdUJBQWM7QUFBQTs7QUFBQTs7QUFDVkEsVUFBRSxZQUFNO0FBQ0osa0JBQUtDLEdBQUwsR0FBV0QsRUFBRSxrQkFBRixFQUFzQixDQUF0QixDQUFYO0FBQ0Esa0JBQUtFLEdBQUwsR0FBVyxNQUFLRCxHQUFMLENBQVNFLFVBQVQsQ0FBb0IsSUFBcEIsRUFBMEIsRUFBQ0MsT0FBTyxLQUFSLEVBQTFCLENBQVg7QUFDQSxrQkFBS0gsR0FBTCxDQUFTSSxLQUFULEdBQWlCQyxPQUFPQyxVQUF4QjtBQUNBLGtCQUFLTixHQUFMLENBQVNPLE1BQVQsR0FBa0JGLE9BQU9HLFdBQXpCO0FBQ0Esa0JBQUtDLFNBQUwsR0FBaUJDLE9BQU9YLEVBQUUsWUFBRixFQUFnQlksR0FBaEIsRUFBUCxDQUFqQjtBQUNBLGtCQUFLQyxTQUFMLEdBQWlCRixPQUFPWCxFQUFFLFlBQUYsRUFBZ0JZLEdBQWhCLEVBQVAsQ0FBakI7QUFDQSxrQkFBS0UsU0FBTCxHQUFpQkgsT0FBT1gsRUFBRSxZQUFGLEVBQWdCWSxHQUFoQixFQUFQLENBQWpCO0FBQ0Esa0JBQUtHLFVBQUwsR0FBa0JmLEVBQUUsYUFBRixFQUFpQlksR0FBakIsRUFBbEI7QUFDQSxrQkFBS0ksSUFBTCxHQUFZTCxPQUFPWCxFQUFFLE9BQUYsRUFBV1ksR0FBWCxFQUFQLENBQVo7QUFDQSxrQkFBS0ssTUFBTCxHQUFjLE1BQUtoQixHQUFMLENBQVNJLEtBQVQsR0FBaUIsQ0FBL0I7QUFDQSxrQkFBS2EsTUFBTCxHQUFjLE1BQUtqQixHQUFMLENBQVNPLE1BQVQsR0FBa0IsQ0FBaEM7QUFDQSxrQkFBS1csTUFBTCxHQUFjO0FBQ1ZDLG1CQUFHLENBRE87QUFFVkMsbUJBQUcsQ0FGTztBQUdWQyxtQkFBR1gsT0FBT1gsRUFBRSxjQUFGLEVBQWtCWSxHQUFsQixFQUFQLENBSE87QUFJVlcsb0JBQUksQ0FKTTtBQUtWQyxvQkFBSSxDQUxNO0FBTVZDLG9CQUFJLENBTk07QUFPVnBCLHVCQUFPLE1BQUtKLEdBQUwsQ0FBU0ksS0FQTjtBQVFWRyx3QkFBUSxNQUFLUCxHQUFMLENBQVNPLE1BUlA7QUFTVmtCLHdCQUFRO0FBQ0pOLHVCQUFHLE1BQUtuQixHQUFMLENBQVNJLEtBQVQsR0FBaUIsQ0FEaEI7QUFFSmdCLHVCQUFHLE1BQUtwQixHQUFMLENBQVNPLE1BQVQsR0FBa0I7QUFGakI7QUFURSxhQUFkO0FBY0Esa0JBQUttQixVQUFMO0FBQ0FDLGtDQUFzQjtBQUFBLHVCQUFNLE1BQUtDLElBQUwsRUFBTjtBQUFBLGFBQXRCO0FBQ0gsU0E1QkQ7QUE2Qkg7O0FBaENMO0FBQUE7QUFBQSxxQ0FrQ2lCO0FBQUE7O0FBQ1Q3QixjQUFFLE9BQUYsRUFBVzhCLE1BQVgsQ0FBa0IsWUFBTTtBQUNwQix1QkFBS2QsSUFBTCxHQUFZTCxPQUFPWCxFQUFFLE9BQUYsRUFBV1ksR0FBWCxFQUFQLENBQVo7QUFDSCxhQUZEO0FBR0FaLGNBQUUsY0FBRixFQUFrQjhCLE1BQWxCLENBQXlCLFlBQU07QUFDM0IsdUJBQUtYLE1BQUwsQ0FBWUcsQ0FBWixHQUFnQlgsT0FBT1gsRUFBRSxjQUFGLEVBQWtCWSxHQUFsQixFQUFQLENBQWhCO0FBQ0gsYUFGRDtBQUdBWixjQUFFLGFBQUYsRUFBaUI4QixNQUFqQixDQUF3QixZQUFNO0FBQzFCLHVCQUFLZixVQUFMLEdBQWtCZixFQUFFLGFBQUYsRUFBaUJZLEdBQWpCLEVBQWxCO0FBQ0gsYUFGRDtBQUdBWixjQUFFLFlBQUYsRUFBZ0I4QixNQUFoQixDQUF1QixZQUFNO0FBQ3pCLHVCQUFLcEIsU0FBTCxHQUFpQkMsT0FBT1gsRUFBRSxZQUFGLEVBQWdCWSxHQUFoQixFQUFQLENBQWpCO0FBQ0gsYUFGRDtBQUdBWixjQUFFLFlBQUYsRUFBZ0I4QixNQUFoQixDQUF1QixZQUFNO0FBQ3pCLHVCQUFLakIsU0FBTCxHQUFpQkYsT0FBT1gsRUFBRSxZQUFGLEVBQWdCWSxHQUFoQixFQUFQLENBQWpCO0FBQ0gsYUFGRDtBQUdBWixjQUFFLFlBQUYsRUFBZ0I4QixNQUFoQixDQUF1QixZQUFNO0FBQ3pCLHVCQUFLaEIsU0FBTCxHQUFpQkgsT0FBT1gsRUFBRSxZQUFGLEVBQWdCWSxHQUFoQixFQUFQLENBQWpCO0FBQ0gsYUFGRDtBQUdBWixjQUFFLEtBQUtDLEdBQVAsRUFBWThCLEVBQVosQ0FBZTtBQUNYLHlCQUFTLGVBQUNDLENBQUQsRUFBTztBQUNaLDJCQUFLaEIsSUFBTCxJQUFhZ0IsRUFBRUMsYUFBRixDQUFnQkMsTUFBN0I7QUFDSCxpQkFIVTtBQUlYLDJCQUFXLGlCQUFDRixDQUFELEVBQU87QUFDZCwyQkFBS0csU0FBTCxHQUFpQixLQUFqQjtBQUNILGlCQU5VO0FBT1gsNkJBQWEsbUJBQUNILENBQUQsRUFBTztBQUNoQiwyQkFBS0csU0FBTCxHQUFpQixJQUFqQjtBQUNBLDJCQUFLQyxXQUFMLEdBQW1CSixFQUFFQyxhQUFGLENBQWdCSSxPQUFuQztBQUNBLDJCQUFLQyxXQUFMLEdBQW1CTixFQUFFQyxhQUFGLENBQWdCTSxPQUFuQztBQUNBLDJCQUFLQyxtQkFBTCxHQUEyQixPQUFLOUIsU0FBaEM7QUFDQSwyQkFBSytCLG1CQUFMLEdBQTJCLE9BQUs1QixTQUFoQztBQUNILGlCQWJVO0FBY1gsNkJBQWEsbUJBQUNtQixDQUFELEVBQU87QUFDaEIsMkJBQUtmLE1BQUwsR0FBY2UsRUFBRUMsYUFBRixDQUFnQkksT0FBOUI7QUFDQSwyQkFBS25CLE1BQUwsR0FBY2MsRUFBRUMsYUFBRixDQUFnQk0sT0FBOUI7O0FBRUEsd0JBQUcsT0FBS0osU0FBUixFQUFtQjtBQUNmLCtCQUFLekIsU0FBTCxHQUFpQixPQUFLOEIsbUJBQUwsSUFBNEIsT0FBS0osV0FBTCxHQUFtQixPQUFLbkIsTUFBcEQsQ0FBakI7QUFDQSwrQkFBS0osU0FBTCxHQUFpQixPQUFLNEIsbUJBQUwsSUFBNEIsT0FBS0gsV0FBTCxHQUFtQixPQUFLcEIsTUFBcEQsQ0FBakI7QUFDQWxCLDBCQUFFLFlBQUYsRUFBZ0JZLEdBQWhCLENBQW9CLE9BQUtGLFNBQXpCO0FBQ0FWLDBCQUFFLFlBQUYsRUFBZ0JZLEdBQWhCLENBQW9CLE9BQUtDLFNBQXpCO0FBQ0g7QUFDSjtBQXhCVSxhQUFmO0FBMEJIO0FBL0VMO0FBQUE7QUFBQSwrQkFpRlc7QUFBQTs7QUFDSCxpQkFBS1gsR0FBTCxDQUFTd0MsU0FBVCxDQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QixLQUFLekMsR0FBTCxDQUFTSSxLQUFsQyxFQUF5QyxLQUFLSixHQUFMLENBQVNPLE1BQWxEOztBQUVBLGlCQUFLbUMsVUFBTDtBQUNBLGlCQUFLQyxPQUFMOztBQUVBaEIsa0NBQXNCO0FBQUEsdUJBQU0sT0FBS0MsSUFBTCxFQUFOO0FBQUEsYUFBdEI7QUFDSDtBQXhGTDtBQUFBO0FBQUEsa0NBMEZjO0FBQ04sZ0JBQUlnQixPQUFPLEdBQVg7QUFDQSxnQkFBSXpCLElBQUksS0FBS0gsTUFBYjtBQUNBLGdCQUFJSSxJQUFJLEtBQUtILE1BQWI7QUFDQSxnQkFBRyxLQUFLSCxVQUFMLEtBQW9CLEdBQXZCLEVBQTRCO0FBQ3hCSyxvQkFBSyxLQUFLbkIsR0FBTCxDQUFTSSxLQUFULEdBQWlCLENBQWxCLEdBQXVCLEtBQUtZLE1BQWhDO0FBQ0FJLG9CQUFLLEtBQUtwQixHQUFMLENBQVNPLE1BQVQsR0FBa0IsQ0FBbkIsR0FBd0IsS0FBS1UsTUFBakM7QUFDSDtBQUNELGdCQUFJSSxJQUFJLEtBQUtOLElBQWI7O0FBRUEsZ0JBQUk4QixJQUFJQyxLQUFLQyxNQUFMLENBQVksQ0FDaEIsQ0FBQzVCLElBQUl5QixJQUFMLEVBQVd4QixJQUFJd0IsSUFBZixFQUFxQnZCLElBQUl1QixJQUF6QixDQURnQixFQUVoQixDQUFDekIsSUFBSXlCLElBQUwsRUFBV3hCLElBQUl3QixJQUFmLEVBQXFCdkIsSUFBSXVCLElBQXpCLENBRmdCLEVBR2hCLENBQUN6QixJQUFJeUIsSUFBTCxFQUFXeEIsSUFBSXdCLElBQWYsRUFBcUJ2QixJQUFJdUIsSUFBekIsQ0FIZ0IsRUFJaEIsQ0FBQ3pCLElBQUl5QixJQUFMLEVBQVd4QixJQUFJd0IsSUFBZixFQUFxQnZCLElBQUl1QixJQUF6QixDQUpnQixFQU1oQixDQUFDekIsSUFBSXlCLElBQUwsRUFBV3hCLElBQUl3QixJQUFmLEVBQXFCdkIsSUFBSXVCLElBQXpCLENBTmdCLEVBT2hCLENBQUN6QixJQUFJeUIsSUFBTCxFQUFXeEIsSUFBSXdCLElBQWYsRUFBcUJ2QixJQUFJdUIsSUFBekIsQ0FQZ0IsRUFRaEIsQ0FBQ3pCLElBQUl5QixJQUFMLEVBQVd4QixJQUFJd0IsSUFBZixFQUFxQnZCLElBQUl1QixJQUF6QixDQVJnQixFQVNoQixDQUFDekIsSUFBSXlCLElBQUwsRUFBV3hCLElBQUl3QixJQUFmLEVBQXFCdkIsSUFBSXVCLElBQXpCLENBVGdCLENBQVosQ0FBUjs7QUFZQUMsZ0JBQUksS0FBS0csZUFBTCxDQUFxQkgsQ0FBckIsQ0FBSjtBQUNBO0FBQ0EsZ0JBQUlwQixTQUFTLEtBQUt3QixhQUFMLENBQW1CSixDQUFuQixFQUFzQkssT0FBdEIsRUFBYjs7QUFFQUwsZ0JBQUksS0FBS00sUUFBTCxDQUFjTixDQUFkLEVBQWlCcEIsTUFBakIsRUFBeUIsS0FBS2hCLFNBQTlCLEVBQXlDLEtBQUtHLFNBQTlDLEVBQXlELEtBQUtDLFNBQTlELENBQUo7O0FBRUEsZ0JBQUl1QyxVQUFKO0FBQ0Esb0JBQU8sS0FBS3RDLFVBQVo7QUFDSSxxQkFBSyxHQUFMO0FBQ0lzQyx3QkFBSSxLQUFLQyxtQkFBTCxDQUF5QlIsQ0FBekIsQ0FBSjtBQUNBOztBQUVKLHFCQUFLLEdBQUw7QUFDSU8sd0JBQUksS0FBS0Usa0JBQUwsQ0FBd0JULENBQXhCLEVBQTJCcEIsTUFBM0IsQ0FBSjtBQUNBO0FBUFI7O0FBVUEsaUJBQUt4QixHQUFMLENBQVNzRCxTQUFUO0FBQ0EsaUJBQUt0RCxHQUFMLENBQVN1RCxXQUFULEdBQXVCLGdCQUF2QjtBQUNBLGlCQUFLdkQsR0FBTCxDQUFTd0QsTUFBVCxDQUFnQkwsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTeUQsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTeUQsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTeUQsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTeUQsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTMEQsTUFBVDs7QUFFQSxpQkFBSzFELEdBQUwsQ0FBU3NELFNBQVQ7QUFDQSxpQkFBS3RELEdBQUwsQ0FBU3VELFdBQVQsR0FBdUIsZ0JBQXZCO0FBQ0EsaUJBQUt2RCxHQUFMLENBQVN3RCxNQUFULENBQWdCTCxFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRCxHQUFMLENBQVN5RCxNQUFULENBQWdCTixFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRCxHQUFMLENBQVN5RCxNQUFULENBQWdCTixFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRCxHQUFMLENBQVN5RCxNQUFULENBQWdCTixFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRCxHQUFMLENBQVN5RCxNQUFULENBQWdCTixFQUFFLENBQUYsRUFBSyxDQUFMLENBQWhCLEVBQXlCQSxFQUFFLENBQUYsRUFBSyxDQUFMLENBQXpCO0FBQ0EsaUJBQUtuRCxHQUFMLENBQVMwRCxNQUFUOztBQUVBLGlCQUFLMUQsR0FBTCxDQUFTc0QsU0FBVDtBQUNBLGlCQUFLdEQsR0FBTCxDQUFTdUQsV0FBVCxHQUF1QixnQkFBdkI7QUFDQSxpQkFBS3ZELEdBQUwsQ0FBU3dELE1BQVQsQ0FBZ0JMLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25ELEdBQUwsQ0FBU3lELE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25ELEdBQUwsQ0FBU3lELE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25ELEdBQUwsQ0FBU3lELE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25ELEdBQUwsQ0FBU3lELE1BQVQsQ0FBZ0JOLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBS25ELEdBQUwsQ0FBUzBELE1BQVQ7O0FBRUEsaUJBQUsxRCxHQUFMLENBQVNzRCxTQUFUO0FBQ0EsaUJBQUt0RCxHQUFMLENBQVN1RCxXQUFULEdBQXVCLG9CQUF2QjtBQUNBLGlCQUFLdkQsR0FBTCxDQUFTd0QsTUFBVCxDQUFnQkwsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTeUQsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTeUQsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTeUQsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTeUQsTUFBVCxDQUFnQk4sRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQixFQUF5QkEsRUFBRSxDQUFGLEVBQUssQ0FBTCxDQUF6QjtBQUNBLGlCQUFLbkQsR0FBTCxDQUFTMEQsTUFBVDtBQUVIO0FBcktMO0FBQUE7QUFBQSxpQ0F1S2FkLENBdktiLEVBdUtnQnBCLE1BdktoQixFQXVLd0JtQyxTQXZLeEIsRUF1S21DQyxTQXZLbkMsRUF1SzhDQyxTQXZLOUMsRUF1S3lEO0FBQ2pEO0FBQ0FGLHdCQUFZQSxhQUFhRyxLQUFLQyxFQUFMLEdBQVUsR0FBdkIsQ0FBWjtBQUNBSCx3QkFBWUEsYUFBYUUsS0FBS0MsRUFBTCxHQUFVLEdBQXZCLENBQVo7QUFDQUYsd0JBQVlBLGFBQWFDLEtBQUtDLEVBQUwsR0FBVSxHQUF2QixDQUFaOztBQUVBLGdCQUFJQyx3QkFBd0JuQixLQUFLQyxNQUFMLENBQVksQ0FDcEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFDdEIsT0FBTyxDQUFQLENBQVgsQ0FEb0MsRUFFcEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFDQSxPQUFPLENBQVAsQ0FBWCxDQUZvQyxFQUdwQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQUNBLE9BQU8sQ0FBUCxDQUFYLENBSG9DLEVBSXBDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQUpvQyxDQUFaLENBQTVCOztBQU9BLGdCQUFJeUMsc0JBQXNCcEIsS0FBS0MsTUFBTCxDQUFZLENBQ2xDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVV0QixPQUFPLENBQVAsQ0FBVixDQURrQyxFQUVsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVQSxPQUFPLENBQVAsQ0FBVixDQUZrQyxFQUdsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVQSxPQUFPLENBQVAsQ0FBVixDQUhrQyxFQUlsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FKa0MsQ0FBWixDQUExQjs7QUFPQSxnQkFBSTBDLGtCQUFrQnJCLEtBQUtDLE1BQUwsQ0FBWSxDQUM5QixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FEOEIsRUFFOUIsQ0FBQyxDQUFELEVBQUlnQixLQUFLSyxHQUFMLENBQVNSLFNBQVQsQ0FBSixFQUF5QixDQUFDRyxLQUFLTSxHQUFMLENBQVNULFNBQVQsQ0FBMUIsRUFBK0MsQ0FBL0MsQ0FGOEIsRUFHOUIsQ0FBQyxDQUFELEVBQUlHLEtBQUtNLEdBQUwsQ0FBU1QsU0FBVCxDQUFKLEVBQXlCRyxLQUFLSyxHQUFMLENBQVNSLFNBQVQsQ0FBekIsRUFBOEMsQ0FBOUMsQ0FIOEIsRUFJOUIsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBSjhCLENBQVosQ0FBdEI7O0FBT0EsZ0JBQUlVLGtCQUFrQnhCLEtBQUtDLE1BQUwsQ0FBWSxDQUM5QixDQUFDZ0IsS0FBS0ssR0FBTCxDQUFTUCxTQUFULENBQUQsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBQ0UsS0FBS00sR0FBTCxDQUFTUixTQUFULENBQTFCLEVBQStDLENBQS9DLENBRDhCLEVBRTlCLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQUY4QixFQUc5QixDQUFDRSxLQUFLTSxHQUFMLENBQVNSLFNBQVQsQ0FBRCxFQUFzQixDQUF0QixFQUF5QkUsS0FBS0ssR0FBTCxDQUFTUCxTQUFULENBQXpCLEVBQThDLENBQTlDLENBSDhCLEVBSTlCLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQUo4QixDQUFaLENBQXRCOztBQU9BLGdCQUFJVSxrQkFBa0J6QixLQUFLQyxNQUFMLENBQVksQ0FDOUIsQ0FBQ2dCLEtBQUtLLEdBQUwsQ0FBU04sU0FBVCxDQUFELEVBQXNCLENBQUNDLEtBQUtNLEdBQUwsQ0FBU1AsU0FBVCxDQUF2QixFQUE0QyxDQUE1QyxFQUErQyxDQUEvQyxDQUQ4QixFQUU5QixDQUFDQyxLQUFLTSxHQUFMLENBQVNQLFNBQVQsQ0FBRCxFQUFzQkMsS0FBS0ssR0FBTCxDQUFTTixTQUFULENBQXRCLEVBQTJDLENBQTNDLEVBQThDLENBQTlDLENBRjhCLEVBRzlCLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQUg4QixFQUk5QixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FKOEIsQ0FBWixDQUF0Qjs7QUFPQSxnQkFBSVUsT0FBTyxFQUFYO0FBekNpRDtBQUFBO0FBQUE7O0FBQUE7QUEwQ2pELHFDQUFlM0IsRUFBRTRCLEtBQWpCLDhIQUF3QjtBQUFBLHdCQUFoQkMsR0FBZ0I7O0FBQ3BCQSwwQkFBTTVCLEtBQUs2QixRQUFMLENBQWNWLHFCQUFkLEVBQXFDUyxHQUFyQyxDQUFOO0FBQ0FBLDBCQUFNNUIsS0FBSzZCLFFBQUwsQ0FBY1IsZUFBZCxFQUErQk8sR0FBL0IsQ0FBTjtBQUNBQSwwQkFBTTVCLEtBQUs2QixRQUFMLENBQWNMLGVBQWQsRUFBK0JJLEdBQS9CLENBQU47QUFDQUEsMEJBQU01QixLQUFLNkIsUUFBTCxDQUFjSixlQUFkLEVBQStCRyxHQUEvQixDQUFOO0FBQ0FBLDBCQUFNNUIsS0FBSzZCLFFBQUwsQ0FBY1QsbUJBQWQsRUFBbUNRLEdBQW5DLENBQU47QUFDQUYseUJBQUtJLElBQUwsQ0FBVUYsR0FBVjtBQUNIO0FBakRnRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWtEakQsbUJBQU81QixLQUFLQyxNQUFMLENBQVl5QixJQUFaLENBQVA7QUFDSDtBQTFOTDtBQUFBO0FBQUEsMkNBNE51QkssUUE1TnZCLEVBNE5pQ3BELE1BNU5qQyxFQTROeUM7QUFDakMsZ0JBQUlxRCxJQUFJLEtBQUs1RCxNQUFMLENBQVlHLENBQXBCOztBQUVBLGdCQUFJMEQsSUFBSUQsSUFBSXJELE9BQU8sQ0FBUCxDQUFaO0FBQ0EsZ0JBQUl1RCxrQkFBa0IsQ0FBQ0QsSUFBSXRELE9BQU8sQ0FBUCxDQUFMLEVBQWdCc0QsSUFBSXRELE9BQU8sQ0FBUCxDQUFwQixFQUErQixDQUEvQixDQUF0Qjs7QUFFQSxnQkFBSXlDLHNCQUFzQnBCLEtBQUtDLE1BQUwsQ0FBWSxDQUNsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sS0FBSy9DLEdBQUwsQ0FBU0ksS0FBVCxHQUFpQixDQUF4QixDQURrQyxFQUVsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sS0FBS0osR0FBTCxDQUFTTyxNQUFULEdBQWtCLENBQXpCLENBRmtDLEVBR2xDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLENBSGtDLENBQVosQ0FBMUI7O0FBUUEsZ0JBQUkwRSxLQUFLLEVBQVQ7QUFkaUM7QUFBQTtBQUFBOztBQUFBO0FBZWpDLHNDQUFlSixTQUFTSixLQUF4QixtSUFBK0I7QUFBQSx3QkFBdkJDLEdBQXVCOztBQUMzQjtBQUNBO0FBQ0Esd0JBQUl2RCxJQUFJMkQsS0FBS0osSUFBSSxDQUFKLElBQVNBLElBQUksQ0FBSixDQUFkLENBQVI7QUFDQSx3QkFBSXRELElBQUkwRCxLQUFLSixJQUFJLENBQUosSUFBU0EsSUFBSSxDQUFKLENBQWQsQ0FBUjtBQUNBQSwwQkFBTTVCLEtBQUtDLE1BQUwsQ0FBWSxDQUFDNUIsQ0FBRCxFQUFJQyxDQUFKLEVBQU8sQ0FBUCxDQUFaLENBQU47QUFDQXNELDBCQUFNNUIsS0FBSzZCLFFBQUwsQ0FBY1QsbUJBQWQsRUFBbUNRLEdBQW5DLENBQU47O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQU8sdUJBQUdMLElBQUgsQ0FBUSxDQUFDRixJQUFJRCxLQUFKLENBQVUsQ0FBVixDQUFELEVBQWVDLElBQUlELEtBQUosQ0FBVSxDQUFWLENBQWYsQ0FBUjtBQUNIO0FBL0JnQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWdDakMsbUJBQU9RLEVBQVA7QUFDSDtBQTdQTDtBQUFBO0FBQUEsNENBK1B3QkosUUEvUHhCLEVBK1BrQztBQUMxQixnQkFBSUksS0FBSyxFQUFUO0FBRDBCO0FBQUE7QUFBQTs7QUFBQTtBQUUxQixzQ0FBYUosU0FBU0osS0FBdEIsbUlBQTZCO0FBQUEsd0JBQXJCckIsQ0FBcUI7O0FBQ3pCNkIsdUJBQUdMLElBQUgsQ0FBUSxDQUFDeEIsRUFBRSxDQUFGLENBQUQsRUFBT0EsRUFBRSxDQUFGLENBQVAsQ0FBUjtBQUNIO0FBSnlCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBSzFCLG1CQUFPNkIsRUFBUDtBQUNIO0FBclFMO0FBQUE7QUFBQSxxQ0F1UWlCO0FBQ1QsZ0JBQUlyQyxPQUFPLEdBQVg7QUFDQSxnQkFBSXpCLElBQUksS0FBS0gsTUFBTCxHQUFjNEIsT0FBTyxDQUE3QjtBQUNBLGdCQUFJeEIsSUFBSSxLQUFLSCxNQUFMLEdBQWMyQixPQUFPLENBQTdCOztBQUVBLGdCQUFJQyxJQUFJQyxLQUFLQyxNQUFMLENBQVksQ0FDaEIsQ0FBQzVCLENBQUQsRUFBSUMsQ0FBSixDQURnQixFQUVoQixDQUFDRCxJQUFJeUIsSUFBTCxFQUFXeEIsQ0FBWCxDQUZnQixFQUdoQixDQUFDRCxJQUFJeUIsSUFBTCxFQUFXeEIsSUFBSXdCLElBQWYsQ0FIZ0IsRUFJaEIsQ0FBQ3pCLENBQUQsRUFBSUMsSUFBSXdCLElBQVIsQ0FKZ0IsQ0FBWixDQUFSOztBQU9BQyxnQkFBSSxLQUFLRyxlQUFMLENBQXFCSCxDQUFyQixDQUFKOztBQUdBQSxnQkFBSSxLQUFLcUMsUUFBTCxDQUFjckMsQ0FBZCxFQUFpQixLQUFLcEMsU0FBdEIsRUFBaUN5QyxPQUFqQyxFQUFKOztBQUVBLGlCQUFLakQsR0FBTCxDQUFTa0YsU0FBVCxHQUFxQixvQkFBckI7QUFDQSxpQkFBS2xGLEdBQUwsQ0FBU3NELFNBQVQ7QUFDQSxpQkFBS3RELEdBQUwsQ0FBU3dELE1BQVQsQ0FBZ0JaLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBSzVDLEdBQUwsQ0FBU3lELE1BQVQsQ0FBZ0JiLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBSzVDLEdBQUwsQ0FBU3lELE1BQVQsQ0FBZ0JiLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBSzVDLEdBQUwsQ0FBU3lELE1BQVQsQ0FBZ0JiLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBaEIsRUFBeUJBLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBekI7QUFDQSxpQkFBSzVDLEdBQUwsQ0FBU21GLFNBQVQ7QUFDQSxpQkFBS25GLEdBQUwsQ0FBU29GLElBQVQ7QUFDSDtBQWhTTDtBQUFBO0FBQUEsd0NBa1NvQnhDLENBbFNwQixFQWtTdUI7QUFDZjtBQUNBQSxjQUFFeUMsTUFBRixDQUFTLENBQUN6QyxFQUFFRCxJQUFGLEdBQVMsQ0FBVCxDQUFELEVBQWNDLEVBQUVELElBQUYsR0FBUyxDQUFULElBQVksQ0FBMUIsQ0FBVCxFQUF1QyxDQUF2QztBQUNBLG1CQUFPQyxDQUFQO0FBQ0g7O0FBRUQ7Ozs7Ozs7QUF4U0o7QUFBQTtBQUFBLGlDQThTYUEsQ0E5U2IsRUE4U2dCMEMsS0E5U2hCLEVBOFN1QjtBQUNmO0FBQ0FBLG9CQUFRQSxTQUFTeEIsS0FBS0MsRUFBTCxHQUFVLEdBQW5CLENBQVI7QUFDQTtBQUNBLGdCQUFJdkMsU0FBUyxLQUFLK0QsYUFBTCxDQUFtQjNDLENBQW5CLEVBQXNCSyxPQUF0QixFQUFiOztBQUVBLGdCQUFJdUMsaUJBQWlCM0MsS0FBS0MsTUFBTCxDQUFZLENBQzdCLENBQUNnQixLQUFLSyxHQUFMLENBQVNtQixLQUFULENBQUQsRUFBa0IsQ0FBQ3hCLEtBQUtNLEdBQUwsQ0FBU2tCLEtBQVQsQ0FBbkIsRUFBb0MsQ0FBcEMsQ0FENkIsRUFFN0IsQ0FBQ3hCLEtBQUtNLEdBQUwsQ0FBU2tCLEtBQVQsQ0FBRCxFQUFrQnhCLEtBQUtLLEdBQUwsQ0FBU21CLEtBQVQsQ0FBbEIsRUFBbUMsQ0FBbkMsQ0FGNkIsRUFHN0IsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FINkIsQ0FBWixDQUFyQjtBQUtBLGdCQUFJdEIsd0JBQXdCbkIsS0FBS0MsTUFBTCxDQUFZLENBQ3BDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFDdEIsT0FBTyxDQUFQLENBQVIsQ0FEb0MsRUFFcEMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQUNBLE9BQU8sQ0FBUCxDQUFSLENBRm9DLEVBR3BDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLENBSG9DLENBQVosQ0FBNUI7QUFLQSxnQkFBSXlDLHNCQUFzQnBCLEtBQUtDLE1BQUwsQ0FBWSxDQUNsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU90QixPQUFPLENBQVAsQ0FBUCxDQURrQyxFQUVsQyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU9BLE9BQU8sQ0FBUCxDQUFQLENBRmtDLEVBR2xDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLENBSGtDLENBQVosQ0FBMUI7O0FBTUEsZ0JBQUkrQyxPQUFPLEVBQVg7QUF0QmU7QUFBQTtBQUFBOztBQUFBO0FBdUJmLHNDQUFlM0IsRUFBRTRCLEtBQWpCLG1JQUF3QjtBQUFBLHdCQUFoQkMsR0FBZ0I7O0FBQ3BCLHdCQUFJZ0IsTUFBTTVDLEtBQUs2QixRQUFMLENBQWNWLHFCQUFkLEVBQXFDUyxHQUFyQyxDQUFWO0FBQ0Esd0JBQUlpQixLQUFLN0MsS0FBSzZCLFFBQUwsQ0FBY2MsY0FBZCxFQUE4QkMsR0FBOUIsQ0FBVDtBQUNBLHdCQUFJRSxNQUFNOUMsS0FBSzZCLFFBQUwsQ0FBY1QsbUJBQWQsRUFBbUN5QixFQUFuQyxDQUFWO0FBQ0FuQix5QkFBS0ksSUFBTCxDQUFVZ0IsR0FBVjtBQUNIO0FBNUJjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBNkJmLG1CQUFPOUMsS0FBS0MsTUFBTCxDQUFZeUIsSUFBWixDQUFQO0FBQ0g7QUE1VUw7QUFBQTtBQUFBLHNDQThVa0JxQixNQTlVbEIsRUE4VXlCO0FBQ2pCLGdCQUFJMUUsSUFBSSxDQUFSO0FBQUEsZ0JBQVdDLElBQUksQ0FBZjtBQURpQjtBQUFBO0FBQUE7O0FBQUE7QUFFakIsc0NBQWF5RSxPQUFPcEIsS0FBcEIsbUlBQTJCO0FBQUEsd0JBQW5CcUIsQ0FBbUI7O0FBQ3ZCM0UseUJBQUsyRSxFQUFFLENBQUYsQ0FBTDtBQUNBMUUseUJBQUswRSxFQUFFLENBQUYsQ0FBTDtBQUNIO0FBTGdCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBTWpCLG1CQUFPaEQsS0FBS0MsTUFBTCxDQUFZLENBQUM1QixJQUFJMEUsT0FBT3BCLEtBQVAsQ0FBYXNCLE1BQWxCLEVBQTBCM0UsSUFBSXlFLE9BQU9wQixLQUFQLENBQWFzQixNQUEzQyxDQUFaLENBQVA7QUFDSDtBQXJWTDtBQUFBO0FBQUEsc0NBdVZrQkYsTUF2VmxCLEVBdVZ5QjtBQUNqQixnQkFBSTFFLElBQUksQ0FBUjtBQUFBLGdCQUFXQyxJQUFJLENBQWY7QUFBQSxnQkFBa0JDLElBQUksQ0FBdEI7QUFEaUI7QUFBQTtBQUFBOztBQUFBO0FBRWpCLHNDQUFhd0UsT0FBT3BCLEtBQXBCLG1JQUEyQjtBQUFBLHdCQUFuQnFCLENBQW1COztBQUN2QjNFLHlCQUFLMkUsRUFBRSxDQUFGLENBQUw7QUFDQTFFLHlCQUFLMEUsRUFBRSxDQUFGLENBQUw7QUFDQXpFLHlCQUFLeUUsRUFBRSxDQUFGLENBQUw7QUFDSDtBQU5nQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQU9qQixtQkFBT2hELEtBQUtDLE1BQUwsQ0FBWSxDQUNmNUIsSUFBSTBFLE9BQU9wQixLQUFQLENBQWFzQixNQURGLEVBRWYzRSxJQUFJeUUsT0FBT3BCLEtBQVAsQ0FBYXNCLE1BRkYsRUFHZjFFLElBQUl3RSxPQUFPcEIsS0FBUCxDQUFhc0IsTUFIRixDQUFaLENBQVA7QUFLSDtBQW5XTDs7QUFBQTtBQUFBIiwiZmlsZSI6IlByb2plY3QuZXM2Iiwic291cmNlUm9vdCI6IkM6L1VzZXJzL3JpY2gvUGhwc3Rvcm1Qcm9qZWN0cy9qc2FsZ29zIiwic291cmNlc0NvbnRlbnQiOlsibmV3IGNsYXNzIFByb2plY3Qge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYW4gPSAkKFwiI2dlb21ldHJ5X2NhbnZhc1wiKVswXTtcbiAgICAgICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW4uZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IGZhbHNlfSk7XG4gICAgICAgICAgICB0aGlzLmNhbi53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgdGhpcy5jYW4uaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblggPSBOdW1iZXIoJChcIiNyb3RhdGlvbnhcIikudmFsKCkpO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblkgPSBOdW1iZXIoJChcIiNyb3RhdGlvbnlcIikudmFsKCkpO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblogPSBOdW1iZXIoJChcIiNyb3RhdGlvbnpcIikudmFsKCkpO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uID0gJChcIiNwcm9qZWN0aW9uXCIpLnZhbCgpO1xuICAgICAgICAgICAgdGhpcy5ib3haID0gTnVtYmVyKCQoXCIjYm94elwiKS52YWwoKSk7XG4gICAgICAgICAgICB0aGlzLm1vdXNlWCA9IHRoaXMuY2FuLndpZHRoIC8gMjtcbiAgICAgICAgICAgIHRoaXMubW91c2VZID0gdGhpcy5jYW4uaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICB6OiBOdW1iZXIoJChcIiNmb2NhbGxlbmd0aFwiKS52YWwoKSksXG4gICAgICAgICAgICAgICAgcng6IDAsXG4gICAgICAgICAgICAgICAgcnk6IDAsXG4gICAgICAgICAgICAgICAgcno6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuY2FuLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5jYW4uaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmNhbi53aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuY2FuLmhlaWdodCAvIDJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5kcmF3KCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBiaW5kRXZlbnRzKCkge1xuICAgICAgICAkKFwiI2JveHpcIikuY2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYm94WiA9IE51bWJlcigkKFwiI2JveHpcIikudmFsKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIiNmb2NhbGxlbmd0aFwiKS5jaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEueiA9IE51bWJlcigkKFwiI2ZvY2FsbGVuZ3RoXCIpLnZhbCgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIjcHJvamVjdGlvblwiKS5jaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uID0gJChcIiNwcm9qZWN0aW9uXCIpLnZhbCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIiNyb3RhdGlvbnhcIikuY2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25YID0gTnVtYmVyKCQoXCIjcm90YXRpb254XCIpLnZhbCgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIjcm90YXRpb255XCIpLmNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IE51bWJlcigkKFwiI3JvdGF0aW9ueVwiKS52YWwoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiI3JvdGF0aW9uelwiKS5jaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvblogPSBOdW1iZXIoJChcIiNyb3RhdGlvbnpcIikudmFsKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGlzLmNhbikub24oe1xuICAgICAgICAgICAgXCJ3aGVlbFwiOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYm94WiArPSBlLm9yaWdpbmFsRXZlbnQuZGVsdGFZO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibW91c2V1cFwiOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJtb3VzZWRvd25cIjogKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0WCA9IGUub3JpZ2luYWxFdmVudC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFkgPSBlLm9yaWdpbmFsRXZlbnQuY2xpZW50WTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlU3RhcnRSb3RhdGlvblggPSB0aGlzLnJvdGF0aW9uWDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlU3RhcnRSb3RhdGlvblkgPSB0aGlzLnJvdGF0aW9uWTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIm1vdXNlbW92ZVwiOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VYID0gZS5vcmlnaW5hbEV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVkgPSBlLm9yaWdpbmFsRXZlbnQuY2xpZW50WTtcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMubW91c2VEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRpb25YID0gdGhpcy5tb3VzZVN0YXJ0Um90YXRpb25YICsgKHRoaXMubW91c2VTdGFydFggLSB0aGlzLm1vdXNlWCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRpb25ZID0gdGhpcy5tb3VzZVN0YXJ0Um90YXRpb25ZICsgKHRoaXMubW91c2VTdGFydFkgLSB0aGlzLm1vdXNlWSk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjcm90YXRpb254XCIpLnZhbCh0aGlzLnJvdGF0aW9uWCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjcm90YXRpb255XCIpLnZhbCh0aGlzLnJvdGF0aW9uWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkcmF3KCkge1xuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW4ud2lkdGgsIHRoaXMuY2FuLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5kcmF3U3F1YXJlKCk7XG4gICAgICAgIHRoaXMuZHJhd0JveCgpO1xuXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmRyYXcoKSk7XG4gICAgfVxuXG4gICAgZHJhd0JveCgpIHtcbiAgICAgICAgbGV0IHNpemUgPSAyMDA7XG4gICAgICAgIGxldCB4ID0gdGhpcy5tb3VzZVg7XG4gICAgICAgIGxldCB5ID0gdGhpcy5tb3VzZVk7XG4gICAgICAgIGlmKHRoaXMucHJvamVjdGlvbiA9PT0gXCJwXCIpIHtcbiAgICAgICAgICAgIHggPSAodGhpcy5jYW4ud2lkdGggLyAyKSAtIHRoaXMubW91c2VYO1xuICAgICAgICAgICAgeSA9ICh0aGlzLmNhbi5oZWlnaHQgLyAyKSAtIHRoaXMubW91c2VZO1xuICAgICAgICB9XG4gICAgICAgIGxldCB6ID0gdGhpcy5ib3haO1xuXG4gICAgICAgIGxldCBjID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgW3ggLSBzaXplLCB5IC0gc2l6ZSwgeiAtIHNpemVdLFxuICAgICAgICAgICAgW3ggKyBzaXplLCB5IC0gc2l6ZSwgeiAtIHNpemVdLFxuICAgICAgICAgICAgW3ggKyBzaXplLCB5ICsgc2l6ZSwgeiAtIHNpemVdLFxuICAgICAgICAgICAgW3ggLSBzaXplLCB5ICsgc2l6ZSwgeiAtIHNpemVdLFxuXG4gICAgICAgICAgICBbeCAtIHNpemUsIHkgLSBzaXplLCB6ICsgc2l6ZV0sXG4gICAgICAgICAgICBbeCArIHNpemUsIHkgLSBzaXplLCB6ICsgc2l6ZV0sXG4gICAgICAgICAgICBbeCArIHNpemUsIHkgKyBzaXplLCB6ICsgc2l6ZV0sXG4gICAgICAgICAgICBbeCAtIHNpemUsIHkgKyBzaXplLCB6ICsgc2l6ZV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgYyA9IHRoaXMubWFrZUhvbW9nZW5lb3VzKGMpO1xuICAgICAgICAvL2ZpbmQgb3VyIGNlbnRyb2lkIGZvciB0aGUgdHJhbnNsYXRpb24gbWF0cml4XG4gICAgICAgIGxldCBjZW50ZXIgPSB0aGlzLmdldENlbnRyb2lkM2QoYykudG9BcnJheSgpO1xuXG4gICAgICAgIGMgPSB0aGlzLnJvdGF0ZTNkKGMsIGNlbnRlciwgdGhpcy5yb3RhdGlvblgsIHRoaXMucm90YXRpb25ZLCB0aGlzLnJvdGF0aW9uWik7XG5cbiAgICAgICAgbGV0IHY7XG4gICAgICAgIHN3aXRjaCh0aGlzLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgXCJvXCI6XG4gICAgICAgICAgICAgICAgdiA9IHRoaXMucHJvamVjdE9ydGhvZ3JhcGhpYyhjKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcInBcIjpcbiAgICAgICAgICAgICAgICB2ID0gdGhpcy5wcm9qZWN0UGVyc3BlY3RpdmUoYywgY2VudGVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IFwicmdiKDI1NSwgMCwgMClcIjtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHZbMF1bMF0sIHZbMF1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odlsxXVswXSwgdlsxXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzJdWzBdLCB2WzJdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbM11bMF0sIHZbM11bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odlswXVswXSwgdlswXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IFwicmdiKDAsIDI1NSwgMClcIjtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHZbNF1bMF0sIHZbNF1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odls1XVswXSwgdls1XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzZdWzBdLCB2WzZdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbN11bMF0sIHZbN11bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odls0XVswXSwgdls0XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IFwicmdiKDAsIDAsIDI1NSlcIjtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHZbMF1bMF0sIHZbMF1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odls0XVswXSwgdls0XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzddWzBdLCB2WzddWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbM11bMF0sIHZbM11bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odlswXVswXSwgdlswXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IFwicmdiKDI1NSwgMjU1LCAyNTUpXCI7XG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh2WzFdWzBdLCB2WzFdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbNV1bMF0sIHZbNV1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odls2XVswXSwgdls2XVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2WzJdWzBdLCB2WzJdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHZbMV1bMF0sIHZbMV1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcblxuICAgIH1cblxuICAgIHJvdGF0ZTNkKGMsIGNlbnRlciwgeFJvdGF0aW9uLCB5Um90YXRpb24sIHpSb3RhdGlvbikge1xuICAgICAgICAvL2NoYW5nZSB0aGV0YSBpbnRvIHJhZGlhbnNcbiAgICAgICAgeFJvdGF0aW9uID0geFJvdGF0aW9uICogKE1hdGguUEkgLyAxODApO1xuICAgICAgICB5Um90YXRpb24gPSB5Um90YXRpb24gKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgIHpSb3RhdGlvbiA9IHpSb3RhdGlvbiAqIChNYXRoLlBJIC8gMTgwKTtcblxuICAgICAgICBsZXQgdHJhbnNsYXRlQ2VudGVyTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgWzEsIDAsIDAsIC1jZW50ZXJbMF1dLFxuICAgICAgICAgICAgWzAsIDEsIDAsIC1jZW50ZXJbMV1dLFxuICAgICAgICAgICAgWzAsIDAsIDEsIC1jZW50ZXJbMl1dLFxuICAgICAgICAgICAgWzAsIDAsIDAsIDFdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCB0cmFuc2xhdGVCYWNrTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgWzEsIDAsIDAsIGNlbnRlclswXV0sXG4gICAgICAgICAgICBbMCwgMSwgMCwgY2VudGVyWzFdXSxcbiAgICAgICAgICAgIFswLCAwLCAxLCBjZW50ZXJbMl1dLFxuICAgICAgICAgICAgWzAsIDAsIDAsIDFdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCB4Um90YXRpb25NYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbMSwgMCwgMCwgMF0sXG4gICAgICAgICAgICBbMCwgTWF0aC5jb3MoeFJvdGF0aW9uKSwgLU1hdGguc2luKHhSb3RhdGlvbiksIDBdLFxuICAgICAgICAgICAgWzAsIE1hdGguc2luKHhSb3RhdGlvbiksIE1hdGguY29zKHhSb3RhdGlvbiksIDBdLFxuICAgICAgICAgICAgWzAsIDAsIDAsIDFdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCB5Um90YXRpb25NYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbTWF0aC5jb3MoeVJvdGF0aW9uKSwgMCwgLU1hdGguc2luKHlSb3RhdGlvbiksIDBdLFxuICAgICAgICAgICAgWzAsIDEsIDAsIDBdLFxuICAgICAgICAgICAgW01hdGguc2luKHlSb3RhdGlvbiksIDAsIE1hdGguY29zKHlSb3RhdGlvbiksIDBdLFxuICAgICAgICAgICAgWzAsIDAsIDAsIDFdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCB6Um90YXRpb25NYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbTWF0aC5jb3MoelJvdGF0aW9uKSwgLU1hdGguc2luKHpSb3RhdGlvbiksIDAsIDBdLFxuICAgICAgICAgICAgW01hdGguc2luKHpSb3RhdGlvbiksIE1hdGguY29zKHpSb3RhdGlvbiksIDAsIDBdLFxuICAgICAgICAgICAgWzAsIDAsIDEsIDBdLFxuICAgICAgICAgICAgWzAsIDAsIDAsIDFdXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCBuZXdjID0gW107XG4gICAgICAgIGZvcihsZXQgcm93IG9mIGMuX2RhdGEpIHtcbiAgICAgICAgICAgIHJvdyA9IG1hdGgubXVsdGlwbHkodHJhbnNsYXRlQ2VudGVyTWF0cml4LCByb3cpO1xuICAgICAgICAgICAgcm93ID0gbWF0aC5tdWx0aXBseSh4Um90YXRpb25NYXRyaXgsIHJvdyk7XG4gICAgICAgICAgICByb3cgPSBtYXRoLm11bHRpcGx5KHlSb3RhdGlvbk1hdHJpeCwgcm93KTtcbiAgICAgICAgICAgIHJvdyA9IG1hdGgubXVsdGlwbHkoelJvdGF0aW9uTWF0cml4LCByb3cpO1xuICAgICAgICAgICAgcm93ID0gbWF0aC5tdWx0aXBseSh0cmFuc2xhdGVCYWNrTWF0cml4LCByb3cpO1xuICAgICAgICAgICAgbmV3Yy5wdXNoKHJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGgubWF0cml4KG5ld2MpO1xuICAgIH1cblxuICAgIHByb2plY3RQZXJzcGVjdGl2ZSh2ZXJ0ZXhlcywgY2VudGVyKSB7XG4gICAgICAgIGxldCBkID0gdGhpcy5jYW1lcmEuejtcblxuICAgICAgICBsZXQgciA9IGQgLyBjZW50ZXJbMV07XG4gICAgICAgIGxldCBwcm9qZWN0ZWRDZW50ZXIgPSBbciAqIGNlbnRlclswXSwgciAqIGNlbnRlclsyXSwgMV07XG5cbiAgICAgICAgbGV0IHRyYW5zbGF0ZUJhY2tNYXRyaXggPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICBbMSwgMCwgdGhpcy5jYW4ud2lkdGggLyAyXSxcbiAgICAgICAgICAgIFswLCAxLCB0aGlzLmNhbi5oZWlnaHQgLyAyXSxcbiAgICAgICAgICAgIFswLCAwLCAxXVxuICAgICAgICBdKTtcblxuXG5cbiAgICAgICAgbGV0IHZzID0gW107XG4gICAgICAgIGZvcihsZXQgcm93IG9mIHZlcnRleGVzLl9kYXRhKSB7XG4gICAgICAgICAgICAvLyByb3cgPSBtYXRoLm11bHRpcGx5KHByb2plY3Rpb25NYXRyaXgsIHJvdyk7XG4gICAgICAgICAgICAvLyByb3cgPSBtYXRoLm11bHRpcGx5KHRyYW5zbGF0ZUNlbnRlck1hdHJpeCwgcm93KTtcbiAgICAgICAgICAgIGxldCB4ID0gZCAqIChyb3dbMF0gLyByb3dbMl0pO1xuICAgICAgICAgICAgbGV0IHkgPSBkICogKHJvd1sxXSAvIHJvd1syXSk7XG4gICAgICAgICAgICByb3cgPSBtYXRoLm1hdHJpeChbeCwgeSwgMV0pO1xuICAgICAgICAgICAgcm93ID0gbWF0aC5tdWx0aXBseSh0cmFuc2xhdGVCYWNrTWF0cml4LCByb3cpO1xuXG4gICAgICAgICAgICAvLyBsZXQgciA9IGQgLyByb3dbMV07XG4gICAgICAgICAgICAvLyByb3cgPSBtYXRoLm1hdHJpeChbXG4gICAgICAgICAgICAvLyAgICAgciAqIHJvd1swXSxcbiAgICAgICAgICAgIC8vICAgICByICogcm93WzJdLFxuICAgICAgICAgICAgLy8gICAgIDFcbiAgICAgICAgICAgIC8vIF0pO1xuICAgICAgICAgICAgLy8gcm93ID0gbWF0aC5tdWx0aXBseSh0cmFuc2xhdGVCYWNrTWF0cml4LCByb3cpO1xuICAgICAgICAgICAgdnMucHVzaChbcm93Ll9kYXRhWzBdLCByb3cuX2RhdGFbMV1dKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdnM7XG4gICAgfVxuXG4gICAgcHJvamVjdE9ydGhvZ3JhcGhpYyh2ZXJ0ZXhlcykge1xuICAgICAgICBsZXQgdnMgPSBbXTtcbiAgICAgICAgZm9yKGxldCB2IG9mIHZlcnRleGVzLl9kYXRhKSB7XG4gICAgICAgICAgICB2cy5wdXNoKFt2WzBdLCB2WzFdXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZzO1xuICAgIH1cblxuICAgIGRyYXdTcXVhcmUoKSB7XG4gICAgICAgIGxldCBzaXplID0gMjAwO1xuICAgICAgICBsZXQgeCA9IHRoaXMubW91c2VYIC0gc2l6ZSAvIDI7XG4gICAgICAgIGxldCB5ID0gdGhpcy5tb3VzZVkgLSBzaXplIC8gMjtcblxuICAgICAgICBsZXQgYyA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFt4LCB5XSxcbiAgICAgICAgICAgIFt4ICsgc2l6ZSwgeV0sXG4gICAgICAgICAgICBbeCArIHNpemUsIHkgKyBzaXplXSxcbiAgICAgICAgICAgIFt4LCB5ICsgc2l6ZV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgYyA9IHRoaXMubWFrZUhvbW9nZW5lb3VzKGMpO1xuXG5cbiAgICAgICAgYyA9IHRoaXMucm90YXRlMmQoYywgdGhpcy5yb3RhdGlvblgpLnRvQXJyYXkoKTtcblxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBcInJnYigyNTUsIDI1NSwgMjU1KVwiO1xuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKGNbMF1bMF0sIGNbMF1bMV0pO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8oY1sxXVswXSwgY1sxXVsxXSk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhjWzJdWzBdLCBjWzJdWzFdKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKGNbM11bMF0sIGNbM11bMV0pO1xuICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgIH1cblxuICAgIG1ha2VIb21vZ2VuZW91cyhjKSB7XG4gICAgICAgIC8vVHJhbnNmb3JtIGNvb3JkaW5hdGUgaW50byBob21vZ2VuZW91cyBjb29yZGluYXRlXG4gICAgICAgIGMucmVzaXplKFtjLnNpemUoKVswXSwgYy5zaXplKClbMV0rMV0sIDEpO1xuICAgICAgICByZXR1cm4gYztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RGVuc2VNYXRyaXh9IGNcbiAgICAgKiBAcGFyYW0gdGhldGFcbiAgICAgKiBAcmV0dXJucyB7RGVuc2VNYXRyaXh9XG4gICAgICovXG4gICAgcm90YXRlMmQoYywgdGhldGEpIHtcbiAgICAgICAgLy9jaGFuZ2UgdGhldGEgaW50byByYWRpYW5zXG4gICAgICAgIHRoZXRhID0gdGhldGEgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgIC8vZmluZCBvdXIgY2VudHJvaWQgZm9yIHRoZSB0cmFuc2xhdGlvbiBtYXRyaXhcbiAgICAgICAgbGV0IGNlbnRlciA9IHRoaXMuZ2V0Q2VudHJvaWQyZChjKS50b0FycmF5KCk7XG5cbiAgICAgICAgbGV0IHJvdGF0aW9uTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgW01hdGguY29zKHRoZXRhKSwgLU1hdGguc2luKHRoZXRhKSwgMF0sXG4gICAgICAgICAgICBbTWF0aC5zaW4odGhldGEpLCBNYXRoLmNvcyh0aGV0YSksIDBdLFxuICAgICAgICAgICAgWzAsIDAsIDFdXG4gICAgICAgIF0pO1xuICAgICAgICBsZXQgdHJhbnNsYXRlQ2VudGVyTWF0cml4ID0gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgWzEsIDAsIC1jZW50ZXJbMF1dLFxuICAgICAgICAgICAgWzAsIDEsIC1jZW50ZXJbMV1dLFxuICAgICAgICAgICAgWzAsIDAsIDFdXG4gICAgICAgIF0pO1xuICAgICAgICBsZXQgdHJhbnNsYXRlQmFja01hdHJpeCA9IG1hdGgubWF0cml4KFtcbiAgICAgICAgICAgIFsxLCAwLCBjZW50ZXJbMF1dLFxuICAgICAgICAgICAgWzAsIDEsIGNlbnRlclsxXV0sXG4gICAgICAgICAgICBbMCwgMCwgMV1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IG5ld2MgPSBbXTtcbiAgICAgICAgZm9yKGxldCByb3cgb2YgYy5fZGF0YSkge1xuICAgICAgICAgICAgbGV0IHRjbSA9IG1hdGgubXVsdGlwbHkodHJhbnNsYXRlQ2VudGVyTWF0cml4LCByb3cpO1xuICAgICAgICAgICAgbGV0IHJtID0gbWF0aC5tdWx0aXBseShyb3RhdGlvbk1hdHJpeCwgdGNtKTtcbiAgICAgICAgICAgIGxldCB0Ym0gPSBtYXRoLm11bHRpcGx5KHRyYW5zbGF0ZUJhY2tNYXRyaXgsIHJtKTtcbiAgICAgICAgICAgIG5ld2MucHVzaCh0Ym0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRoLm1hdHJpeChuZXdjKTtcbiAgICB9XG5cbiAgICBnZXRDZW50cm9pZDJkKHBvaW50cyl7XG4gICAgICAgIGxldCB4ID0gMCwgeSA9IDA7XG4gICAgICAgIGZvcihsZXQgcCBvZiBwb2ludHMuX2RhdGEpIHtcbiAgICAgICAgICAgIHggKz0gcFswXTtcbiAgICAgICAgICAgIHkgKz0gcFsxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0aC5tYXRyaXgoW3ggLyBwb2ludHMuX2RhdGEubGVuZ3RoLCB5IC8gcG9pbnRzLl9kYXRhLmxlbmd0aF0pO1xuICAgIH1cblxuICAgIGdldENlbnRyb2lkM2QocG9pbnRzKXtcbiAgICAgICAgbGV0IHggPSAwLCB5ID0gMCwgeiA9IDA7XG4gICAgICAgIGZvcihsZXQgcCBvZiBwb2ludHMuX2RhdGEpIHtcbiAgICAgICAgICAgIHggKz0gcFswXTtcbiAgICAgICAgICAgIHkgKz0gcFsxXTtcbiAgICAgICAgICAgIHogKz0gcFsyXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0aC5tYXRyaXgoW1xuICAgICAgICAgICAgeCAvIHBvaW50cy5fZGF0YS5sZW5ndGgsXG4gICAgICAgICAgICB5IC8gcG9pbnRzLl9kYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIHogLyBwb2ludHMuX2RhdGEubGVuZ3RoXG4gICAgICAgIF0pO1xuICAgIH1cbn07Il19\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/projective_geometry/Project.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 24f66e82c7fdb53cf861","new class Project {\n\n    constructor() {\n        $(() => {\n            this.can = $(\"#geometry_canvas\")[0];\n            this.ctx = this.can.getContext('2d', {alpha: false});\n            this.can.width = window.innerWidth;\n            this.can.height = window.innerHeight;\n            this.rotationX = Number($(\"#rotationx\").val());\n            this.rotationY = Number($(\"#rotationy\").val());\n            this.rotationZ = Number($(\"#rotationz\").val());\n            this.projection = $(\"#projection\").val();\n            this.boxZ = Number($(\"#boxz\").val());\n            this.mouseX = this.can.width / 2;\n            this.mouseY = this.can.height / 2;\n            this.camera = {\n                x: 0,\n                y: 0,\n                z: Number($(\"#focallength\").val()),\n                rx: 0,\n                ry: 0,\n                rz: 0,\n                width: this.can.width,\n                height: this.can.height,\n                center: {\n                    x: this.can.width / 2,\n                    y: this.can.height / 2\n                }\n            };\n            this.bindEvents();\n            requestAnimationFrame(() => this.draw());\n        });\n    }\n\n    bindEvents() {\n        $(\"#boxz\").change(() => {\n            this.boxZ = Number($(\"#boxz\").val());\n        });\n        $(\"#focallength\").change(() => {\n            this.camera.z = Number($(\"#focallength\").val());\n        });\n        $(\"#projection\").change(() => {\n            this.projection = $(\"#projection\").val();\n        });\n        $(\"#rotationx\").change(() => {\n            this.rotationX = Number($(\"#rotationx\").val());\n        });\n        $(\"#rotationy\").change(() => {\n            this.rotationY = Number($(\"#rotationy\").val());\n        });\n        $(\"#rotationz\").change(() => {\n            this.rotationZ = Number($(\"#rotationz\").val());\n        });\n        $(this.can).on({\n            \"wheel\": (e) => {\n                this.boxZ += e.originalEvent.deltaY;\n            },\n            \"mouseup\": (e) => {\n                this.mouseDown = false;\n            },\n            \"mousedown\": (e) => {\n                this.mouseDown = true;\n                this.mouseStartX = e.originalEvent.clientX;\n                this.mouseStartY = e.originalEvent.clientY;\n                this.mouseStartRotationX = this.rotationX;\n                this.mouseStartRotationY = this.rotationY;\n            },\n            \"mousemove\": (e) => {\n                this.mouseX = e.originalEvent.clientX;\n                this.mouseY = e.originalEvent.clientY;\n\n                if(this.mouseDown) {\n                    this.rotationX = this.mouseStartRotationX + (this.mouseStartX - this.mouseX);\n                    this.rotationY = this.mouseStartRotationY + (this.mouseStartY - this.mouseY);\n                    $(\"#rotationx\").val(this.rotationX);\n                    $(\"#rotationy\").val(this.rotationY);\n                }\n            }\n        });\n    }\n\n    draw() {\n        this.ctx.clearRect(0, 0, this.can.width, this.can.height);\n\n        this.drawSquare();\n        this.drawBox();\n\n        requestAnimationFrame(() => this.draw());\n    }\n\n    drawBox() {\n        let size = 200;\n        let x = this.mouseX;\n        let y = this.mouseY;\n        if(this.projection === \"p\") {\n            x = (this.can.width / 2) - this.mouseX;\n            y = (this.can.height / 2) - this.mouseY;\n        }\n        let z = this.boxZ;\n\n        let c = math.matrix([\n            [x - size, y - size, z - size],\n            [x + size, y - size, z - size],\n            [x + size, y + size, z - size],\n            [x - size, y + size, z - size],\n\n            [x - size, y - size, z + size],\n            [x + size, y - size, z + size],\n            [x + size, y + size, z + size],\n            [x - size, y + size, z + size]\n        ]);\n\n        c = this.makeHomogeneous(c);\n        //find our centroid for the translation matrix\n        let center = this.getCentroid3d(c).toArray();\n\n        c = this.rotate3d(c, center, this.rotationX, this.rotationY, this.rotationZ);\n\n        let v;\n        switch(this.projection) {\n            case \"o\":\n                v = this.projectOrthographic(c);\n                break;\n\n            case \"p\":\n                v = this.projectPerspective(c, center);\n                break;\n        }\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(255, 0, 0)\";\n        this.ctx.moveTo(v[0][0], v[0][1]);\n        this.ctx.lineTo(v[1][0], v[1][1]);\n        this.ctx.lineTo(v[2][0], v[2][1]);\n        this.ctx.lineTo(v[3][0], v[3][1]);\n        this.ctx.lineTo(v[0][0], v[0][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(0, 255, 0)\";\n        this.ctx.moveTo(v[4][0], v[4][1]);\n        this.ctx.lineTo(v[5][0], v[5][1]);\n        this.ctx.lineTo(v[6][0], v[6][1]);\n        this.ctx.lineTo(v[7][0], v[7][1]);\n        this.ctx.lineTo(v[4][0], v[4][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(0, 0, 255)\";\n        this.ctx.moveTo(v[0][0], v[0][1]);\n        this.ctx.lineTo(v[4][0], v[4][1]);\n        this.ctx.lineTo(v[7][0], v[7][1]);\n        this.ctx.lineTo(v[3][0], v[3][1]);\n        this.ctx.lineTo(v[0][0], v[0][1]);\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = \"rgb(255, 255, 255)\";\n        this.ctx.moveTo(v[1][0], v[1][1]);\n        this.ctx.lineTo(v[5][0], v[5][1]);\n        this.ctx.lineTo(v[6][0], v[6][1]);\n        this.ctx.lineTo(v[2][0], v[2][1]);\n        this.ctx.lineTo(v[1][0], v[1][1]);\n        this.ctx.stroke();\n\n    }\n\n    rotate3d(c, center, xRotation, yRotation, zRotation) {\n        //change theta into radians\n        xRotation = xRotation * (Math.PI / 180);\n        yRotation = yRotation * (Math.PI / 180);\n        zRotation = zRotation * (Math.PI / 180);\n\n        let translateCenterMatrix = math.matrix([\n            [1, 0, 0, -center[0]],\n            [0, 1, 0, -center[1]],\n            [0, 0, 1, -center[2]],\n            [0, 0, 0, 1]\n        ]);\n\n        let translateBackMatrix = math.matrix([\n            [1, 0, 0, center[0]],\n            [0, 1, 0, center[1]],\n            [0, 0, 1, center[2]],\n            [0, 0, 0, 1]\n        ]);\n\n        let xRotationMatrix = math.matrix([\n            [1, 0, 0, 0],\n            [0, Math.cos(xRotation), -Math.sin(xRotation), 0],\n            [0, Math.sin(xRotation), Math.cos(xRotation), 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let yRotationMatrix = math.matrix([\n            [Math.cos(yRotation), 0, -Math.sin(yRotation), 0],\n            [0, 1, 0, 0],\n            [Math.sin(yRotation), 0, Math.cos(yRotation), 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let zRotationMatrix = math.matrix([\n            [Math.cos(zRotation), -Math.sin(zRotation), 0, 0],\n            [Math.sin(zRotation), Math.cos(zRotation), 0, 0],\n            [0, 0, 1, 0],\n            [0, 0, 0, 1]\n        ]);\n\n        let newc = [];\n        for(let row of c._data) {\n            row = math.multiply(translateCenterMatrix, row);\n            row = math.multiply(xRotationMatrix, row);\n            row = math.multiply(yRotationMatrix, row);\n            row = math.multiply(zRotationMatrix, row);\n            row = math.multiply(translateBackMatrix, row);\n            newc.push(row);\n        }\n        return math.matrix(newc);\n    }\n\n    projectPerspective(vertexes, center) {\n        let d = this.camera.z;\n\n        let r = d / center[1];\n        let projectedCenter = [r * center[0], r * center[2], 1];\n\n        let translateBackMatrix = math.matrix([\n            [1, 0, this.can.width / 2],\n            [0, 1, this.can.height / 2],\n            [0, 0, 1]\n        ]);\n\n\n\n        let vs = [];\n        for(let row of vertexes._data) {\n            // row = math.multiply(projectionMatrix, row);\n            // row = math.multiply(translateCenterMatrix, row);\n            let x = d * (row[0] / row[2]);\n            let y = d * (row[1] / row[2]);\n            row = math.matrix([x, y, 1]);\n            row = math.multiply(translateBackMatrix, row);\n\n            // let r = d / row[1];\n            // row = math.matrix([\n            //     r * row[0],\n            //     r * row[2],\n            //     1\n            // ]);\n            // row = math.multiply(translateBackMatrix, row);\n            vs.push([row._data[0], row._data[1]]);\n        }\n        return vs;\n    }\n\n    projectOrthographic(vertexes) {\n        let vs = [];\n        for(let v of vertexes._data) {\n            vs.push([v[0], v[1]]);\n        }\n        return vs;\n    }\n\n    drawSquare() {\n        let size = 200;\n        let x = this.mouseX - size / 2;\n        let y = this.mouseY - size / 2;\n\n        let c = math.matrix([\n            [x, y],\n            [x + size, y],\n            [x + size, y + size],\n            [x, y + size]\n        ]);\n\n        c = this.makeHomogeneous(c);\n\n\n        c = this.rotate2d(c, this.rotationX).toArray();\n\n        this.ctx.fillStyle = \"rgb(255, 255, 255)\";\n        this.ctx.beginPath();\n        this.ctx.moveTo(c[0][0], c[0][1]);\n        this.ctx.lineTo(c[1][0], c[1][1]);\n        this.ctx.lineTo(c[2][0], c[2][1]);\n        this.ctx.lineTo(c[3][0], c[3][1]);\n        this.ctx.closePath();\n        this.ctx.fill();\n    }\n\n    makeHomogeneous(c) {\n        //Transform coordinate into homogeneous coordinate\n        c.resize([c.size()[0], c.size()[1]+1], 1);\n        return c;\n    }\n\n    /**\n     *\n     * @param {DenseMatrix} c\n     * @param theta\n     * @returns {DenseMatrix}\n     */\n    rotate2d(c, theta) {\n        //change theta into radians\n        theta = theta * (Math.PI / 180);\n        //find our centroid for the translation matrix\n        let center = this.getCentroid2d(c).toArray();\n\n        let rotationMatrix = math.matrix([\n            [Math.cos(theta), -Math.sin(theta), 0],\n            [Math.sin(theta), Math.cos(theta), 0],\n            [0, 0, 1]\n        ]);\n        let translateCenterMatrix = math.matrix([\n            [1, 0, -center[0]],\n            [0, 1, -center[1]],\n            [0, 0, 1]\n        ]);\n        let translateBackMatrix = math.matrix([\n            [1, 0, center[0]],\n            [0, 1, center[1]],\n            [0, 0, 1]\n        ]);\n\n        let newc = [];\n        for(let row of c._data) {\n            let tcm = math.multiply(translateCenterMatrix, row);\n            let rm = math.multiply(rotationMatrix, tcm);\n            let tbm = math.multiply(translateBackMatrix, rm);\n            newc.push(tbm);\n        }\n        return math.matrix(newc);\n    }\n\n    getCentroid2d(points){\n        let x = 0, y = 0;\n        for(let p of points._data) {\n            x += p[0];\n            y += p[1];\n        }\n        return math.matrix([x / points._data.length, y / points._data.length]);\n    }\n\n    getCentroid3d(points){\n        let x = 0, y = 0, z = 0;\n        for(let p of points._data) {\n            x += p[0];\n            y += p[1];\n            z += p[2];\n        }\n        return math.matrix([\n            x / points._data.length,\n            y / points._data.length,\n            z / points._data.length\n        ]);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/projective_geometry/Project.es6"],"sourceRoot":""}